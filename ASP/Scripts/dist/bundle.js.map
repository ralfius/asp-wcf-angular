{"version":3,"sources":["node_modules/browser-pack/_prelude.js","../Scripts/lib/angular-ui-router.js","../Scripts/src/app.component.js","../Scripts/src/app.js","../Scripts/src/common/controllers/messageArea.controller.js","../Scripts/src/common/controllers/yesNoDialog.controller.js","../Scripts/src/common/directives/capitalize.directive.js","../Scripts/src/common/directives/removeSpaces.directive.js","../Scripts/src/common/directives/unobtrusiveValidatorParse.directive.js","../Scripts/src/common/directives/validateSubmit.directive.js","../Scripts/src/common/services/DialogService.js","../Scripts/src/common/services/DisplayMessageService.js","../Scripts/src/common/services/ErrorProcessingService.js","../Scripts/src/common/services/HttpConnectionService.js","../Scripts/src/users.module/components/userDetails/userDetails.component.js","../Scripts/src/users.module/components/userDetails/userDetails.controller.js","../Scripts/src/users.module/components/users/users.component.js","../Scripts/src/users.module/components/users/users.controller.js","../Scripts/src/users.module/controllers/editUserDialog.controller.js","../Scripts/src/users.module/services/UserService.js","../Scripts/src/users.module/users.module.js"],"names":[],"mappings":"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","file":"bundle.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*!\n * State-based routing for AngularJS\n * @version v1.0.0-beta.1\n * @link https://ui-router.github.io\n * @license MIT License, http://www.opensource.org/licenses/MIT\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"angular-ui-router\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"angular-ui-router\"] = factory();\n\telse\n\t\troot[\"angular-ui-router\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Main entry point for angular 1.x build\n\t * @module ng1\n\t */\n\t/** for typedoc */\n\t\"use strict\";\n\tfunction __export(m) {\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t}\n\t__export(__webpack_require__(1));\n\t__export(__webpack_require__(53));\n\t__export(__webpack_require__(55));\n\t__webpack_require__(58);\n\t__webpack_require__(59);\n\t__webpack_require__(60);\n\t__webpack_require__(61);\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.default = \"ui.router\";\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/** @module common */ /** */\n\t\"use strict\";\n\tfunction __export(m) {\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t}\n\t__export(__webpack_require__(2));\n\t__export(__webpack_require__(46));\n\t__export(__webpack_require__(47));\n\t__export(__webpack_require__(48));\n\t__export(__webpack_require__(49));\n\t__export(__webpack_require__(50));\n\t__export(__webpack_require__(51));\n\t__export(__webpack_require__(52));\n\t__export(__webpack_require__(44));\n\tvar router_1 = __webpack_require__(26);\n\texports.UIRouter = router_1.UIRouter;\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tfunction __export(m) {\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t}\n\t/** @module common */ /** for typedoc */\n\t__export(__webpack_require__(3));\n\t__export(__webpack_require__(6));\n\t__export(__webpack_require__(7));\n\t__export(__webpack_require__(5));\n\t__export(__webpack_require__(4));\n\t__export(__webpack_require__(8));\n\t__export(__webpack_require__(9));\n\t__export(__webpack_require__(12));\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Random utility functions used in the UI-Router code\n\t *\n\t * @preferred @module common\n\t */ /** for typedoc */\n\t\"use strict\";\n\tvar predicates_1 = __webpack_require__(4);\n\tvar hof_1 = __webpack_require__(5);\n\tvar coreservices_1 = __webpack_require__(6);\n\tvar w = typeof window === 'undefined' ? {} : window;\n\tvar angular = w.angular || {};\n\texports.fromJson = angular.fromJson || JSON.parse.bind(JSON);\n\texports.toJson = angular.toJson || JSON.stringify.bind(JSON);\n\texports.copy = angular.copy || _copy;\n\texports.forEach = angular.forEach || _forEach;\n\texports.extend = angular.extend || _extend;\n\texports.equals = angular.equals || _equals;\n\texports.identity = function (x) { return x; };\n\texports.noop = function () { return undefined; };\n\texports.abstractKey = 'abstract';\n\t/**\n\t * Binds and copies functions onto an object\n\t *\n\t * Takes functions from the 'from' object, binds those functions to the _this object, and puts the bound functions\n\t * on the 'to' object.\n\t *\n\t * This example creates an new class instance whose functions are prebound to the new'd object.\n\t * @example\n\t * ```\n\t *\n\t * class Foo {\n\t *   constructor(data) {\n\t *     // Binds all functions from Foo.prototype to 'this',\n\t *     // then copies them to 'this'\n\t *     bindFunctions(Foo.prototype, this, this);\n\t *     this.data = data;\n\t *   }\n\t *\n\t *   log() {\n\t *     console.log(this.data);\n\t *   }\n\t * }\n\t *\n\t * let myFoo = new Foo([1,2,3]);\n\t * var logit = myFoo.log;\n\t * logit(); // logs [1, 2, 3] from the myFoo 'this' instance\n\t * ```\n\t *\n\t * This example creates a bound version of a service function, and copies it to another object\n\t * @example\n\t * ```\n\t *\n\t * var SomeService = {\n\t *   this.data = [3, 4, 5];\n\t *   this.log = function() {\n\t *     console.log(this.data);\n\t *   }\n\t * }\n\t *\n\t * // Constructor fn\n\t * function OtherThing() {\n\t *   // Binds all functions from SomeService to SomeService,\n\t *   // then copies them to 'this'\n\t *   bindFunctions(SomeService, this, SomeService);\n\t * }\n\t *\n\t * let myOtherThing = new OtherThing();\n\t * myOtherThing.log(); // logs [3, 4, 5] from SomeService's 'this'\n\t * ```\n\t *\n\t * @param from The object which contains the functions to be bound\n\t * @param to The object which will receive the bound functions\n\t * @param bindTo The object which the functions will be bound to\n\t * @param fnNames The function names which will be bound (Defaults to all the functions found on the 'from' object)\n\t */\n\tfunction bindFunctions(from, to, bindTo, fnNames) {\n\t    if (fnNames === void 0) { fnNames = Object.keys(from); }\n\t    return fnNames.filter(function (name) { return typeof from[name] === 'function'; })\n\t        .forEach(function (name) { return to[name] = from[name].bind(bindTo); });\n\t}\n\texports.bindFunctions = bindFunctions;\n\t/**\n\t * prototypal inheritance helper.\n\t * Creates a new object which has `parent` object as its prototype, and then copies the properties from `extra` onto it\n\t */\n\texports.inherit = function (parent, extra) {\n\t    return exports.extend(new (exports.extend(function () { }, { prototype: parent }))(), extra);\n\t};\n\t/**\n\t * Given an arguments object, converts the arguments at index idx and above to an array.\n\t * This is similar to es6 rest parameters.\n\t *\n\t * Optionally, the argument at index idx may itself already be an array.\n\t *\n\t * For example,\n\t * given either:\n\t *        arguments = [ obj, \"foo\", \"bar\" ]\n\t * or:\n\t *        arguments = [ obj, [\"foo\", \"bar\"] ]\n\t * then:\n\t *        restArgs(arguments, 1) == [\"foo\", \"bar\"]\n\t *\n\t * This allows functions like pick() to be implemented such that it allows either a bunch\n\t * of string arguments (like es6 rest parameters), or a single array of strings:\n\t *\n\t * given:\n\t *        var obj = { foo: 1, bar: 2, baz: 3 };\n\t * then:\n\t *        pick(obj, \"foo\", \"bar\");   // returns { foo: 1, bar: 2 }\n\t *        pick(obj, [\"foo\", \"bar\"]); // returns { foo: 1, bar: 2 }\n\t */\n\tvar restArgs = function (args, idx) {\n\t    if (idx === void 0) { idx = 0; }\n\t    return Array.prototype.concat.apply(Array.prototype, Array.prototype.slice.call(args, idx));\n\t};\n\t/** Given an array, returns true if the object is found in the array, (using indexOf) */\n\texports.inArray = function (array, obj) { return array.indexOf(obj) !== -1; };\n\t/** Given an array, and an item, if the item is found in the array, it removes it (in-place).  The same array is returned */\n\texports.removeFrom = hof_1.curry(function (array, obj) {\n\t    var idx = array.indexOf(obj);\n\t    if (idx >= 0)\n\t        array.splice(idx, 1);\n\t    return array;\n\t});\n\t/**\n\t * Applies a set of defaults to an options object.  The options object is filtered\n\t * to only those properties of the objects in the defaultsList.\n\t * Earlier objects in the defaultsList take precedence when applying defaults.\n\t */\n\tfunction defaults(opts) {\n\t    if (opts === void 0) { opts = {}; }\n\t    var defaultsList = [];\n\t    for (var _i = 1; _i < arguments.length; _i++) {\n\t        defaultsList[_i - 1] = arguments[_i];\n\t    }\n\t    var defaults = merge.apply(null, [{}].concat(defaultsList));\n\t    return exports.extend({}, defaults, pick(opts || {}, Object.keys(defaults)));\n\t}\n\texports.defaults = defaults;\n\t/**\n\t * Merges properties from the list of objects to the destination object.\n\t * If a property already exists in the destination object, then it is not overwritten.\n\t */\n\tfunction merge(dst) {\n\t    var objs = [];\n\t    for (var _i = 1; _i < arguments.length; _i++) {\n\t        objs[_i - 1] = arguments[_i];\n\t    }\n\t    exports.forEach(objs, function (obj) {\n\t        exports.forEach(obj, function (value, key) {\n\t            if (!dst.hasOwnProperty(key))\n\t                dst[key] = value;\n\t        });\n\t    });\n\t    return dst;\n\t}\n\texports.merge = merge;\n\t/** Reduce function that merges each element of the list into a single object, using extend */\n\texports.mergeR = function (memo, item) { return exports.extend(memo, item); };\n\t/**\n\t * Finds the common ancestor path between two states.\n\t *\n\t * @param {Object} first The first state.\n\t * @param {Object} second The second state.\n\t * @return {Array} Returns an array of state names in descending order, not including the root.\n\t */\n\tfunction ancestors(first, second) {\n\t    var path = [];\n\t    for (var n in first.path) {\n\t        if (first.path[n] !== second.path[n])\n\t            break;\n\t        path.push(first.path[n]);\n\t    }\n\t    return path;\n\t}\n\texports.ancestors = ancestors;\n\t/**\n\t * Performs a non-strict comparison of the subset of two objects, defined by a list of keys.\n\t *\n\t * @param {Object} a The first object.\n\t * @param {Object} b The second object.\n\t * @param {Array} keys The list of keys within each object to compare. If the list is empty or not specified,\n\t *                     it defaults to the list of keys in `a`.\n\t * @return {Boolean} Returns `true` if the keys match, otherwise `false`.\n\t */\n\tfunction equalForKeys(a, b, keys) {\n\t    if (keys === void 0) { keys = Object.keys(a); }\n\t    for (var i = 0; i < keys.length; i++) {\n\t        var k = keys[i];\n\t        if (a[k] != b[k])\n\t            return false; // Not '===', values aren't necessarily normalized\n\t    }\n\t    return true;\n\t}\n\texports.equalForKeys = equalForKeys;\n\tfunction pickOmitImpl(predicate, obj) {\n\t    var objCopy = {}, keys = restArgs(arguments, 2);\n\t    for (var key in obj) {\n\t        if (predicate(keys, key))\n\t            objCopy[key] = obj[key];\n\t    }\n\t    return objCopy;\n\t}\n\t/** Return a copy of the object only containing the whitelisted properties. */\n\tfunction pick(obj) { return pickOmitImpl.apply(null, [exports.inArray].concat(restArgs(arguments))); }\n\texports.pick = pick;\n\t/** Return a copy of the object omitting the blacklisted properties. */\n\tfunction omit(obj) { return pickOmitImpl.apply(null, [hof_1.not(exports.inArray)].concat(restArgs(arguments))); }\n\texports.omit = omit;\n\t/**\n\t * Maps an array, or object to a property (by name)\n\t */\n\tfunction pluck(collection, propName) {\n\t    return map(collection, hof_1.prop(propName));\n\t}\n\texports.pluck = pluck;\n\t/** Filters an Array or an Object's properties based on a predicate */\n\tfunction filter(collection, callback) {\n\t    var arr = predicates_1.isArray(collection), result = arr ? [] : {};\n\t    var accept = arr ? function (x) { return result.push(x); } : function (x, key) { return result[key] = x; };\n\t    exports.forEach(collection, function (item, i) {\n\t        if (callback(item, i))\n\t            accept(item, i);\n\t    });\n\t    return result;\n\t}\n\texports.filter = filter;\n\t/** Finds an object from an array, or a property of an object, that matches a predicate */\n\tfunction find(collection, callback) {\n\t    var result;\n\t    exports.forEach(collection, function (item, i) {\n\t        if (result)\n\t            return;\n\t        if (callback(item, i))\n\t            result = item;\n\t    });\n\t    return result;\n\t}\n\texports.find = find;\n\t/** Given an object, returns a new object, where each property is transformed by the callback function */\n\texports.mapObj = map;\n\t/** Maps an array or object properties using a callback function */\n\tfunction map(collection, callback) {\n\t    var result = predicates_1.isArray(collection) ? [] : {};\n\t    exports.forEach(collection, function (item, i) { return result[i] = callback(item, i); });\n\t    return result;\n\t}\n\texports.map = map;\n\t/**\n\t * Given an object, return its enumerable property values\n\t *\n\t * @example\n\t * ```\n\t *\n\t * let foo = { a: 1, b: 2, c: 3 }\n\t * let vals = values(foo); // [ 1, 2, 3 ]\n\t * ```\n\t */\n\texports.values = function (obj) { return Object.keys(obj).map(function (key) { return obj[key]; }); };\n\t/**\n\t * Reduce function that returns true if all of the values are truthy.\n\t *\n\t * @example\n\t * ```\n\t *\n\t * let vals = [ 1, true, {}, \"hello world\"];\n\t * vals.reduce(allTrueR, true); // true\n\t *\n\t * vals.push(0);\n\t * vals.reduce(allTrueR, true); // false\n\t * ```\n\t */\n\texports.allTrueR = function (memo, elem) { return memo && elem; };\n\t/**\n\t * Reduce function that returns true if any of the values are truthy.\n\t *\n\t *  * @example\n\t * ```\n\t *\n\t * let vals = [ 0, null, undefined ];\n\t * vals.reduce(anyTrueR, true); // false\n\t *\n\t * vals.push(\"hello world\");\n\t * vals.reduce(anyTrueR, true); // true\n\t * ```\n\t */\n\texports.anyTrueR = function (memo, elem) { return memo || elem; };\n\t/**\n\t * Reduce function which un-nests a single level of arrays\n\t * @example\n\t * ```\n\t *\n\t * let input = [ [ \"a\", \"b\" ], [ \"c\", \"d\" ], [ [ \"double\", \"nested\" ] ] ];\n\t * input.reduce(unnestR, []) // [ \"a\", \"b\", \"c\", \"d\", [ \"double, \"nested\" ] ]\n\t * ```\n\t */\n\texports.unnestR = function (memo, elem) { return memo.concat(elem); };\n\t/**\n\t * Reduce function which recursively un-nests all arrays\n\t *\n\t * @example\n\t * ```\n\t *\n\t * let input = [ [ \"a\", \"b\" ], [ \"c\", \"d\" ], [ [ \"double\", \"nested\" ] ] ];\n\t * input.reduce(unnestR, []) // [ \"a\", \"b\", \"c\", \"d\", \"double, \"nested\" ]\n\t * ```\n\t */\n\texports.flattenR = function (memo, elem) { return predicates_1.isArray(elem) ? memo.concat(elem.reduce(exports.flattenR, [])) : pushR(memo, elem); };\n\t/** Reduce function that pushes an object to an array, then returns the array.  Mostly just for [[flattenR]] */\n\tfunction pushR(arr, obj) { arr.push(obj); return arr; }\n\texports.pushR = pushR;\n\t/** Reduce function that filters out duplicates */\n\texports.uniqR = function (acc, token) { return exports.inArray(acc, token) ? acc : pushR(acc, token); };\n\t/**\n\t * Return a new array with a single level of arrays unnested.\n\t *\n\t * @example\n\t * ```\n\t *\n\t * let input = [ [ \"a\", \"b\" ], [ \"c\", \"d\" ], [ [ \"double\", \"nested\" ] ] ];\n\t * unnest(input) // [ \"a\", \"b\", \"c\", \"d\", [ \"double, \"nested\" ] ]\n\t * ```\n\t */\n\texports.unnest = function (arr) { return arr.reduce(exports.unnestR, []); };\n\t/**\n\t * Return a completely flattened version of an array.\n\t *\n\t * @example\n\t * ```\n\t *\n\t * let input = [ [ \"a\", \"b\" ], [ \"c\", \"d\" ], [ [ \"double\", \"nested\" ] ] ];\n\t * flatten(input) // [ \"a\", \"b\", \"c\", \"d\", \"double, \"nested\" ]\n\t * ```\n\t */\n\texports.flatten = function (arr) { return arr.reduce(exports.flattenR, []); };\n\t/**\n\t * Given a .filter Predicate, builds a .filter Predicate which throws an error if any elements do not pass.\n\t * @example\n\t * ```\n\t *\n\t * let isNumber = (obj) => typeof(obj) === 'number';\n\t * let allNumbers = [ 1, 2, 3, 4, 5 ];\n\t * allNumbers.filter(assertPredicate(isNumber)); //OK\n\t *\n\t * let oneString = [ 1, 2, 3, 4, \"5\" ];\n\t * oneString.filter(assertPredicate(isNumber, \"Not all numbers\")); // throws Error(\"\"Not all numbers\"\");\n\t * ```\n\t */\n\tfunction assertPredicate(predicate, errMsg) {\n\t    if (errMsg === void 0) { errMsg = \"assert failure\"; }\n\t    return function (obj) {\n\t        if (!predicate(obj)) {\n\t            throw new Error(predicates_1.isFunction(errMsg) ? errMsg(obj) : errMsg);\n\t        }\n\t        return true;\n\t    };\n\t}\n\texports.assertPredicate = assertPredicate;\n\t/**\n\t * Like _.pairs: Given an object, returns an array of key/value pairs\n\t *\n\t * @example\n\t * ```\n\t *\n\t * pairs({ foo: \"FOO\", bar: \"BAR }) // [ [ \"foo\", \"FOO\" ], [ \"bar\": \"BAR\" ] ]\n\t * ```\n\t */\n\texports.pairs = function (object) { return Object.keys(object).map(function (key) { return [key, object[key]]; }); };\n\t/**\n\t * Given two or more parallel arrays, returns an array of tuples where\n\t * each tuple is composed of [ a[i], b[i], ... z[i] ]\n\t *\n\t * @example\n\t * ```\n\t *\n\t * let foo = [ 0, 2, 4, 6 ];\n\t * let bar = [ 1, 3, 5, 7 ];\n\t * let baz = [ 10, 30, 50, 70 ];\n\t * arrayTuples(foo, bar);       // [ [0, 1], [2, 3], [4, 5], [6, 7] ]\n\t * arrayTuples(foo, bar, baz);  // [ [0, 1, 10], [2, 3, 30], [4, 5, 50], [6, 7, 70] ]\n\t * ```\n\t */\n\tfunction arrayTuples() {\n\t    var arrayArgs = [];\n\t    for (var _i = 0; _i < arguments.length; _i++) {\n\t        arrayArgs[_i - 0] = arguments[_i];\n\t    }\n\t    if (arrayArgs.length === 0)\n\t        return [];\n\t    var length = arrayArgs.reduce(function (min, arr) { return Math.min(arr.length, min); }, 9007199254740991); // aka 2^53 − 1 aka Number.MAX_SAFE_INTEGER\n\t    return Array.apply(null, Array(length)).map(function (ignored, idx) { return arrayArgs.map(function (arr) { return arr[idx]; }); });\n\t}\n\texports.arrayTuples = arrayTuples;\n\t/**\n\t * Reduce function which builds an object from an array of [key, value] pairs.\n\t *\n\t * Each iteration sets the key/val pair on the memo object, then returns the memo for the next iteration.\n\t *\n\t * Each keyValueTuple should be an array with values [ key: string, value: any ]\n\t *\n\t * @example\n\t * ```\n\t *\n\t * var pairs = [ [\"fookey\", \"fooval\"], [\"barkey\", \"barval\"] ]\n\t *\n\t * var pairsToObj = pairs.reduce((memo, pair) => applyPairs(memo, pair), {})\n\t * // pairsToObj == { fookey: \"fooval\", barkey: \"barval\" }\n\t *\n\t * // Or, more simply:\n\t * var pairsToObj = pairs.reduce(applyPairs, {})\n\t * // pairsToObj == { fookey: \"fooval\", barkey: \"barval\" }\n\t * ```\n\t */\n\tfunction applyPairs(memo, keyValTuple) {\n\t    var key, value;\n\t    if (predicates_1.isArray(keyValTuple))\n\t        key = keyValTuple[0], value = keyValTuple[1];\n\t    if (!predicates_1.isString(key))\n\t        throw new Error(\"invalid parameters to applyPairs\");\n\t    memo[key] = value;\n\t    return memo;\n\t}\n\texports.applyPairs = applyPairs;\n\t/** Get the last element of an array */\n\tfunction tail(arr) {\n\t    return arr.length && arr[arr.length - 1] || undefined;\n\t}\n\texports.tail = tail;\n\t/**\n\t * shallow copy from src to dest\n\t *\n\t * note: This is a shallow copy, while angular.copy is a deep copy.\n\t * ui-router uses `copy` only to make copies of state parameters.\n\t */\n\tfunction _copy(src, dest) {\n\t    if (dest)\n\t        Object.keys(dest).forEach(function (key) { return delete dest[key]; });\n\t    if (!dest)\n\t        dest = {};\n\t    return exports.extend(dest, src);\n\t}\n\tfunction _forEach(obj, cb, _this) {\n\t    if (predicates_1.isArray(obj))\n\t        return obj.forEach(cb, _this);\n\t    Object.keys(obj).forEach(function (key) { return cb(obj[key], key); });\n\t}\n\tfunction _copyProps(to, from) { Object.keys(from).forEach(function (key) { return to[key] = from[key]; }); return to; }\n\tfunction _extend(toObj, rest) {\n\t    return restArgs(arguments, 1).filter(exports.identity).reduce(_copyProps, toObj);\n\t}\n\tfunction _equals(o1, o2) {\n\t    if (o1 === o2)\n\t        return true;\n\t    if (o1 === null || o2 === null)\n\t        return false;\n\t    if (o1 !== o1 && o2 !== o2)\n\t        return true; // NaN === NaN\n\t    var t1 = typeof o1, t2 = typeof o2;\n\t    if (t1 !== t2 || t1 !== 'object')\n\t        return false;\n\t    var tup = [o1, o2];\n\t    if (hof_1.all(predicates_1.isArray)(tup))\n\t        return _arraysEq(o1, o2);\n\t    if (hof_1.all(predicates_1.isDate)(tup))\n\t        return o1.getTime() === o2.getTime();\n\t    if (hof_1.all(predicates_1.isRegExp)(tup))\n\t        return o1.toString() === o2.toString();\n\t    if (hof_1.all(predicates_1.isFunction)(tup))\n\t        return true; // meh\n\t    var predicates = [predicates_1.isFunction, predicates_1.isArray, predicates_1.isDate, predicates_1.isRegExp];\n\t    if (predicates.map(hof_1.any).reduce(function (b, fn) { return b || !!fn(tup); }, false))\n\t        return false;\n\t    var key, keys = {};\n\t    for (key in o1) {\n\t        if (!_equals(o1[key], o2[key]))\n\t            return false;\n\t        keys[key] = true;\n\t    }\n\t    for (key in o2) {\n\t        if (!keys[key])\n\t            return false;\n\t    }\n\t    return true;\n\t}\n\tfunction _arraysEq(a1, a2) {\n\t    if (a1.length !== a2.length)\n\t        return false;\n\t    return arrayTuples(a1, a2).reduce(function (b, t) { return b && _equals(t[0], t[1]); }, true);\n\t}\n\t// issue #2676\n\texports.silenceUncaughtInPromise = function (promise) {\n\t    return promise.catch(function (e) { return 0; }) && promise;\n\t};\n\texports.silentRejection = function (error) {\n\t    return exports.silenceUncaughtInPromise(coreservices_1.services.$q.reject(error));\n\t};\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** Predicates @module common_predicates */ /** */\n\tvar hof_1 = __webpack_require__(5);\n\tvar toStr = Object.prototype.toString;\n\tvar tis = function (t) { return function (x) { return typeof (x) === t; }; };\n\texports.isUndefined = tis('undefined');\n\texports.isDefined = hof_1.not(exports.isUndefined);\n\texports.isNull = function (o) { return o === null; };\n\texports.isFunction = tis('function');\n\texports.isNumber = tis('number');\n\texports.isString = tis('string');\n\texports.isObject = function (x) { return x !== null && typeof x === 'object'; };\n\texports.isArray = Array.isArray;\n\texports.isDate = (function (x) { return toStr.call(x) === '[object Date]'; });\n\texports.isRegExp = (function (x) { return toStr.call(x) === '[object RegExp]'; });\n\t/**\n\t * Predicate which checks if a value is injectable\n\t *\n\t * A value is \"injectable\" if it is a function, or if it is an ng1 array-notation-style array\n\t * where all the elements in the array are Strings, except the last one, which is a Function\n\t */\n\tfunction isInjectable(val) {\n\t    if (exports.isArray(val) && val.length) {\n\t        var head = val.slice(0, -1), tail = val.slice(-1);\n\t        return !(head.filter(hof_1.not(exports.isString)).length || tail.filter(hof_1.not(exports.isFunction)).length);\n\t    }\n\t    return exports.isFunction(val);\n\t}\n\texports.isInjectable = isInjectable;\n\t/**\n\t * Predicate which checks if a value looks like a Promise\n\t *\n\t * It is probably a Promise if it's an object, and it has a `then` property which is a Function\n\t */\n\texports.isPromise = hof_1.and(exports.isObject, hof_1.pipe(hof_1.prop('then'), exports.isFunction));\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Higher order functions\n\t *\n\t * @module common_hof\n\t */ /** */\n\t\"use strict\";\n\t/**\n\t * Returns a new function for [Partial Application](https://en.wikipedia.org/wiki/Partial_application) of the original function.\n\t *\n\t * Given a function with N parameters, returns a new function that supports partial application.\n\t * The new function accepts anywhere from 1 to N parameters.  When that function is called with M parameters,\n\t * where M is less than N, it returns a new function that accepts the remaining parameters.  It continues to\n\t * accept more parameters until all N parameters have been supplied.\n\t *\n\t *\n\t * This contrived example uses a partially applied function as an predicate, which returns true\n\t * if an object is found in both arrays.\n\t * @example\n\t * ```\n\t * // returns true if an object is in both of the two arrays\n\t * function inBoth(array1, array2, object) {\n\t *   return array1.indexOf(object) !== -1 &&\n\t *          array2.indexOf(object) !== 1;\n\t * }\n\t * let obj1, obj2, obj3, obj4, obj5, obj6, obj7\n\t * let foos = [obj1, obj3]\n\t * let bars = [obj3, obj4, obj5]\n\t *\n\t * // A curried \"copy\" of inBoth\n\t * let curriedInBoth = curry(inBoth);\n\t * // Partially apply both the array1 and array2\n\t * let inFoosAndBars = curriedInBoth(foos, bars);\n\t *\n\t * // Supply the final argument; since all arguments are\n\t * // supplied, the original inBoth function is then called.\n\t * let obj1InBoth = inFoosAndBars(obj1); // false\n\t *\n\t * // Use the inFoosAndBars as a predicate.\n\t * // Filter, on each iteration, supplies the final argument\n\t * let allObjs = [ obj1, obj2, obj3, obj4, obj5, obj6, obj7 ];\n\t * let foundInBoth = allObjs.filter(inFoosAndBars); // [ obj3 ]\n\t *\n\t * ```\n\t *\n\t * Stolen from: http://stackoverflow.com/questions/4394747/javascript-curry-function\n\t *\n\t * @param fn\n\t * @returns {*|function(): (*|any)}\n\t */\n\tfunction curry(fn) {\n\t    var initial_args = [].slice.apply(arguments, [1]);\n\t    var func_args_length = fn.length;\n\t    function curried(args) {\n\t        if (args.length >= func_args_length)\n\t            return fn.apply(null, args);\n\t        return function () {\n\t            return curried(args.concat([].slice.apply(arguments)));\n\t        };\n\t    }\n\t    return curried(initial_args);\n\t}\n\texports.curry = curry;\n\t/**\n\t * Given a varargs list of functions, returns a function that composes the argument functions, right-to-left\n\t * given: f(x), g(x), h(x)\n\t * let composed = compose(f,g,h)\n\t * then, composed is: f(g(h(x)))\n\t */\n\tfunction compose() {\n\t    var args = arguments;\n\t    var start = args.length - 1;\n\t    return function () {\n\t        var i = start, result = args[start].apply(this, arguments);\n\t        while (i--)\n\t            result = args[i].call(this, result);\n\t        return result;\n\t    };\n\t}\n\texports.compose = compose;\n\t/**\n\t * Given a varargs list of functions, returns a function that is composes the argument functions, left-to-right\n\t * given: f(x), g(x), h(x)\n\t * let piped = pipe(f,g,h);\n\t * then, piped is: h(g(f(x)))\n\t */\n\tfunction pipe() {\n\t    var funcs = [];\n\t    for (var _i = 0; _i < arguments.length; _i++) {\n\t        funcs[_i - 0] = arguments[_i];\n\t    }\n\t    return compose.apply(null, [].slice.call(arguments).reverse());\n\t}\n\texports.pipe = pipe;\n\t/**\n\t * Given a property name, returns a function that returns that property from an object\n\t * let obj = { foo: 1, name: \"blarg\" };\n\t * let getName = prop(\"name\");\n\t * getName(obj) === \"blarg\"\n\t */\n\texports.prop = function (name) { return function (obj) { return obj && obj[name]; }; };\n\t/**\n\t * Given a property name and a value, returns a function that returns a boolean based on whether\n\t * the passed object has a property that matches the value\n\t * let obj = { foo: 1, name: \"blarg\" };\n\t * let getName = propEq(\"name\", \"blarg\");\n\t * getName(obj) === true\n\t */\n\texports.propEq = curry(function (name, val, obj) { return obj && obj[name] === val; });\n\t/**\n\t * Given a dotted property name, returns a function that returns a nested property from an object, or undefined\n\t * let obj = { id: 1, nestedObj: { foo: 1, name: \"blarg\" }, };\n\t * let getName = prop(\"nestedObj.name\");\n\t * getName(obj) === \"blarg\"\n\t * let propNotFound = prop(\"this.property.doesnt.exist\");\n\t * propNotFound(obj) === undefined\n\t */\n\texports.parse = function (name) { return pipe.apply(null, name.split(\".\").map(exports.prop)); };\n\t/**\n\t * Given a function that returns a truthy or falsey value, returns a\n\t * function that returns the opposite (falsey or truthy) value given the same inputs\n\t */\n\texports.not = function (fn) { return function () {\n\t    var args = [];\n\t    for (var _i = 0; _i < arguments.length; _i++) {\n\t        args[_i - 0] = arguments[_i];\n\t    }\n\t    return !fn.apply(null, args);\n\t}; };\n\t/**\n\t * Given two functions that return truthy or falsey values, returns a function that returns truthy\n\t * if both functions return truthy for the given arguments\n\t */\n\tfunction and(fn1, fn2) {\n\t    return function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i - 0] = arguments[_i];\n\t        }\n\t        return fn1.apply(null, args) && fn2.apply(null, args);\n\t    };\n\t}\n\texports.and = and;\n\t/**\n\t * Given two functions that return truthy or falsey values, returns a function that returns truthy\n\t * if at least one of the functions returns truthy for the given arguments\n\t */\n\tfunction or(fn1, fn2) {\n\t    return function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i - 0] = arguments[_i];\n\t        }\n\t        return fn1.apply(null, args) || fn2.apply(null, args);\n\t    };\n\t}\n\texports.or = or;\n\t/**\n\t * Check if all the elements of an array match a predicate function\n\t *\n\t * @param fn1 a predicate function `fn1`\n\t * @returns a function which takes an array and returns true if `fn1` is true for all elements of the array\n\t */\n\texports.all = function (fn1) { return function (arr) { return arr.reduce(function (b, x) { return b && !!fn1(x); }, true); }; };\n\texports.any = function (fn1) { return function (arr) { return arr.reduce(function (b, x) { return b || !!fn1(x); }, false); }; };\n\texports.none = exports.not(exports.any);\n\t/** Given a class, returns a Predicate function that returns true if the object is of that class */\n\texports.is = function (ctor) { return function (obj) { return (obj != null && obj.constructor === ctor || obj instanceof ctor); }; };\n\t/** Given a value, returns a Predicate function that returns true if another value is === equal to the original value */\n\texports.eq = function (val) { return function (other) { return val === other; }; };\n\t/** Given a value, returns a function which returns the value */\n\texports.val = function (v) { return function () { return v; }; };\n\tfunction invoke(fnName, args) {\n\t    return function (obj) { return obj[fnName].apply(obj, args); };\n\t}\n\texports.invoke = invoke;\n\t/**\n\t * Sorta like Pattern Matching (a functional programming conditional construct)\n\t *\n\t * See http://c2.com/cgi/wiki?PatternMatching\n\t *\n\t * This is a conditional construct which allows a series of predicates and output functions\n\t * to be checked and then applied.  Each predicate receives the input.  If the predicate\n\t * returns truthy, then its matching output function (mapping function) is provided with\n\t * the input and, then the result is returned.\n\t *\n\t * Each combination (2-tuple) of predicate + output function should be placed in an array\n\t * of size 2: [ predicate, mapFn ]\n\t *\n\t * These 2-tuples should be put in an outer array.\n\t *\n\t * @example\n\t * ```\n\t *\n\t * // Here's a 2-tuple where the first element is the isString predicate\n\t * // and the second element is a function that returns a description of the input\n\t * let firstTuple = [ angular.isString, (input) => `Heres your string ${input}` ];\n\t *\n\t * // Second tuple: predicate \"isNumber\", mapfn returns a description\n\t * let secondTuple = [ angular.isNumber, (input) => `(${input}) That's a number!` ];\n\t *\n\t * let third = [ (input) => input === null,  (input) => `Oh, null...` ];\n\t *\n\t * let fourth = [ (input) => input === undefined,  (input) => `notdefined` ];\n\t *\n\t * let descriptionOf = pattern([ firstTuple, secondTuple, third, fourth ]);\n\t *\n\t * console.log(descriptionOf(undefined)); // 'notdefined'\n\t * console.log(descriptionOf(55)); // '(55) That's a number!'\n\t * console.log(descriptionOf(\"foo\")); // 'Here's your string foo'\n\t * ```\n\t *\n\t * @param struct A 2D array.  Each element of the array should be an array, a 2-tuple,\n\t * with a Predicate and a mapping/output function\n\t * @returns {function(any): *}\n\t */\n\tfunction pattern(struct) {\n\t    return function (x) {\n\t        for (var i = 0; i < struct.length; i++) {\n\t            if (struct[i][0](x))\n\t                return struct[i][1](x);\n\t        }\n\t    };\n\t}\n\texports.pattern = pattern;\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t/**\n\t * This module is a stub for core services such as Dependency Injection or Browser Location.\n\t * Core services may be implemented by a specific framework, such as ng1 or ng2, or be pure javascript.\n\t *\n\t * @module common\n\t */\n\t\"use strict\";\n\t/** for typedoc */\n\t//import {IQService} from \"angular\";\n\t//import {IInjectorService} from \"angular\";\n\tvar notImplemented = function (fnname) { return function () {\n\t    throw new Error(fnname + \"(): No coreservices implementation for UI-Router is loaded. You should include one of: ['angular1.js']\");\n\t}; };\n\tvar services = {\n\t    $q: undefined,\n\t    $injector: undefined,\n\t    location: {},\n\t    locationConfig: {},\n\t    template: {}\n\t};\n\texports.services = services;\n\t[\"replace\", \"url\", \"path\", \"search\", \"hash\", \"onChange\"]\n\t    .forEach(function (key) { return services.location[key] = notImplemented(key); });\n\t[\"port\", \"protocol\", \"host\", \"baseHref\", \"html5Mode\", \"hashPrefix\"]\n\t    .forEach(function (key) { return services.locationConfig[key] = notImplemented(key); });\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t/** @module common */\n\t/**\n\t * Matches state names using glob-like patterns.\n\t *\n\t * See: [[StateService.includes]]\n\t */\n\tvar Glob = (function () {\n\t    function Glob(text) {\n\t        this.text = text;\n\t        this.glob = text.split('.');\n\t    }\n\t    Glob.prototype.matches = function (name) {\n\t        var segments = name.split('.');\n\t        // match single stars\n\t        for (var i = 0, l = this.glob.length; i < l; i++) {\n\t            if (this.glob[i] === '*')\n\t                segments[i] = '*';\n\t        }\n\t        // match greedy starts\n\t        if (this.glob[0] === '**') {\n\t            segments = segments.slice(segments.indexOf(this.glob[1]));\n\t            segments.unshift('**');\n\t        }\n\t        // match greedy ends\n\t        if (this.glob[this.glob.length - 1] === '**') {\n\t            segments.splice(segments.indexOf(this.glob[this.glob.length - 2]) + 1, Number.MAX_VALUE);\n\t            segments.push('**');\n\t        }\n\t        if (this.glob.length != segments.length)\n\t            return false;\n\t        return segments.join('') === this.glob.join('');\n\t    };\n\t    Glob.is = function (text) {\n\t        return text.indexOf('*') > -1;\n\t    };\n\t    Glob.fromString = function (text) {\n\t        if (!this.is(text))\n\t            return null;\n\t        return new Glob(text);\n\t    };\n\t    return Glob;\n\t}());\n\texports.Glob = Glob;\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t/** @module common */ /** for typedoc */\n\t\"use strict\";\n\tvar Queue = (function () {\n\t    function Queue(_items, _limit) {\n\t        if (_items === void 0) { _items = []; }\n\t        if (_limit === void 0) { _limit = null; }\n\t        this._items = _items;\n\t        this._limit = _limit;\n\t    }\n\t    Queue.prototype.enqueue = function (item) {\n\t        var items = this._items;\n\t        items.push(item);\n\t        if (this._limit && items.length > this._limit)\n\t            items.shift();\n\t        return item;\n\t    };\n\t    Queue.prototype.dequeue = function () {\n\t        if (this.size())\n\t            return this._items.splice(0, 1)[0];\n\t    };\n\t    Queue.prototype.clear = function () {\n\t        var current = this._items;\n\t        this._items = [];\n\t        return current;\n\t    };\n\t    Queue.prototype.size = function () {\n\t        return this._items.length;\n\t    };\n\t    Queue.prototype.remove = function (item) {\n\t        var idx = this._items.indexOf(item);\n\t        return idx > -1 && this._items.splice(idx, 1)[0];\n\t    };\n\t    Queue.prototype.peekTail = function () {\n\t        return this._items[this._items.length - 1];\n\t    };\n\t    Queue.prototype.peekHead = function () {\n\t        if (this.size())\n\t            return this._items[0];\n\t    };\n\t    return Queue;\n\t}());\n\texports.Queue = Queue;\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/** @module common_strings */ /** */\n\t\"use strict\";\n\tvar predicates_1 = __webpack_require__(4);\n\tvar rejectFactory_1 = __webpack_require__(10);\n\tvar common_1 = __webpack_require__(3);\n\tvar hof_1 = __webpack_require__(5);\n\tvar transition_1 = __webpack_require__(11);\n\tvar resolvable_1 = __webpack_require__(19);\n\t/**\n\t * Returns a string shortened to a maximum length\n\t *\n\t * If the string is already less than the `max` length, return the string.\n\t * Else return the string, shortened to `max - 3` and append three dots (\"...\").\n\t *\n\t * @param max the maximum length of the string to return\n\t * @param str the input string\n\t */\n\tfunction maxLength(max, str) {\n\t    if (str.length <= max)\n\t        return str;\n\t    return str.substr(0, max - 3) + \"...\";\n\t}\n\texports.maxLength = maxLength;\n\t/**\n\t * Returns a string, with spaces added to the end, up to a desired str length\n\t *\n\t * If the string is already longer than the desired length, return the string.\n\t * Else returns the string, with extra spaces on the end, such that it reaches `length` characters.\n\t *\n\t * @param length the desired length of the string to return\n\t * @param str the input string\n\t */\n\tfunction padString(length, str) {\n\t    while (str.length < length)\n\t        str += \" \";\n\t    return str;\n\t}\n\texports.padString = padString;\n\tfunction kebobString(camelCase) {\n\t    return camelCase\n\t        .replace(/^([A-Z])/, function ($1) { return $1.toLowerCase(); }) // replace first char\n\t        .replace(/([A-Z])/g, function ($1) { return \"-\" + $1.toLowerCase(); }); // replace rest\n\t}\n\texports.kebobString = kebobString;\n\tfunction _toJson(obj) {\n\t    return JSON.stringify(obj);\n\t}\n\tfunction _fromJson(json) {\n\t    return predicates_1.isString(json) ? JSON.parse(json) : json;\n\t}\n\tfunction promiseToString(p) {\n\t    return \"Promise(\" + JSON.stringify(p) + \")\";\n\t}\n\tfunction functionToString(fn) {\n\t    var fnStr = fnToString(fn);\n\t    var namedFunctionMatch = fnStr.match(/^(function [^ ]+\\([^)]*\\))/);\n\t    return namedFunctionMatch ? namedFunctionMatch[1] : fnStr;\n\t}\n\texports.functionToString = functionToString;\n\tfunction fnToString(fn) {\n\t    var _fn = predicates_1.isArray(fn) ? fn.slice(-1)[0] : fn;\n\t    return _fn && _fn.toString() || \"undefined\";\n\t}\n\texports.fnToString = fnToString;\n\tvar stringifyPatternFn = null;\n\tvar stringifyPattern = function (value) {\n\t    var isTransitionRejectionPromise = rejectFactory_1.Rejection.isTransitionRejectionPromise;\n\t    stringifyPatternFn = stringifyPatternFn || hof_1.pattern([\n\t        [hof_1.not(predicates_1.isDefined), hof_1.val(\"undefined\")],\n\t        [predicates_1.isNull, hof_1.val(\"null\")],\n\t        [predicates_1.isPromise, hof_1.val(\"[Promise]\")],\n\t        [isTransitionRejectionPromise, function (x) { return x._transitionRejection.toString(); }],\n\t        [hof_1.is(rejectFactory_1.Rejection), hof_1.invoke(\"toString\")],\n\t        [hof_1.is(transition_1.Transition), hof_1.invoke(\"toString\")],\n\t        [hof_1.is(resolvable_1.Resolvable), hof_1.invoke(\"toString\")],\n\t        [predicates_1.isInjectable, functionToString],\n\t        [hof_1.val(true), common_1.identity]\n\t    ]);\n\t    return stringifyPatternFn(value);\n\t};\n\tfunction stringify(o) {\n\t    var seen = [];\n\t    function format(val) {\n\t        if (predicates_1.isObject(val)) {\n\t            if (seen.indexOf(val) !== -1)\n\t                return '[circular ref]';\n\t            seen.push(val);\n\t        }\n\t        return stringifyPattern(val);\n\t    }\n\t    return JSON.stringify(o, function (key, val) { return format(val); }).replace(/\\\\\"/g, '\"');\n\t}\n\texports.stringify = stringify;\n\t/** Returns a function that splits a string on a character or substring */\n\texports.beforeAfterSubstr = function (char) { return function (str) {\n\t    if (!str)\n\t        return [\"\", \"\"];\n\t    var idx = str.indexOf(char);\n\t    if (idx === -1)\n\t        return [str, \"\"];\n\t    return [str.substr(0, idx), str.substr(idx + 1)];\n\t}; };\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/** @module transition */ /** for typedoc */\n\t\"use strict\";\n\tvar common_1 = __webpack_require__(3);\n\tvar strings_1 = __webpack_require__(9);\n\t(function (RejectType) {\n\t    RejectType[RejectType[\"SUPERSEDED\"] = 2] = \"SUPERSEDED\";\n\t    RejectType[RejectType[\"ABORTED\"] = 3] = \"ABORTED\";\n\t    RejectType[RejectType[\"INVALID\"] = 4] = \"INVALID\";\n\t    RejectType[RejectType[\"IGNORED\"] = 5] = \"IGNORED\";\n\t    RejectType[RejectType[\"ERROR\"] = 6] = \"ERROR\";\n\t})(exports.RejectType || (exports.RejectType = {}));\n\tvar RejectType = exports.RejectType;\n\tvar Rejection = (function () {\n\t    function Rejection(type, message, detail) {\n\t        this.type = type;\n\t        this.message = message;\n\t        this.detail = detail;\n\t    }\n\t    Rejection.prototype.toString = function () {\n\t        var detailString = function (d) { return d && d.toString !== Object.prototype.toString ? d.toString() : strings_1.stringify(d); };\n\t        var type = this.type, message = this.message, detail = detailString(this.detail);\n\t        return \"TransitionRejection(type: \" + type + \", message: \" + message + \", detail: \" + detail + \")\";\n\t    };\n\t    Rejection.prototype.toPromise = function () {\n\t        return common_1.extend(common_1.silentRejection(this), { _transitionRejection: this });\n\t    };\n\t    /** Returns true if the obj is a rejected promise created from the `asPromise` factory */\n\t    Rejection.isTransitionRejectionPromise = function (obj) {\n\t        return obj && (typeof obj.then === 'function') && obj._transitionRejection instanceof Rejection;\n\t    };\n\t    /** Returns a TransitionRejection due to transition superseded */\n\t    Rejection.superseded = function (detail, options) {\n\t        var message = \"The transition has been superseded by a different transition (see detail).\";\n\t        var rejection = new Rejection(RejectType.SUPERSEDED, message, detail);\n\t        if (options && options.redirected) {\n\t            rejection.redirected = true;\n\t        }\n\t        return rejection;\n\t    };\n\t    /** Returns a TransitionRejection due to redirected transition */\n\t    Rejection.redirected = function (detail) {\n\t        return Rejection.superseded(detail, { redirected: true });\n\t    };\n\t    /** Returns a TransitionRejection due to invalid transition */\n\t    Rejection.invalid = function (detail) {\n\t        var message = \"This transition is invalid (see detail)\";\n\t        return new Rejection(RejectType.INVALID, message, detail);\n\t    };\n\t    /** Returns a TransitionRejection due to ignored transition */\n\t    Rejection.ignored = function (detail) {\n\t        var message = \"The transition was ignored.\";\n\t        return new Rejection(RejectType.IGNORED, message, detail);\n\t    };\n\t    /** Returns a TransitionRejection due to aborted transition */\n\t    Rejection.aborted = function (detail) {\n\t        // TODO think about how to encapsulate an Error() object\n\t        var message = \"The transition has been aborted.\";\n\t        return new Rejection(RejectType.ABORTED, message, detail);\n\t    };\n\t    /** Returns a TransitionRejection due to aborted transition */\n\t    Rejection.errored = function (detail) {\n\t        // TODO think about how to encapsulate an Error() object\n\t        var message = \"The transition errored.\";\n\t        return new Rejection(RejectType.ERROR, message, detail);\n\t    };\n\t    return Rejection;\n\t}());\n\texports.Rejection = Rejection;\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module transition */ /** for typedoc */\n\tvar trace_1 = __webpack_require__(12);\n\tvar coreservices_1 = __webpack_require__(6);\n\tvar common_1 = __webpack_require__(3);\n\tvar predicates_1 = __webpack_require__(4);\n\tvar hof_1 = __webpack_require__(5);\n\tvar transitionHook_1 = __webpack_require__(13);\n\tvar hookRegistry_1 = __webpack_require__(15);\n\tvar hookBuilder_1 = __webpack_require__(16);\n\tvar node_1 = __webpack_require__(21);\n\tvar pathFactory_1 = __webpack_require__(20);\n\tvar targetState_1 = __webpack_require__(14);\n\tvar param_1 = __webpack_require__(22);\n\tvar resolvable_1 = __webpack_require__(19);\n\tvar rejectFactory_1 = __webpack_require__(10);\n\tvar resolveContext_1 = __webpack_require__(17);\n\tvar router_1 = __webpack_require__(26);\n\tvar transitionCount = 0;\n\tvar stateSelf = hof_1.prop(\"self\");\n\t/**\n\t * Represents a transition between two states.\n\t *\n\t * When navigating to a state, we are transitioning **from** the current state **to** the new state.\n\t *\n\t * This object contains all contextual information about the to/from states, parameters, resolves.\n\t * It has information about all states being entered and exited as a result of the transition.\n\t */\n\tvar Transition = (function () {\n\t    /**\n\t     * Creates a new Transition object.\n\t     *\n\t     * If the target state is not valid, an error is thrown.\n\t     *\n\t     * @param fromPath The path of [[PathNode]]s from which the transition is leaving.  The last node in the `fromPath`\n\t     *        encapsulates the \"from state\".\n\t     * @param targetState The target state and parameters being transitioned to (also, the transition options)\n\t     * @param router The [[UIRouter]] instance\n\t     */\n\t    function Transition(fromPath, targetState, router) {\n\t        var _this = this;\n\t        /** @hidden */\n\t        this._deferred = coreservices_1.services.$q.defer();\n\t        /**\n\t         * This promise is resolved or rejected based on the outcome of the Transition.\n\t         *\n\t         * When the transition is successful, the promise is resolved\n\t         * When the transition is unsuccessful, the promise is rejected with the [[TransitionRejection]] or javascript error\n\t         */\n\t        this.promise = this._deferred.promise;\n\t        this.treeChanges = function () { return _this._treeChanges; };\n\t        this.isActive = function () { return _this === _this._options.current(); };\n\t        this.router = router;\n\t        if (!targetState.valid()) {\n\t            throw new Error(targetState.error());\n\t        }\n\t        // Makes the Transition instance a hook registry (onStart, etc)\n\t        hookRegistry_1.HookRegistry.mixin(new hookRegistry_1.HookRegistry(), this);\n\t        // current() is assumed to come from targetState.options, but provide a naive implementation otherwise.\n\t        this._options = common_1.extend({ current: hof_1.val(this) }, targetState.options());\n\t        this.$id = transitionCount++;\n\t        var toPath = pathFactory_1.PathFactory.buildToPath(fromPath, targetState);\n\t        this._treeChanges = pathFactory_1.PathFactory.treeChanges(fromPath, toPath, this._options.reloadState);\n\t        var enteringStates = this._treeChanges.entering.map(function (node) { return node.state; });\n\t        pathFactory_1.PathFactory.applyViewConfigs(router.transitionService.$view, this._treeChanges.to, enteringStates);\n\t        var rootResolvables = [\n\t            new resolvable_1.Resolvable(router_1.UIRouter, function () { return router; }, [], undefined, router),\n\t            new resolvable_1.Resolvable(Transition, function () { return _this; }, [], undefined, this),\n\t            new resolvable_1.Resolvable('$transition$', function () { return _this; }, [], undefined, this),\n\t            new resolvable_1.Resolvable('$stateParams', function () { return _this.params(); }, [], undefined, this.params())\n\t        ];\n\t        var rootNode = this._treeChanges.to[0];\n\t        var context = new resolveContext_1.ResolveContext(this._treeChanges.to);\n\t        context.addResolvables(rootResolvables, rootNode.state);\n\t    }\n\t    /** @inheritdoc */\n\t    Transition.prototype.onBefore = function (matchCriteria, callback, options) { throw \"\"; };\n\t    ;\n\t    /** @inheritdoc */\n\t    Transition.prototype.onStart = function (matchCriteria, callback, options) { throw \"\"; };\n\t    ;\n\t    /** @inheritdoc */\n\t    Transition.prototype.onExit = function (matchCriteria, callback, options) { throw \"\"; };\n\t    ;\n\t    /** @inheritdoc */\n\t    Transition.prototype.onRetain = function (matchCriteria, callback, options) { throw \"\"; };\n\t    ;\n\t    /** @inheritdoc */\n\t    Transition.prototype.onEnter = function (matchCriteria, callback, options) { throw \"\"; };\n\t    ;\n\t    /** @inheritdoc */\n\t    Transition.prototype.onFinish = function (matchCriteria, callback, options) { throw \"\"; };\n\t    ;\n\t    /** @inheritdoc */\n\t    Transition.prototype.onSuccess = function (matchCriteria, callback, options) { throw \"\"; };\n\t    ;\n\t    /** @inheritdoc */\n\t    Transition.prototype.onError = function (matchCriteria, callback, options) { throw \"\"; };\n\t    ;\n\t    Transition.prototype.$from = function () {\n\t        return common_1.tail(this._treeChanges.from).state;\n\t    };\n\t    Transition.prototype.$to = function () {\n\t        return common_1.tail(this._treeChanges.to).state;\n\t    };\n\t    /**\n\t     * Returns the \"from state\"\n\t     *\n\t     * @returns The state object for the Transition's \"from state\".\n\t     */\n\t    Transition.prototype.from = function () {\n\t        return this.$from().self;\n\t    };\n\t    /**\n\t     * Returns the \"to state\"\n\t     *\n\t     * @returns The state object for the Transition's target state (\"to state\").\n\t     */\n\t    Transition.prototype.to = function () {\n\t        return this.$to().self;\n\t    };\n\t    /**\n\t     * Determines whether two transitions are equivalent.\n\t     */\n\t    Transition.prototype.is = function (compare) {\n\t        if (compare instanceof Transition) {\n\t            // TODO: Also compare parameters\n\t            return this.is({ to: compare.$to().name, from: compare.$from().name });\n\t        }\n\t        return !((compare.to && !hookRegistry_1.matchState(this.$to(), compare.to)) ||\n\t            (compare.from && !hookRegistry_1.matchState(this.$from(), compare.from)));\n\t    };\n\t    /**\n\t     * Gets transition parameter values\n\t     *\n\t     * @param pathname Pick which treeChanges path to get parameters for:\n\t     *   (`'to'`, `'from'`, `'entering'`, `'exiting'`, `'retained'`)\n\t     * @returns transition parameter values for the desired path.\n\t     */\n\t    Transition.prototype.params = function (pathname) {\n\t        if (pathname === void 0) { pathname = \"to\"; }\n\t        return this._treeChanges[pathname].map(hof_1.prop(\"paramValues\")).reduce(common_1.mergeR, {});\n\t    };\n\t    /**\n\t     * Creates a [[UIInjector]] Dependency Injector\n\t     *\n\t     * Returns a Dependency Injector for the Transition's target state (to state).\n\t     * The injector provides resolve values which the target state has access to.\n\t     *\n\t     * The `UIInjector` can also provide values from the native root/global injector (ng1/ng2).\n\t     *\n\t     * If a `state` is provided, the injector that is returned will be limited to resolve values that the provided state has access to.\n\t     *\n\t     * @param state Limits the resolves provided to only the resolves the provided state has access to.\n\t     * @returns a [[UIInjector]]\n\t     */\n\t    Transition.prototype.injector = function (state) {\n\t        var path = this.treeChanges().to;\n\t        if (state)\n\t            path = pathFactory_1.PathFactory.subPath(path, function (node) { return node.state === state || node.state.name === state; });\n\t        return new resolveContext_1.ResolveContext(path).injector();\n\t    };\n\t    /**\n\t     * Gets all available resolve tokens (keys)\n\t     *\n\t     * This method can be used in conjunction with [[getResolve]] to inspect the resolve values\n\t     * available to the Transition.\n\t     *\n\t     * The returned tokens include those defined on [[StateDeclaration.resolve]] blocks, for the states\n\t     * in the Transition's [[TreeChanges.to]] path.\n\t     *\n\t     * @returns an array of resolve tokens (keys)\n\t     */\n\t    Transition.prototype.getResolveTokens = function () {\n\t        return new resolveContext_1.ResolveContext(this._treeChanges.to).getTokens();\n\t    };\n\t    /**\n\t     * Gets resolved values\n\t     *\n\t     * This method can be used in conjunction with [[getResolveTokens]] to inspect what resolve values\n\t     * are available to the Transition.\n\t     *\n\t     * Given a token, returns the resolved data for that token.\n\t     * Given an array of tokens, returns an array of resolved data for those tokens.\n\t     *\n\t     * If a resolvable hasn't yet been fetched, returns `undefined` for that token\n\t     * If a resolvable doesn't exist for the token, throws an error.\n\t     *\n\t     * @param token the token (or array of tokens)\n\t     *\n\t     * @returns an array of resolve tokens (keys)\n\t     */\n\t    Transition.prototype.getResolveValue = function (token) {\n\t        var resolveContext = new resolveContext_1.ResolveContext(this._treeChanges.to);\n\t        var getData = function (token) {\n\t            var resolvable = resolveContext.getResolvable(token);\n\t            if (resolvable === undefined) {\n\t                throw new Error(\"Dependency Injection token not found: ${stringify(token)}\");\n\t            }\n\t            return resolvable.data;\n\t        };\n\t        if (predicates_1.isArray(token)) {\n\t            return token.map(getData);\n\t        }\n\t        return getData(token);\n\t    };\n\t    /**\n\t     * Dynamically adds a new [[Resolvable]] (`resolve`) to this transition.\n\t     *\n\t     * @param resolvable an [[Resolvable]] object\n\t     * @param state the state in the \"to path\" which should receive the new resolve (otherwise, the root state)\n\t     */\n\t    Transition.prototype.addResolvable = function (resolvable, state) {\n\t        if (state === void 0) { state = \"\"; }\n\t        var stateName = (typeof state === \"string\") ? state : state.name;\n\t        var topath = this._treeChanges.to;\n\t        var targetNode = common_1.find(topath, function (node) { return node.state.name === stateName; });\n\t        var resolveContext = new resolveContext_1.ResolveContext(topath);\n\t        resolveContext.addResolvables([resolvable], targetNode.state);\n\t    };\n\t    /**\n\t     * Gets the previous transition, from which this transition was redirected.\n\t     *\n\t     * @returns The previous Transition, or null if this Transition is not the result of a redirection\n\t     */\n\t    Transition.prototype.previous = function () {\n\t        return this._options.previous || null;\n\t    };\n\t    /**\n\t     * Get the transition options\n\t     *\n\t     * @returns the options for this Transition.\n\t     */\n\t    Transition.prototype.options = function () {\n\t        return this._options;\n\t    };\n\t    /**\n\t     * Gets the states being entered.\n\t     *\n\t     * @returns an array of states that will be entered during this transition.\n\t     */\n\t    Transition.prototype.entering = function () {\n\t        return common_1.map(this._treeChanges.entering, hof_1.prop('state')).map(stateSelf);\n\t    };\n\t    /**\n\t     * Gets the states being exited.\n\t     *\n\t     * @returns an array of states that will be exited during this transition.\n\t     */\n\t    Transition.prototype.exiting = function () {\n\t        return common_1.map(this._treeChanges.exiting, hof_1.prop('state')).map(stateSelf).reverse();\n\t    };\n\t    /**\n\t     * Gets the states being retained.\n\t     *\n\t     * @returns an array of states that are already entered from a previous Transition, that will not be\n\t     *    exited during this Transition\n\t     */\n\t    Transition.prototype.retained = function () {\n\t        return common_1.map(this._treeChanges.retained, hof_1.prop('state')).map(stateSelf);\n\t    };\n\t    /**\n\t     * Get the [[ViewConfig]]s associated with this Transition\n\t     *\n\t     * Each state can define one or more views (template/controller), which are encapsulated as `ViewConfig` objects.\n\t     * This method fetches the `ViewConfigs` for a given path in the Transition (e.g., \"to\" or \"entering\").\n\t     *\n\t     * @param pathname the name of the path to fetch views for:\n\t     *   (`'to'`, `'from'`, `'entering'`, `'exiting'`, `'retained'`)\n\t     * @param state If provided, only returns the `ViewConfig`s for a single state in the path\n\t     *\n\t     * @returns a list of ViewConfig objects for the given path.\n\t     */\n\t    Transition.prototype.views = function (pathname, state) {\n\t        if (pathname === void 0) { pathname = \"entering\"; }\n\t        var path = this._treeChanges[pathname];\n\t        path = !state ? path : path.filter(hof_1.propEq('state', state));\n\t        return path.map(hof_1.prop(\"views\")).filter(common_1.identity).reduce(common_1.unnestR, []);\n\t    };\n\t    /**\n\t     * Creates a new transition that is a redirection of the current one.\n\t     *\n\t     * This transition can be returned from a [[TransitionService]] hook to\n\t     * redirect a transition to a new state and/or set of parameters.\n\t     *\n\t     * @returns Returns a new [[Transition]] instance.\n\t     */\n\t    Transition.prototype.redirect = function (targetState) {\n\t        var newOptions = common_1.extend({}, this.options(), targetState.options(), { previous: this });\n\t        targetState = new targetState_1.TargetState(targetState.identifier(), targetState.$state(), targetState.params(), newOptions);\n\t        var newTransition = this.router.transitionService.create(this._treeChanges.from, targetState);\n\t        var originalEnteringNodes = this.treeChanges().entering;\n\t        var redirectEnteringNodes = newTransition.treeChanges().entering;\n\t        // --- Re-use resolve data from original transition ---\n\t        // When redirecting from a parent state to a child state where the parent parameter values haven't changed\n\t        // (because of the redirect), the resolves fetched by the original transition are still valid in the\n\t        // redirected transition.\n\t        //\n\t        // This allows you to define a redirect on a parent state which depends on an async resolve value.\n\t        // You can wait for the resolve, then redirect to a child state based on the result.\n\t        // The redirected transition does not have to re-fetch the resolve.\n\t        // ---------------------------------------------------------\n\t        var nodeIsReloading = function (reloadState) { return function (node) {\n\t            return reloadState && node.state.includes[reloadState.name];\n\t        }; };\n\t        // Find any \"entering\" nodes in the redirect path that match the original path and aren't being reloaded\n\t        var matchingEnteringNodes = node_1.PathNode.matching(redirectEnteringNodes, originalEnteringNodes)\n\t            .filter(hof_1.not(nodeIsReloading(targetState.options().reloadState)));\n\t        // Use the existing (possibly pre-resolved) resolvables for the matching entering nodes.\n\t        matchingEnteringNodes.forEach(function (node, idx) {\n\t            node.resolvables = originalEnteringNodes[idx].resolvables;\n\t        });\n\t        return newTransition;\n\t    };\n\t    /** @hidden If a transition doesn't exit/enter any states, returns any [[Param]] whose value changed */\n\t    Transition.prototype._changedParams = function () {\n\t        var _a = this._treeChanges, to = _a.to, from = _a.from;\n\t        if (this._options.reload || common_1.tail(to).state !== common_1.tail(from).state)\n\t            return undefined;\n\t        var nodeSchemas = to.map(function (node) { return node.paramSchema; });\n\t        var _b = [to, from].map(function (path) { return path.map(function (x) { return x.paramValues; }); }), toValues = _b[0], fromValues = _b[1];\n\t        var tuples = common_1.arrayTuples(nodeSchemas, toValues, fromValues);\n\t        return tuples.map(function (_a) {\n\t            var schema = _a[0], toVals = _a[1], fromVals = _a[2];\n\t            return param_1.Param.changed(schema, toVals, fromVals);\n\t        }).reduce(common_1.unnestR, []);\n\t    };\n\t    /**\n\t     * Returns true if the transition is dynamic.\n\t     *\n\t     * A transition is dynamic if no states are entered nor exited, but at least one dynamic parameter has changed.\n\t     *\n\t     * @returns true if the Transition is dynamic\n\t     */\n\t    Transition.prototype.dynamic = function () {\n\t        var changes = this._changedParams();\n\t        return !changes ? false : changes.map(function (x) { return x.dynamic; }).reduce(common_1.anyTrueR, false);\n\t    };\n\t    /**\n\t     * Returns true if the transition is ignored.\n\t     *\n\t     * A transition is ignored if no states are entered nor exited, and no parameter values have changed.\n\t     *\n\t     * @returns true if the Transition is ignored.\n\t     */\n\t    Transition.prototype.ignored = function () {\n\t        var changes = this._changedParams();\n\t        return !changes ? false : changes.length === 0;\n\t    };\n\t    /**\n\t     * @hidden\n\t     */\n\t    Transition.prototype.hookBuilder = function () {\n\t        return new hookBuilder_1.HookBuilder(this.router.transitionService, this, {\n\t            transition: this,\n\t            current: this._options.current\n\t        });\n\t    };\n\t    /**\n\t     * Runs the transition\n\t     *\n\t     * This method is generally called from the [[StateService.transitionTo]]\n\t     *\n\t     * @returns a promise for a successful transition.\n\t     */\n\t    Transition.prototype.run = function () {\n\t        var _this = this;\n\t        var runSynchronousHooks = transitionHook_1.TransitionHook.runSynchronousHooks;\n\t        var hookBuilder = this.hookBuilder();\n\t        var globals = this.router.globals;\n\t        globals.transitionHistory.enqueue(this);\n\t        var syncResult = runSynchronousHooks(hookBuilder.getOnBeforeHooks());\n\t        if (rejectFactory_1.Rejection.isTransitionRejectionPromise(syncResult)) {\n\t            syncResult.catch(function () { return 0; }); // issue #2676\n\t            var rejectReason = syncResult._transitionRejection;\n\t            this._deferred.reject(rejectReason);\n\t            return this.promise;\n\t        }\n\t        if (!this.valid()) {\n\t            var error = new Error(this.error());\n\t            this._deferred.reject(error);\n\t            return this.promise;\n\t        }\n\t        if (this.ignored()) {\n\t            trace_1.trace.traceTransitionIgnored(this);\n\t            this._deferred.reject(rejectFactory_1.Rejection.ignored());\n\t            return this.promise;\n\t        }\n\t        // When the chain is complete, then resolve or reject the deferred\n\t        var transitionSuccess = function () {\n\t            trace_1.trace.traceSuccess(_this.$to(), _this);\n\t            _this.success = true;\n\t            _this._deferred.resolve(_this.to());\n\t            runSynchronousHooks(hookBuilder.getOnSuccessHooks(), true);\n\t        };\n\t        var transitionError = function (error) {\n\t            trace_1.trace.traceError(error, _this);\n\t            _this.success = false;\n\t            _this._deferred.reject(error);\n\t            runSynchronousHooks(hookBuilder.getOnErrorHooks(), true);\n\t        };\n\t        trace_1.trace.traceTransitionStart(this);\n\t        // Chain the next hook off the previous\n\t        var appendHookToChain = function (prev, nextHook) {\n\t            return prev.then(function () { return nextHook.invokeHook(); });\n\t        };\n\t        // Run the hooks, then resolve or reject the overall deferred in the .then() handler\n\t        hookBuilder.asyncHooks()\n\t            .reduce(appendHookToChain, syncResult)\n\t            .then(transitionSuccess, transitionError);\n\t        return this.promise;\n\t    };\n\t    /**\n\t     * Checks if the Transition is valid\n\t     *\n\t     * @returns true if the Transition is valid\n\t     */\n\t    Transition.prototype.valid = function () {\n\t        return !this.error();\n\t    };\n\t    /**\n\t     * The reason the Transition is invalid\n\t     *\n\t     * @returns an error message explaining why the transition is invalid\n\t     */\n\t    Transition.prototype.error = function () {\n\t        var state = this.$to();\n\t        if (state.self[common_1.abstractKey])\n\t            return \"Cannot transition to abstract state '\" + state.name + \"'\";\n\t        if (!param_1.Param.validates(state.parameters(), this.params()))\n\t            return \"Param values not valid for state '\" + state.name + \"'\";\n\t    };\n\t    /**\n\t     * A string representation of the Transition\n\t     *\n\t     * @returns A string representation of the Transition\n\t     */\n\t    Transition.prototype.toString = function () {\n\t        var fromStateOrName = this.from();\n\t        var toStateOrName = this.to();\n\t        var avoidEmptyHash = function (params) {\n\t            return (params[\"#\"] !== null && params[\"#\"] !== undefined) ? params : common_1.omit(params, \"#\");\n\t        };\n\t        // (X) means the to state is invalid.\n\t        var id = this.$id, from = predicates_1.isObject(fromStateOrName) ? fromStateOrName.name : fromStateOrName, fromParams = common_1.toJson(avoidEmptyHash(this._treeChanges.from.map(hof_1.prop('paramValues')).reduce(common_1.mergeR, {}))), toValid = this.valid() ? \"\" : \"(X) \", to = predicates_1.isObject(toStateOrName) ? toStateOrName.name : toStateOrName, toParams = common_1.toJson(avoidEmptyHash(this.params()));\n\t        return \"Transition#\" + id + \"( '\" + from + \"'\" + fromParams + \" -> \" + toValid + \"'\" + to + \"'\" + toParams + \" )\";\n\t    };\n\t    Transition.diToken = Transition;\n\t    return Transition;\n\t}());\n\texports.Transition = Transition;\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/**\n\t * UI-Router Transition Tracing\n\t *\n\t * Enable transition tracing to print transition information to the console, in order to help debug your application.\n\t * Tracing logs detailed information about each Transition to your console.\n\t *\n\t * To enable tracing, import the [[trace]] singleton and enable one or more categories.\n\t *\n\t * ES6\n\t * ```\n\t *\n\t * import {trace} from \"ui-router-ng2\"; // or \"angular-ui-router\"\n\t * trace.enable(1, 5); // TRANSITION and VIEWCONFIG\n\t * ```\n\t *\n\t * CJS\n\t * ```\n\t *\n\t * let trace = require(\"angular-ui-router\").trace; // or \"ui-router-ng2\"\n\t * trace.enable(\"TRANSITION\", \"VIEWCONFIG\");\n\t * ```\n\t *\n\t * Globals\n\t * ```\n\t *\n\t * let trace = window[\"angular-ui-router\"].trace; // or \"ui-router-ng2\"\n\t * trace.enable(); // Trace everything (very verbose)\n\t * ```\n\t *\n\t * @module trace\n\t */ /** for typedoc */\n\tvar hof_1 = __webpack_require__(5);\n\tvar predicates_1 = __webpack_require__(4);\n\tvar strings_1 = __webpack_require__(9);\n\t/** @hidden */\n\tfunction uiViewString(viewData) {\n\t    if (!viewData)\n\t        return 'ui-view (defunct)';\n\t    return (\"[ui-view#\" + viewData.id + \" tag \") +\n\t        (\"in template from '\" + (viewData.creationContext && viewData.creationContext.name || '(root)') + \"' state]: \") +\n\t        (\"fqn: '\" + viewData.fqn + \"', \") +\n\t        (\"name: '\" + viewData.name + \"@\" + viewData.creationContext + \"')\");\n\t}\n\t/** @hidden */\n\tvar viewConfigString = function (viewConfig) {\n\t    return (\"[ViewConfig#\" + viewConfig.$id + \" from '\" + (viewConfig.viewDecl.$context.name || '(root)') + \"' state]: target ui-view: '\" + viewConfig.viewDecl.$uiViewName + \"@\" + viewConfig.viewDecl.$uiViewContextAnchor + \"'\");\n\t};\n\t/** @hidden */\n\tfunction normalizedCat(input) {\n\t    return predicates_1.isNumber(input) ? Category[input] : Category[Category[input]];\n\t}\n\t/**\n\t * Trace categories\n\t *\n\t * [[Trace.enable]] or [[Trace.disable]] a category\n\t *\n\t * `trace.enable(Category.TRANSITION)`\n\t *\n\t * These can also be provided using a matching string, or position ordinal\n\t *\n\t * `trace.enable(\"TRANSITION\")`\n\t *\n\t * `trace.enable(1)`\n\t */\n\t(function (Category) {\n\t    Category[Category[\"RESOLVE\"] = 0] = \"RESOLVE\";\n\t    Category[Category[\"TRANSITION\"] = 1] = \"TRANSITION\";\n\t    Category[Category[\"HOOK\"] = 2] = \"HOOK\";\n\t    Category[Category[\"INVOKE\"] = 3] = \"INVOKE\";\n\t    Category[Category[\"UIVIEW\"] = 4] = \"UIVIEW\";\n\t    Category[Category[\"VIEWCONFIG\"] = 5] = \"VIEWCONFIG\";\n\t})(exports.Category || (exports.Category = {}));\n\tvar Category = exports.Category;\n\t/**\n\t * Prints UI-Router Transition trace information to the console.\n\t */\n\tvar Trace = (function () {\n\t    function Trace() {\n\t        /** @hidden */\n\t        this._enabled = {};\n\t        this.approximateDigests = 0;\n\t    }\n\t    /** @hidden */\n\t    Trace.prototype._set = function (enabled, categories) {\n\t        var _this = this;\n\t        if (!categories.length) {\n\t            categories = Object.keys(Category)\n\t                .filter(function (k) { return isNaN(parseInt(k, 10)); })\n\t                .map(function (key) { return Category[key]; });\n\t        }\n\t        categories.map(normalizedCat).forEach(function (category) { return _this._enabled[category] = enabled; });\n\t    };\n\t    /**\n\t     * Enables a trace [[Category]]\n\t     *\n\t     * ```\n\t     * trace.enable(\"TRANSITION\");\n\t     * ```\n\t     *\n\t     * @param categories categories to enable. If `categories` is omitted, all categories are enabled.\n\t     *        Also takes strings (category name) or ordinal (category position)\n\t     */\n\t    Trace.prototype.enable = function () {\n\t        var categories = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            categories[_i - 0] = arguments[_i];\n\t        }\n\t        this._set(true, categories);\n\t    };\n\t    /**\n\t     * Disables a trace [[Category]]\n\t     *\n\t     * ```\n\t     * trace.disable(\"VIEWCONFIG\");\n\t     * ```\n\t     *\n\t     * @param categories categories to disable. If `categories` is omitted, all categories are disabled.\n\t     *        Also takes strings (category name) or ordinal (category position)\n\t     */\n\t    Trace.prototype.disable = function () {\n\t        var categories = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            categories[_i - 0] = arguments[_i];\n\t        }\n\t        this._set(false, categories);\n\t    };\n\t    /**\n\t     * Retrieves the enabled stateus of a [[Category]]\n\t     *\n\t     * ```\n\t     * trace.enabled(\"VIEWCONFIG\"); // true or false\n\t     * ```\n\t     *\n\t     * @returns boolean true if the category is enabled\n\t     */\n\t    Trace.prototype.enabled = function (category) {\n\t        return !!this._enabled[normalizedCat(category)];\n\t    };\n\t    /** called by ui-router code */\n\t    Trace.prototype.traceTransitionStart = function (transition) {\n\t        if (!this.enabled(Category.TRANSITION))\n\t            return;\n\t        var tid = transition.$id, digest = this.approximateDigests, transitionStr = strings_1.stringify(transition);\n\t        console.log(\"Transition #\" + tid + \" Digest #\" + digest + \": Started  -> \" + transitionStr);\n\t    };\n\t    /** called by ui-router code */\n\t    Trace.prototype.traceTransitionIgnored = function (trans) {\n\t        if (!this.enabled(Category.TRANSITION))\n\t            return;\n\t        var tid = trans && trans.$id, digest = this.approximateDigests, transitionStr = strings_1.stringify(trans);\n\t        console.log(\"Transition #\" + tid + \" Digest #\" + digest + \": Ignored  <> \" + transitionStr);\n\t    };\n\t    /** called by ui-router code */\n\t    Trace.prototype.traceHookInvocation = function (step, options) {\n\t        if (!this.enabled(Category.HOOK))\n\t            return;\n\t        var tid = hof_1.parse(\"transition.$id\")(options), digest = this.approximateDigests, event = hof_1.parse(\"traceData.hookType\")(options) || \"internal\", context = hof_1.parse(\"traceData.context.state.name\")(options) || hof_1.parse(\"traceData.context\")(options) || \"unknown\", name = strings_1.functionToString(step.fn);\n\t        console.log(\"Transition #\" + tid + \" Digest #\" + digest + \":   Hook -> \" + event + \" context: \" + context + \", \" + strings_1.maxLength(200, name));\n\t    };\n\t    /** called by ui-router code */\n\t    Trace.prototype.traceHookResult = function (hookResult, transitionResult, transitionOptions) {\n\t        if (!this.enabled(Category.HOOK))\n\t            return;\n\t        var tid = hof_1.parse(\"transition.$id\")(transitionOptions), digest = this.approximateDigests, hookResultStr = strings_1.stringify(hookResult), transitionResultStr = strings_1.stringify(transitionResult);\n\t        console.log(\"Transition #\" + tid + \" Digest #\" + digest + \":   <- Hook returned: \" + strings_1.maxLength(200, hookResultStr) + \", transition result: \" + strings_1.maxLength(200, transitionResultStr));\n\t    };\n\t    /** called by ui-router code */\n\t    Trace.prototype.traceResolvePath = function (path, when, trans) {\n\t        if (!this.enabled(Category.RESOLVE))\n\t            return;\n\t        var tid = trans && trans.$id, digest = this.approximateDigests, pathStr = path && path.toString();\n\t        console.log(\"Transition #\" + tid + \" Digest #\" + digest + \":         Resolving \" + pathStr + \" (\" + when + \")\");\n\t    };\n\t    /** called by ui-router code */\n\t    Trace.prototype.traceResolvableResolved = function (resolvable, trans) {\n\t        if (!this.enabled(Category.RESOLVE))\n\t            return;\n\t        var tid = trans && trans.$id, digest = this.approximateDigests, resolvableStr = resolvable && resolvable.toString(), result = strings_1.stringify(resolvable.data);\n\t        console.log(\"Transition #\" + tid + \" Digest #\" + digest + \":               <- Resolved  \" + resolvableStr + \" to: \" + strings_1.maxLength(200, result));\n\t    };\n\t    /** called by ui-router code */\n\t    Trace.prototype.traceError = function (error, trans) {\n\t        if (!this.enabled(Category.TRANSITION))\n\t            return;\n\t        var tid = trans && trans.$id, digest = this.approximateDigests, transitionStr = strings_1.stringify(trans);\n\t        console.log(\"Transition #\" + tid + \" Digest #\" + digest + \": <- Rejected \" + transitionStr + \", reason: \" + error);\n\t    };\n\t    /** called by ui-router code */\n\t    Trace.prototype.traceSuccess = function (finalState, trans) {\n\t        if (!this.enabled(Category.TRANSITION))\n\t            return;\n\t        var tid = trans && trans.$id, digest = this.approximateDigests, state = finalState.name, transitionStr = strings_1.stringify(trans);\n\t        console.log(\"Transition #\" + tid + \" Digest #\" + digest + \": <- Success  \" + transitionStr + \", final state: \" + state);\n\t    };\n\t    /** called by ui-router code */\n\t    Trace.prototype.traceUIViewEvent = function (event, viewData, extra) {\n\t        if (extra === void 0) { extra = \"\"; }\n\t        if (!this.enabled(Category.UIVIEW))\n\t            return;\n\t        console.log(\"ui-view: \" + strings_1.padString(30, event) + \" \" + uiViewString(viewData) + extra);\n\t    };\n\t    /** called by ui-router code */\n\t    Trace.prototype.traceUIViewConfigUpdated = function (viewData, context) {\n\t        if (!this.enabled(Category.UIVIEW))\n\t            return;\n\t        this.traceUIViewEvent(\"Updating\", viewData, \" with ViewConfig from context='\" + context + \"'\");\n\t    };\n\t    /** called by ui-router code */\n\t    Trace.prototype.traceUIViewScopeCreated = function (viewData, newScope) {\n\t        if (!this.enabled(Category.UIVIEW))\n\t            return;\n\t        this.traceUIViewEvent(\"Created scope for\", viewData, \", scope #\" + newScope.$id);\n\t    };\n\t    /** called by ui-router code */\n\t    Trace.prototype.traceUIViewFill = function (viewData, html) {\n\t        if (!this.enabled(Category.UIVIEW))\n\t            return;\n\t        this.traceUIViewEvent(\"Fill\", viewData, \" with: \" + strings_1.maxLength(200, html));\n\t    };\n\t    /** called by ui-router code */\n\t    Trace.prototype.traceViewServiceEvent = function (event, viewConfig) {\n\t        if (!this.enabled(Category.VIEWCONFIG))\n\t            return;\n\t        console.log(\"VIEWCONFIG: \" + event + \" \" + viewConfigString(viewConfig));\n\t    };\n\t    /** called by ui-router code */\n\t    Trace.prototype.traceViewServiceUIViewEvent = function (event, viewData) {\n\t        if (!this.enabled(Category.VIEWCONFIG))\n\t            return;\n\t        console.log(\"VIEWCONFIG: \" + event + \" \" + uiViewString(viewData));\n\t    };\n\t    return Trace;\n\t}());\n\texports.Trace = Trace;\n\t/**\n\t * The [[Trace]] singleton\n\t *\n\t * @example\n\t * ```js\n\t *\n\t * import {trace} from \"angular-ui-router\";\n\t * trace.enable(1, 5);\n\t * ```\n\t */\n\tvar trace = new Trace();\n\texports.trace = trace;\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar common_1 = __webpack_require__(3);\n\tvar strings_1 = __webpack_require__(9);\n\tvar predicates_1 = __webpack_require__(4);\n\tvar hof_1 = __webpack_require__(5);\n\tvar trace_1 = __webpack_require__(12);\n\tvar coreservices_1 = __webpack_require__(6);\n\tvar rejectFactory_1 = __webpack_require__(10);\n\tvar targetState_1 = __webpack_require__(14);\n\tvar defaultOptions = {\n\t    async: true,\n\t    rejectIfSuperseded: true,\n\t    current: common_1.noop,\n\t    transition: null,\n\t    traceData: {},\n\t    bind: null\n\t};\n\t/** @hidden */\n\tvar TransitionHook = (function () {\n\t    function TransitionHook(transition, stateContext, hookFn, resolveContext, options) {\n\t        var _this = this;\n\t        this.transition = transition;\n\t        this.stateContext = stateContext;\n\t        this.hookFn = hookFn;\n\t        this.resolveContext = resolveContext;\n\t        this.options = options;\n\t        this.isSuperseded = function () { return _this.options.current() !== _this.options.transition; };\n\t        this.options = common_1.defaults(options, defaultOptions);\n\t    }\n\t    TransitionHook.prototype.invokeHook = function () {\n\t        var _a = this, options = _a.options, hookFn = _a.hookFn, resolveContext = _a.resolveContext;\n\t        trace_1.trace.traceHookInvocation(this, options);\n\t        if (options.rejectIfSuperseded && this.isSuperseded()) {\n\t            return rejectFactory_1.Rejection.superseded(options.current()).toPromise();\n\t        }\n\t        var hookResult = hookFn.call(options.bind, this.transition, this.stateContext);\n\t        return this.handleHookResult(hookResult);\n\t    };\n\t    /**\n\t     * This method handles the return value of a Transition Hook.\n\t     *\n\t     * A hook can return false, a redirect (TargetState), or a promise (which may resolve to false or a redirect)\n\t     */\n\t    TransitionHook.prototype.handleHookResult = function (hookResult) {\n\t        var _this = this;\n\t        if (!predicates_1.isDefined(hookResult))\n\t            return undefined;\n\t        /**\n\t         * Handles transition superseded, transition aborted and transition redirect.\n\t         */\n\t        var mapHookResult = hof_1.pattern([\n\t            // Transition is no longer current\n\t            [this.isSuperseded, function () { return rejectFactory_1.Rejection.superseded(_this.options.current()).toPromise(); }],\n\t            // If the hook returns false, abort the current Transition\n\t            [hof_1.eq(false), function () { return rejectFactory_1.Rejection.aborted(\"Hook aborted transition\").toPromise(); }],\n\t            // If the hook returns a Transition, halt the current Transition and redirect to that Transition.\n\t            [hof_1.is(targetState_1.TargetState), function (target) { return rejectFactory_1.Rejection.redirected(target).toPromise(); }],\n\t            // A promise was returned, wait for the promise and then chain another hookHandler\n\t            [predicates_1.isPromise, function (promise) { return promise.then(_this.handleHookResult.bind(_this)); }]\n\t        ]);\n\t        var transitionResult = mapHookResult(hookResult);\n\t        if (transitionResult)\n\t            trace_1.trace.traceHookResult(hookResult, transitionResult, this.options);\n\t        return transitionResult;\n\t    };\n\t    TransitionHook.prototype.toString = function () {\n\t        var _a = this, options = _a.options, hookFn = _a.hookFn;\n\t        var event = hof_1.parse(\"traceData.hookType\")(options) || \"internal\", context = hof_1.parse(\"traceData.context.state.name\")(options) || hof_1.parse(\"traceData.context\")(options) || \"unknown\", name = strings_1.fnToString(hookFn);\n\t        return event + \" context: \" + context + \", \" + strings_1.maxLength(200, name);\n\t    };\n\t    /**\n\t     * Given an array of TransitionHooks, runs each one synchronously and sequentially.\n\t     *\n\t     * Returns a promise chain composed of any promises returned from each hook.invokeStep() call\n\t     */\n\t    TransitionHook.runSynchronousHooks = function (hooks, swallowExceptions) {\n\t        if (swallowExceptions === void 0) { swallowExceptions = false; }\n\t        var results = [];\n\t        for (var i = 0; i < hooks.length; i++) {\n\t            try {\n\t                results.push(hooks[i].invokeHook());\n\t            }\n\t            catch (exception) {\n\t                if (!swallowExceptions) {\n\t                    return rejectFactory_1.Rejection.errored(exception).toPromise();\n\t                }\n\t                console.error(\"Swallowed exception during synchronous hook handler: \" + exception); // TODO: What to do here?\n\t            }\n\t        }\n\t        var rejections = results.filter(rejectFactory_1.Rejection.isTransitionRejectionPromise);\n\t        if (rejections.length)\n\t            return rejections[0];\n\t        return results\n\t            .filter(predicates_1.isPromise)\n\t            .reduce(function (chain, promise) { return chain.then(hof_1.val(promise)); }, coreservices_1.services.$q.when());\n\t    };\n\t    return TransitionHook;\n\t}());\n\texports.TransitionHook = TransitionHook;\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t/** @module state */ /** for typedoc */\n\t\"use strict\";\n\t/**\n\t * @ngdoc object\n\t * @name ui.router.state.type:TargetState\n\t *\n\t * @description\n\t * Encapsulate the desired target of a transition.\n\t * Wraps an identifier for a state, a set of parameters, and transition options with the definition of the state.\n\t *\n\t * @param {StateOrName} _identifier  An identifier for a state. Either a fully-qualified path, or the object\n\t *            used to define the state.\n\t * @param {IState} _definition The `State` object definition.\n\t * @param {ParamsOrArray} _params Parameters for the target state\n\t * @param {TransitionOptions} _options Transition options.\n\t */\n\tvar TargetState = (function () {\n\t    function TargetState(_identifier, _definition, _params, _options) {\n\t        if (_params === void 0) { _params = {}; }\n\t        if (_options === void 0) { _options = {}; }\n\t        this._identifier = _identifier;\n\t        this._definition = _definition;\n\t        this._options = _options;\n\t        this._params = _params || {};\n\t    }\n\t    TargetState.prototype.name = function () {\n\t        return this._definition && this._definition.name || this._identifier;\n\t    };\n\t    TargetState.prototype.identifier = function () {\n\t        return this._identifier;\n\t    };\n\t    TargetState.prototype.params = function () {\n\t        return this._params;\n\t    };\n\t    TargetState.prototype.$state = function () {\n\t        return this._definition;\n\t    };\n\t    TargetState.prototype.state = function () {\n\t        return this._definition && this._definition.self;\n\t    };\n\t    TargetState.prototype.options = function () {\n\t        return this._options;\n\t    };\n\t    TargetState.prototype.exists = function () {\n\t        return !!(this._definition && this._definition.self);\n\t    };\n\t    TargetState.prototype.valid = function () {\n\t        return !this.error();\n\t    };\n\t    TargetState.prototype.error = function () {\n\t        var base = this.options().relative;\n\t        if (!this._definition && !!base) {\n\t            var stateName = base.name ? base.name : base;\n\t            return \"Could not resolve '\" + this.name() + \"' from state '\" + stateName + \"'\";\n\t        }\n\t        if (!this._definition)\n\t            return \"No such state '\" + this.name() + \"'\";\n\t        if (!this._definition.self)\n\t            return \"State '\" + this.name() + \"' has an invalid definition\";\n\t    };\n\t    return TargetState;\n\t}());\n\texports.TargetState = TargetState;\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module transition */ /** for typedoc */\n\tvar common_1 = __webpack_require__(3);\n\tvar predicates_1 = __webpack_require__(4);\n\tvar glob_1 = __webpack_require__(7);\n\t/**\n\t * Determines if the given state matches the matchCriteria\n\t *\n\t * @hidden\n\t *\n\t * @param state a State Object to test against\n\t * @param criterion\n\t * - If a string, matchState uses the string as a glob-matcher against the state name\n\t * - If an array (of strings), matchState uses each string in the array as a glob-matchers against the state name\n\t *   and returns a positive match if any of the globs match.\n\t * - If a function, matchState calls the function with the state and returns true if the function's result is truthy.\n\t * @returns {boolean}\n\t */\n\tfunction matchState(state, criterion) {\n\t    var toMatch = predicates_1.isString(criterion) ? [criterion] : criterion;\n\t    function matchGlobs(_state) {\n\t        var globStrings = toMatch;\n\t        for (var i = 0; i < globStrings.length; i++) {\n\t            var glob = glob_1.Glob.fromString(globStrings[i]);\n\t            if ((glob && glob.matches(_state.name)) || (!glob && globStrings[i] === _state.name)) {\n\t                return true;\n\t            }\n\t        }\n\t        return false;\n\t    }\n\t    var matchFn = (predicates_1.isFunction(toMatch) ? toMatch : matchGlobs);\n\t    return !!matchFn(state);\n\t}\n\texports.matchState = matchState;\n\t/** @hidden */\n\tvar EventHook = (function () {\n\t    function EventHook(matchCriteria, callback, options) {\n\t        if (options === void 0) { options = {}; }\n\t        this.callback = callback;\n\t        this.matchCriteria = common_1.extend({ to: true, from: true, exiting: true, retained: true, entering: true }, matchCriteria);\n\t        this.priority = options.priority || 0;\n\t        this.bind = options.bind || null;\n\t    }\n\t    EventHook._matchingNodes = function (nodes, criterion) {\n\t        if (criterion === true)\n\t            return nodes;\n\t        var matching = nodes.filter(function (node) { return matchState(node.state, criterion); });\n\t        return matching.length ? matching : null;\n\t    };\n\t    /**\n\t     * Determines if this hook's [[matchCriteria]] match the given [[TreeChanges]]\n\t     *\n\t     * @returns an IMatchingNodes object, or null. If an IMatchingNodes object is returned, its values\n\t     * are the matching [[PathNode]]s for each [[HookMatchCriterion]] (to, from, exiting, retained, entering)\n\t     */\n\t    EventHook.prototype.matches = function (treeChanges) {\n\t        var mc = this.matchCriteria, _matchingNodes = EventHook._matchingNodes;\n\t        var matches = {\n\t            to: _matchingNodes([common_1.tail(treeChanges.to)], mc.to),\n\t            from: _matchingNodes([common_1.tail(treeChanges.from)], mc.from),\n\t            exiting: _matchingNodes(treeChanges.exiting, mc.exiting),\n\t            retained: _matchingNodes(treeChanges.retained, mc.retained),\n\t            entering: _matchingNodes(treeChanges.entering, mc.entering),\n\t        };\n\t        // Check if all the criteria matched the TreeChanges object\n\t        var allMatched = [\"to\", \"from\", \"exiting\", \"retained\", \"entering\"]\n\t            .map(function (prop) { return matches[prop]; })\n\t            .reduce(common_1.allTrueR, true);\n\t        return allMatched ? matches : null;\n\t    };\n\t    return EventHook;\n\t}());\n\texports.EventHook = EventHook;\n\t/** @hidden Return a registration function of the requested type. */\n\tfunction makeHookRegistrationFn(hooks, name) {\n\t    return function (matchObject, callback, options) {\n\t        if (options === void 0) { options = {}; }\n\t        var eventHook = new EventHook(matchObject, callback, options);\n\t        hooks[name].push(eventHook);\n\t        return function deregisterEventHook() {\n\t            common_1.removeFrom(hooks[name])(eventHook);\n\t        };\n\t    };\n\t}\n\t/**\n\t * Mixin class acts as a Transition Hook registry.\n\t *\n\t * Holds the registered [[HookFn]] objects.\n\t * Exposes functions to register new hooks.\n\t *\n\t * This is a Mixin class which can be applied to other objects.\n\t *\n\t * The hook registration functions are [[onBefore]], [[onStart]], [[onEnter]], [[onRetain]], [[onExit]], [[onFinish]], [[onSuccess]], [[onError]].\n\t *\n\t * This class is mixed into both the [[TransitionService]] and every [[Transition]] object.\n\t * Global hooks are added to the [[TransitionService]].\n\t * Since each [[Transition]] is itself a `HookRegistry`, hooks can also be added to individual Transitions\n\t * (note: the hook criteria still must match the Transition).\n\t */\n\tvar HookRegistry = (function () {\n\t    function HookRegistry() {\n\t        var _this = this;\n\t        this._transitionEvents = {\n\t            onBefore: [], onStart: [], onEnter: [], onRetain: [], onExit: [], onFinish: [], onSuccess: [], onError: []\n\t        };\n\t        this.getHooks = function (name) { return _this._transitionEvents[name]; };\n\t        /** @inheritdoc */\n\t        this.onBefore = makeHookRegistrationFn(this._transitionEvents, \"onBefore\");\n\t        /** @inheritdoc */\n\t        this.onStart = makeHookRegistrationFn(this._transitionEvents, \"onStart\");\n\t        /** @inheritdoc */\n\t        this.onEnter = makeHookRegistrationFn(this._transitionEvents, \"onEnter\");\n\t        /** @inheritdoc */\n\t        this.onRetain = makeHookRegistrationFn(this._transitionEvents, \"onRetain\");\n\t        /** @inheritdoc */\n\t        this.onExit = makeHookRegistrationFn(this._transitionEvents, \"onExit\");\n\t        /** @inheritdoc */\n\t        this.onFinish = makeHookRegistrationFn(this._transitionEvents, \"onFinish\");\n\t        /** @inheritdoc */\n\t        this.onSuccess = makeHookRegistrationFn(this._transitionEvents, \"onSuccess\");\n\t        /** @inheritdoc */\n\t        this.onError = makeHookRegistrationFn(this._transitionEvents, \"onError\");\n\t    }\n\t    HookRegistry.mixin = function (source, target) {\n\t        Object.keys(source._transitionEvents).concat([\"getHooks\"]).forEach(function (key) { return target[key] = source[key]; });\n\t    };\n\t    return HookRegistry;\n\t}());\n\texports.HookRegistry = HookRegistry;\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/** @module transition */ /** for typedoc */\n\t\"use strict\";\n\tvar common_1 = __webpack_require__(3);\n\tvar predicates_1 = __webpack_require__(4);\n\tvar transitionHook_1 = __webpack_require__(13);\n\tvar resolveContext_1 = __webpack_require__(17);\n\t/**\n\t * This class returns applicable TransitionHooks for a specific Transition instance.\n\t *\n\t * Hooks (IEventHook) may be registered globally, e.g., $transitions.onEnter(...), or locally, e.g.\n\t * myTransition.onEnter(...).  The HookBuilder finds matching IEventHooks (where the match criteria is\n\t * determined by the type of hook)\n\t *\n\t * The HookBuilder also converts IEventHooks objects to TransitionHook objects, which are used to run a Transition.\n\t *\n\t * The HookBuilder constructor is given the $transitions service and a Transition instance.  Thus, a HookBuilder\n\t * instance may only be used for one specific Transition object. (side note: the _treeChanges accessor is private\n\t * in the Transition class, so we must also provide the Transition's _treeChanges)\n\t *\n\t */\n\tvar HookBuilder = (function () {\n\t    function HookBuilder($transitions, transition, baseHookOptions) {\n\t        var _this = this;\n\t        this.$transitions = $transitions;\n\t        this.transition = transition;\n\t        this.baseHookOptions = baseHookOptions;\n\t        this.getOnBeforeHooks = function () { return _this._buildNodeHooks(\"onBefore\", \"to\", tupleSort(), { async: false }); };\n\t        this.getOnStartHooks = function () { return _this._buildNodeHooks(\"onStart\", \"to\", tupleSort()); };\n\t        this.getOnExitHooks = function () { return _this._buildNodeHooks(\"onExit\", \"exiting\", tupleSort(true), { stateHook: true }); };\n\t        this.getOnRetainHooks = function () { return _this._buildNodeHooks(\"onRetain\", \"retained\", tupleSort(false), { stateHook: true }); };\n\t        this.getOnEnterHooks = function () { return _this._buildNodeHooks(\"onEnter\", \"entering\", tupleSort(false), { stateHook: true }); };\n\t        this.getOnFinishHooks = function () { return _this._buildNodeHooks(\"onFinish\", \"to\", tupleSort()); };\n\t        this.getOnSuccessHooks = function () { return _this._buildNodeHooks(\"onSuccess\", \"to\", tupleSort(), { async: false, rejectIfSuperseded: false }); };\n\t        this.getOnErrorHooks = function () { return _this._buildNodeHooks(\"onError\", \"to\", tupleSort(), { async: false, rejectIfSuperseded: false }); };\n\t        this.treeChanges = transition.treeChanges();\n\t        this.toState = common_1.tail(this.treeChanges.to).state;\n\t        this.fromState = common_1.tail(this.treeChanges.from).state;\n\t        this.transitionOptions = transition.options();\n\t    }\n\t    HookBuilder.prototype.asyncHooks = function () {\n\t        var onStartHooks = this.getOnStartHooks();\n\t        var onExitHooks = this.getOnExitHooks();\n\t        var onRetainHooks = this.getOnRetainHooks();\n\t        var onEnterHooks = this.getOnEnterHooks();\n\t        var onFinishHooks = this.getOnFinishHooks();\n\t        var asyncHooks = [onStartHooks, onExitHooks, onRetainHooks, onEnterHooks, onFinishHooks];\n\t        return asyncHooks.reduce(common_1.unnestR, []).filter(common_1.identity);\n\t    };\n\t    /**\n\t     * Returns an array of newly built TransitionHook objects.\n\t     *\n\t     * - Finds all IEventHooks registered for the given `hookType` which matched the transition's [[TreeChanges]].\n\t     * - Finds [[PathNode]] (or `PathNode[]`) to use as the TransitionHook context(s)\n\t     * - For each of the [[PathNode]]s, creates a TransitionHook\n\t     *\n\t     * @param hookType the name of the hook registration function, e.g., 'onEnter', 'onFinish'.\n\t     * @param matchingNodesProp selects which [[PathNode]]s from the [[IMatchingNodes]] object to create hooks for.\n\t     * @param getLocals a function which accepts a [[PathNode]] and returns additional locals to provide to the hook as injectables\n\t     * @param sortHooksFn a function which compares two HookTuple and returns <1, 0, or >1\n\t     * @param options any specific Transition Hook Options\n\t     */\n\t    HookBuilder.prototype._buildNodeHooks = function (hookType, matchingNodesProp, sortHooksFn, options) {\n\t        var _this = this;\n\t        // Find all the matching registered hooks for a given hook type\n\t        var matchingHooks = this._matchingHooks(hookType, this.treeChanges);\n\t        if (!matchingHooks)\n\t            return [];\n\t        var makeTransitionHooks = function (hook) {\n\t            // Fetch the Nodes that caused this hook to match.\n\t            var matches = hook.matches(_this.treeChanges);\n\t            // Select the PathNode[] that will be used as TransitionHook context objects\n\t            var matchingNodes = matches[matchingNodesProp];\n\t            // When invoking 'exiting' hooks, give them the \"from path\" for resolve data.\n\t            // Everything else gets the \"to path\"\n\t            var resolvePath = matchingNodesProp === 'exiting' ? _this.treeChanges.from : _this.treeChanges.to;\n\t            var resolveContext = new resolveContext_1.ResolveContext(resolvePath);\n\t            // Return an array of HookTuples\n\t            return matchingNodes.map(function (node) {\n\t                var _options = common_1.extend({ bind: hook.bind, traceData: { hookType: hookType, context: node } }, _this.baseHookOptions, options);\n\t                var state = _options.stateHook ? node.state : null;\n\t                var context = resolveContext.subContext(node.state);\n\t                var transitionHook = new transitionHook_1.TransitionHook(_this.transition, state, hook.callback, context, _options);\n\t                return { hook: hook, node: node, transitionHook: transitionHook };\n\t            });\n\t        };\n\t        return matchingHooks.map(makeTransitionHooks)\n\t            .reduce(common_1.unnestR, [])\n\t            .sort(sortHooksFn)\n\t            .map(function (tuple) { return tuple.transitionHook; });\n\t    };\n\t    /**\n\t     * Finds all IEventHooks from:\n\t     * - The Transition object instance hook registry\n\t     * - The TransitionService ($transitions) global hook registry\n\t     *\n\t     * which matched:\n\t     * - the eventType\n\t     * - the matchCriteria (to, from, exiting, retained, entering)\n\t     *\n\t     * @returns an array of matched [[IEventHook]]s\n\t     */\n\t    HookBuilder.prototype._matchingHooks = function (hookName, treeChanges) {\n\t        return [this.transition, this.$transitions] // Instance and Global hook registries\n\t            .map(function (reg) { return reg.getHooks(hookName); }) // Get named hooks from registries\n\t            .filter(common_1.assertPredicate(predicates_1.isArray, \"broken event named: \" + hookName)) // Sanity check\n\t            .reduce(common_1.unnestR, []) // Un-nest IEventHook[][] to IEventHook[] array\n\t            .filter(function (hook) { return hook.matches(treeChanges); }); // Only those satisfying matchCriteria\n\t    };\n\t    return HookBuilder;\n\t}());\n\texports.HookBuilder = HookBuilder;\n\t/**\n\t * A factory for a sort function for HookTuples.\n\t *\n\t * The sort function first compares the PathNode depth (how deep in the state tree a node is), then compares\n\t * the EventHook priority.\n\t *\n\t * @param reverseDepthSort a boolean, when true, reverses the sort order for the node depth\n\t * @returns a tuple sort function\n\t */\n\tfunction tupleSort(reverseDepthSort) {\n\t    if (reverseDepthSort === void 0) { reverseDepthSort = false; }\n\t    return function nodeDepthThenPriority(l, r) {\n\t        var factor = reverseDepthSort ? -1 : 1;\n\t        var depthDelta = (l.node.state.path.length - r.node.state.path.length) * factor;\n\t        return depthDelta !== 0 ? depthDelta : r.hook.priority - l.hook.priority;\n\t    };\n\t}\n\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module resolve */ /** for typedoc */\n\tvar common_1 = __webpack_require__(3);\n\tvar hof_1 = __webpack_require__(5);\n\tvar trace_1 = __webpack_require__(12);\n\tvar coreservices_1 = __webpack_require__(6);\n\tvar interface_1 = __webpack_require__(18);\n\tvar resolvable_1 = __webpack_require__(19);\n\tvar pathFactory_1 = __webpack_require__(20);\n\tvar strings_1 = __webpack_require__(9);\n\tvar when = interface_1.resolvePolicies.when;\n\tvar ALL_WHENS = [when.EAGER, when.LAZY];\n\tvar EAGER_WHENS = [when.EAGER];\n\t/**\n\t * Encapsulates Depenency Injection for a path of nodes\n\t *\n\t * UI-Router states are organized as a tree.\n\t * A nested state has a path of ancestors to the root of the tree.\n\t * When a state is being activated, each element in the path is wrapped as a [[PathNode]].\n\t * A `PathNode` is a stateful object that holds things like parameters and resolvables for the state being activated.\n\t *\n\t * The ResolveContext closes over the [[PathNode]]s, and provides DI for the last node in the path.\n\t */\n\tvar ResolveContext = (function () {\n\t    function ResolveContext(_path) {\n\t        this._path = _path;\n\t    }\n\t    /** Gets all the tokens found in the resolve context, de-duplicated */\n\t    ResolveContext.prototype.getTokens = function () {\n\t        return this._path.reduce(function (acc, node) { return acc.concat(node.resolvables.map(function (r) { return r.token; })); }, []).reduce(common_1.uniqR, []);\n\t    };\n\t    /**\n\t     * Gets the Resolvable that matches the token\n\t     *\n\t     * Gets the last Resolvable that matches the token in this context, or undefined.\n\t     * Throws an error if it doesn't exist in the ResolveContext\n\t     */\n\t    ResolveContext.prototype.getResolvable = function (token) {\n\t        var matching = this._path.map(function (node) { return node.resolvables; })\n\t            .reduce(common_1.unnestR, [])\n\t            .filter(function (r) { return r.token === token; });\n\t        return common_1.tail(matching);\n\t    };\n\t    /**\n\t     * Returns a ResolveContext that includes a portion of this one\n\t     *\n\t     * Given a state, this method creates a new ResolveContext from this one.\n\t     * The new context starts at the first node (root) and stops at the node for the `state` parameter.\n\t     *\n\t     * #### Why\n\t     *\n\t     * When a transition is created, the nodes in the \"To Path\" are injected from a ResolveContext.\n\t     * A ResolveContext closes over a path of [[PathNode]]s and processes the resolvables.\n\t     * The \"To State\" can inject values from its own resolvables, as well as those from all its ancestor state's (node's).\n\t     * This method is used to create a narrower context when injecting ancestor nodes.\n\t     *\n\t     * @example\n\t     * `let ABCD = new ResolveContext([A, B, C, D]);`\n\t     *\n\t     * Given a path `[A, B, C, D]`, where `A`, `B`, `C` and `D` are nodes for states `a`, `b`, `c`, `d`:\n\t     * When injecting `D`, `D` should have access to all resolvables from `A`, `B`, `C`, `D`.\n\t     * However, `B` should only be able to access resolvables from `A`, `B`.\n\t     *\n\t     * When resolving for the `B` node, first take the full \"To Path\" Context `[A,B,C,D]` and limit to the subpath `[A,B]`.\n\t     * `let AB = ABCD.subcontext(a)`\n\t     */\n\t    ResolveContext.prototype.subContext = function (state) {\n\t        return new ResolveContext(pathFactory_1.PathFactory.subPath(this._path, function (node) { return node.state === state; }));\n\t    };\n\t    /**\n\t     * Adds Resolvables to the node that matches the state\n\t     *\n\t     * This adds a [[Resolvable]] (generally one created on the fly; not declared on a [[StateDeclaration.resolve]] block).\n\t     * The resolvable is added to the node matching the `state` parameter.\n\t     *\n\t     * These new resolvables are not automatically fetched.\n\t     * The calling code should either fetch them, fetch something that depends on them,\n\t     * or rely on [[resolvePath]] being called when some state is being entered.\n\t     *\n\t     * Note: each resolvable's [[ResolvePolicy]] is merged with the state's policy, and the global default.\n\t     *\n\t     * @param newResolvables the new Resolvables\n\t     * @param state Used to find the node to put the resolvable on\n\t     */\n\t    ResolveContext.prototype.addResolvables = function (newResolvables, state) {\n\t        var node = common_1.find(this._path, hof_1.propEq('state', state));\n\t        var keys = newResolvables.map(function (r) { return r.token; });\n\t        node.resolvables = node.resolvables.filter(function (r) { return keys.indexOf(r.token) === -1; }).concat(newResolvables);\n\t    };\n\t    /**\n\t     * Returns a promise for an array of resolved path Element promises\n\t     *\n\t     * @param when\n\t     * @param trans\n\t     * @returns {Promise<any>|any}\n\t     */\n\t    ResolveContext.prototype.resolvePath = function (when, trans) {\n\t        var _this = this;\n\t        if (when === void 0) { when = \"LAZY\"; }\n\t        // This option determines which 'when' policy Resolvables we are about to fetch.\n\t        var whenOption = common_1.inArray(ALL_WHENS, when) ? when : \"LAZY\";\n\t        // If the caller specified EAGER, only the EAGER Resolvables are fetched.\n\t        // if the caller specified LAZY, both EAGER and LAZY Resolvables are fetched.`\n\t        var matchedWhens = whenOption === interface_1.resolvePolicies.when.EAGER ? EAGER_WHENS : ALL_WHENS;\n\t        // get the subpath to the state argument, if provided\n\t        trace_1.trace.traceResolvePath(this._path, when, trans);\n\t        var promises = this._path.reduce(function (acc, node) {\n\t            var matchesRequestedPolicy = function (resolvable) {\n\t                return common_1.inArray(matchedWhens, resolvable.getPolicy(node.state).when);\n\t            };\n\t            var nodeResolvables = node.resolvables.filter(matchesRequestedPolicy);\n\t            var subContext = _this.subContext(node.state);\n\t            // For the matching Resolvables, start their async fetch process.\n\t            var getResult = function (r) { return r.get(subContext, trans)\n\t                .then(function (value) { return ({ token: r.token, value: value }); }); };\n\t            return acc.concat(nodeResolvables.map(getResult));\n\t        }, []);\n\t        return coreservices_1.services.$q.all(promises);\n\t    };\n\t    ResolveContext.prototype.injector = function () {\n\t        return new UIInjectorImpl(this);\n\t    };\n\t    ResolveContext.prototype.findNode = function (resolvable) {\n\t        return common_1.find(this._path, function (node) { return common_1.inArray(node.resolvables, resolvable); });\n\t    };\n\t    /**\n\t     * Gets the async dependencies of a Resolvable\n\t     *\n\t     * Given a Resolvable, returns its dependencies as a Resolvable[]\n\t     */\n\t    ResolveContext.prototype.getDependencies = function (resolvable) {\n\t        var node = this.findNode(resolvable);\n\t        // Find which other resolvables are \"visible\" to the `resolvable` argument\n\t        // subpath stopping at resolvable's node, or the whole path (if the resolvable isn't in the path)\n\t        var subPath = pathFactory_1.PathFactory.subPath(this._path, function (x) { return x === node; }) || this._path;\n\t        var availableResolvables = subPath\n\t            .reduce(function (acc, node) { return acc.concat(node.resolvables); }, []) //all of subpath's resolvables\n\t            .filter(function (res) { return res !== resolvable; }); // filter out the `resolvable` argument\n\t        var getDependency = function (token) {\n\t            var matching = availableResolvables.filter(function (r) { return r.token === token; });\n\t            if (matching.length)\n\t                return common_1.tail(matching);\n\t            var fromInjector = coreservices_1.services.$injector.get(token);\n\t            if (!fromInjector) {\n\t                throw new Error(\"Could not find Dependency Injection token: \" + strings_1.stringify(token));\n\t            }\n\t            return new resolvable_1.Resolvable(token, function () { return fromInjector; }, [], fromInjector);\n\t        };\n\t        return resolvable.deps.map(getDependency);\n\t    };\n\t    return ResolveContext;\n\t}());\n\texports.ResolveContext = ResolveContext;\n\tvar UIInjectorImpl = (function () {\n\t    function UIInjectorImpl(context) {\n\t        this.context = context;\n\t        /** The native injector ($injector on ng1, Root Injector on ng2, justjs injector for everything else) */\n\t        this.native = coreservices_1.services.$injector;\n\t    }\n\t    UIInjectorImpl.prototype.get = function (token) {\n\t        var resolvable = this.context.getResolvable(token);\n\t        if (resolvable) {\n\t            if (!resolvable.resolved) {\n\t                throw new Error(\"Resolvable async .get() not complete:\" + strings_1.stringify(resolvable.token));\n\t            }\n\t            return resolvable.data;\n\t        }\n\t        return coreservices_1.services.$injector.get(token);\n\t    };\n\t    UIInjectorImpl.prototype.getAsync = function (token) {\n\t        var resolvable = this.context.getResolvable(token);\n\t        if (resolvable)\n\t            return resolvable.get(this.context);\n\t        return coreservices_1.services.$q.when(coreservices_1.services.$injector.get(token));\n\t    };\n\t    return UIInjectorImpl;\n\t}());\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\texports.resolvePolicies = {\n\t    when: {\n\t        LAZY: \"LAZY\",\n\t        EAGER: \"EAGER\"\n\t    },\n\t    async: {\n\t        WAIT: \"WAIT\",\n\t        NOWAIT: \"NOWAIT\",\n\t        RXWAIT: \"RXWAIT\"\n\t    }\n\t};\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module resolve */ /** for typedoc */\n\tvar common_1 = __webpack_require__(3);\n\tvar coreservices_1 = __webpack_require__(6);\n\tvar trace_1 = __webpack_require__(12);\n\tvar strings_1 = __webpack_require__(9);\n\tvar predicates_1 = __webpack_require__(4);\n\t// TODO: explicitly make this user configurable\n\texports.defaultResolvePolicy = {\n\t    when: \"LAZY\",\n\t    async: \"WAIT\"\n\t};\n\t/**\n\t * The basic building block for the resolve system.\n\t *\n\t * Resolvables encapsulate a state's resolve's resolveFn, the resolveFn's declared dependencies, the wrapped (.promise),\n\t * and the unwrapped-when-complete (.data) result of the resolveFn.\n\t *\n\t * Resolvable.get() either retrieves the Resolvable's existing promise, or else invokes resolve() (which invokes the\n\t * resolveFn) and returns the resulting promise.\n\t *\n\t * Resolvable.get() and Resolvable.resolve() both execute within a context path, which is passed as the first\n\t * parameter to those fns.\n\t */\n\tvar Resolvable = (function () {\n\t    function Resolvable(arg1, resolveFn, deps, policy, data) {\n\t        this.resolved = false;\n\t        this.promise = undefined;\n\t        if (arg1 instanceof Resolvable) {\n\t            common_1.extend(this, arg1);\n\t        }\n\t        else if (predicates_1.isFunction(resolveFn)) {\n\t            if (arg1 == null || arg1 == undefined)\n\t                throw new Error(\"new Resolvable(): token argument is required\");\n\t            if (!predicates_1.isFunction(resolveFn))\n\t                throw new Error(\"new Resolvable(): resolveFn argument must be a function\");\n\t            this.token = arg1;\n\t            this.policy = policy;\n\t            this.resolveFn = resolveFn;\n\t            this.deps = deps || [];\n\t            this.data = data;\n\t            this.resolved = data !== undefined;\n\t            this.promise = this.resolved ? coreservices_1.services.$q.when(this.data) : undefined;\n\t        }\n\t        else if (predicates_1.isObject(arg1) && arg1.token && predicates_1.isFunction(arg1.resolveFn)) {\n\t            var literal = arg1;\n\t            return new Resolvable(literal.token, literal.resolveFn, literal.deps, literal.policy, literal.data);\n\t        }\n\t    }\n\t    Resolvable.prototype.getPolicy = function (state) {\n\t        var thisPolicy = this.policy || {};\n\t        var statePolicy = state && state.resolvePolicy || {};\n\t        return {\n\t            when: thisPolicy.when || statePolicy.when || exports.defaultResolvePolicy.when,\n\t            async: thisPolicy.async || statePolicy.async || exports.defaultResolvePolicy.async,\n\t        };\n\t    };\n\t    /**\n\t     * Asynchronously resolve this Resolvable's data\n\t     *\n\t     * Given a ResolveContext that this Resolvable is found in:\n\t     * Wait for this Resolvable's dependencies, then invoke this Resolvable's function\n\t     * and update the Resolvable's state\n\t     */\n\t    Resolvable.prototype.resolve = function (resolveContext, trans) {\n\t        var _this = this;\n\t        var $q = coreservices_1.services.$q;\n\t        // Gets all dependencies from ResolveContext and wait for them to be resolved\n\t        var getResolvableDependencies = function () {\n\t            return $q.all(resolveContext.getDependencies(_this).map(function (r) {\n\t                return r.get(resolveContext, trans);\n\t            }));\n\t        };\n\t        // Invokes the resolve function passing the resolved dependencies as arguments\n\t        var invokeResolveFn = function (resolvedDeps) {\n\t            return _this.resolveFn.apply(null, resolvedDeps);\n\t        };\n\t        /**\n\t         * For RXWAIT policy:\n\t         *\n\t         * Given an observable returned from a resolve function:\n\t         * - enables .cache() mode (this allows multicast subscribers)\n\t         * - then calls toPromise() (this triggers subscribe() and thus fetches)\n\t         * - Waits for the promise, then return the cached observable (not the first emitted value).\n\t         */\n\t        var waitForRx = function (observable$) {\n\t            var cached = observable$.cache();\n\t            return cached.toPromise().then(function () { return cached; });\n\t        };\n\t        // If the resolve policy is RXWAIT, wait for the observable to emit something. otherwise pass through.\n\t        var node = resolveContext.findNode(this);\n\t        var state = node && node.state;\n\t        var maybeWaitForRx = this.getPolicy(state).async === \"RXWAIT\" ? waitForRx : function (x) { return x; };\n\t        // After the final value has been resolved, update the state of the Resolvable\n\t        var applyResolvedValue = function (resolvedValue) {\n\t            _this.data = resolvedValue;\n\t            _this.resolved = true;\n\t            trace_1.trace.traceResolvableResolved(_this, trans);\n\t            return _this.data;\n\t        };\n\t        // Sets the promise property first, then getsResolvableDependencies in the context of the promise chain. Always waits one tick.\n\t        return this.promise = $q.when()\n\t            .then(getResolvableDependencies)\n\t            .then(invokeResolveFn)\n\t            .then(maybeWaitForRx)\n\t            .then(applyResolvedValue);\n\t    };\n\t    /**\n\t     * Gets a promise for this Resolvable's data.\n\t     *\n\t     * Fetches the data and returns a promise.\n\t     * Returns the existing promise if it has already been fetched once.\n\t     */\n\t    Resolvable.prototype.get = function (resolveContext, trans) {\n\t        return this.promise || this.resolve(resolveContext, trans);\n\t    };\n\t    Resolvable.prototype.toString = function () {\n\t        return \"Resolvable(token: \" + strings_1.stringify(this.token) + \", requires: [\" + this.deps.map(strings_1.stringify) + \"])\";\n\t    };\n\t    Resolvable.prototype.clone = function () {\n\t        return new Resolvable(this);\n\t    };\n\t    return Resolvable;\n\t}());\n\texports.Resolvable = Resolvable;\n\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/** @module path */ /** for typedoc */\n\t\"use strict\";\n\tvar common_1 = __webpack_require__(3);\n\tvar hof_1 = __webpack_require__(5);\n\tvar targetState_1 = __webpack_require__(14);\n\tvar node_1 = __webpack_require__(21);\n\t/**\n\t * This class contains functions which convert TargetStates, Nodes and paths from one type to another.\n\t */\n\tvar PathFactory = (function () {\n\t    function PathFactory() {\n\t    }\n\t    /** Given a PathNode[], create an TargetState */\n\t    PathFactory.makeTargetState = function (path) {\n\t        var state = common_1.tail(path).state;\n\t        return new targetState_1.TargetState(state, state, path.map(hof_1.prop(\"paramValues\")).reduce(common_1.mergeR, {}));\n\t    };\n\t    PathFactory.buildPath = function (targetState) {\n\t        var toParams = targetState.params();\n\t        return targetState.$state().path.map(function (state) { return new node_1.PathNode(state).applyRawParams(toParams); });\n\t    };\n\t    /** Given a fromPath: PathNode[] and a TargetState, builds a toPath: PathNode[] */\n\t    PathFactory.buildToPath = function (fromPath, targetState) {\n\t        var toPath = PathFactory.buildPath(targetState);\n\t        if (targetState.options().inherit) {\n\t            return PathFactory.inheritParams(fromPath, toPath, Object.keys(targetState.params()));\n\t        }\n\t        return toPath;\n\t    };\n\t    /**\n\t     * Creates ViewConfig objects and adds to nodes.\n\t     *\n\t     * On each [[PathNode]], creates ViewConfig objects from the views: property of the node's state\n\t     */\n\t    PathFactory.applyViewConfigs = function ($view, path, states) {\n\t        // Only apply the viewConfigs to the nodes for the given states\n\t        path.filter(function (node) { return common_1.inArray(states, node.state); }).forEach(function (node) {\n\t            var viewDecls = common_1.values(node.state.views || {});\n\t            var subPath = PathFactory.subPath(path, function (n) { return n === node; });\n\t            var viewConfigs = viewDecls.map(function (view) { return $view.createViewConfig(subPath, view); });\n\t            node.views = viewConfigs.reduce(common_1.unnestR, []);\n\t        });\n\t    };\n\t    /**\n\t     * Given a fromPath and a toPath, returns a new to path which inherits parameters from the fromPath\n\t     *\n\t     * For a parameter in a node to be inherited from the from path:\n\t     * - The toPath's node must have a matching node in the fromPath (by state).\n\t     * - The parameter name must not be found in the toKeys parameter array.\n\t     *\n\t     * Note: the keys provided in toKeys are intended to be those param keys explicitly specified by some\n\t     * caller, for instance, $state.transitionTo(..., toParams).  If a key was found in toParams,\n\t     * it is not inherited from the fromPath.\n\t     */\n\t    PathFactory.inheritParams = function (fromPath, toPath, toKeys) {\n\t        if (toKeys === void 0) { toKeys = []; }\n\t        function nodeParamVals(path, state) {\n\t            var node = common_1.find(path, hof_1.propEq('state', state));\n\t            return common_1.extend({}, node && node.paramValues);\n\t        }\n\t        /**\n\t         * Given an [[PathNode]] \"toNode\", return a new [[PathNode]] with param values inherited from the\n\t         * matching node in fromPath.  Only inherit keys that aren't found in \"toKeys\" from the node in \"fromPath\"\"\n\t         */\n\t        function makeInheritedParamsNode(toNode) {\n\t            // All param values for the node (may include default key/vals, when key was not found in toParams)\n\t            var toParamVals = common_1.extend({}, toNode && toNode.paramValues);\n\t            // limited to only those keys found in toParams\n\t            var incomingParamVals = common_1.pick(toParamVals, toKeys);\n\t            toParamVals = common_1.omit(toParamVals, toKeys);\n\t            var fromParamVals = nodeParamVals(fromPath, toNode.state) || {};\n\t            // extend toParamVals with any fromParamVals, then override any of those those with incomingParamVals\n\t            var ownParamVals = common_1.extend(toParamVals, fromParamVals, incomingParamVals);\n\t            return new node_1.PathNode(toNode.state).applyRawParams(ownParamVals);\n\t        }\n\t        // The param keys specified by the incoming toParams\n\t        return toPath.map(makeInheritedParamsNode);\n\t    };\n\t    /**\n\t     * Computes the tree changes (entering, exiting) between a fromPath and toPath.\n\t     */\n\t    PathFactory.treeChanges = function (fromPath, toPath, reloadState) {\n\t        var keep = 0, max = Math.min(fromPath.length, toPath.length);\n\t        var staticParams = function (state) { return state.parameters({ inherit: false }).filter(hof_1.not(hof_1.prop('dynamic'))).map(hof_1.prop('id')); };\n\t        var nodesMatch = function (node1, node2) { return node1.equals(node2, staticParams(node1.state)); };\n\t        while (keep < max && fromPath[keep].state !== reloadState && nodesMatch(fromPath[keep], toPath[keep])) {\n\t            keep++;\n\t        }\n\t        /** Given a retained node, return a new node which uses the to node's param values */\n\t        function applyToParams(retainedNode, idx) {\n\t            var cloned = node_1.PathNode.clone(retainedNode);\n\t            cloned.paramValues = toPath[idx].paramValues;\n\t            return cloned;\n\t        }\n\t        var from, retained, exiting, entering, to;\n\t        from = fromPath;\n\t        retained = from.slice(0, keep);\n\t        exiting = from.slice(keep);\n\t        // Create a new retained path (with shallow copies of nodes) which have the params of the toPath mapped\n\t        var retainedWithToParams = retained.map(applyToParams);\n\t        entering = toPath.slice(keep);\n\t        to = (retainedWithToParams).concat(entering);\n\t        return { from: from, to: to, retained: retained, exiting: exiting, entering: entering };\n\t    };\n\t    /**\n\t     * Return a subpath of a path, which stops at the first matching node\n\t     *\n\t     * Given an array of nodes, returns a subset of the array starting from the first node,\n\t     * stopping when the first node matches the predicate.\n\t     *\n\t     * @param path a path of [[PathNode]]s\n\t     * @param predicate a [[Predicate]] fn that matches [[PathNode]]s\n\t     * @returns a subpath up to the matching node, or undefined if no match is found\n\t     */\n\t    PathFactory.subPath = function (path, predicate) {\n\t        var node = common_1.find(path, predicate);\n\t        var elementIdx = path.indexOf(node);\n\t        return elementIdx === -1 ? undefined : path.slice(0, elementIdx + 1);\n\t    };\n\t    /** Gets the raw parameter values from a path */\n\t    PathFactory.paramValues = function (path) { return path.reduce(function (acc, node) { return common_1.extend(acc, node.paramValues); }, {}); };\n\t    return PathFactory;\n\t}());\n\texports.PathFactory = PathFactory;\n\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module path */ /** for typedoc */\n\tvar common_1 = __webpack_require__(3);\n\tvar hof_1 = __webpack_require__(5);\n\tvar param_1 = __webpack_require__(22);\n\t/**\n\t * A node in a [[TreeChanges]] path\n\t *\n\t * For a [[TreeChanges]] path, this class holds the stateful information for a single node in the path.\n\t * Each PathNode corresponds to a state being entered, exited, or retained.\n\t * The stateful information includes parameter values and resolve data.\n\t */\n\tvar PathNode = (function () {\n\t    function PathNode(state) {\n\t        if (state instanceof PathNode) {\n\t            var node = state;\n\t            this.state = node.state;\n\t            this.paramSchema = node.paramSchema.slice();\n\t            this.paramValues = common_1.extend({}, node.paramValues);\n\t            this.resolvables = node.resolvables.slice();\n\t            this.views = node.views && node.views.slice();\n\t        }\n\t        else {\n\t            this.state = state;\n\t            this.paramSchema = state.parameters({ inherit: false });\n\t            this.paramValues = {};\n\t            this.resolvables = state.resolvables.map(function (res) { return res.clone(); });\n\t        }\n\t    }\n\t    /** Sets [[paramValues]] for the node, from the values of an object hash */\n\t    PathNode.prototype.applyRawParams = function (params) {\n\t        var getParamVal = function (paramDef) { return [paramDef.id, paramDef.value(params[paramDef.id])]; };\n\t        this.paramValues = this.paramSchema.reduce(function (memo, pDef) { return common_1.applyPairs(memo, getParamVal(pDef)); }, {});\n\t        return this;\n\t    };\n\t    /** Gets a specific [[Param]] metadata that belongs to the node */\n\t    PathNode.prototype.parameter = function (name) {\n\t        return common_1.find(this.paramSchema, hof_1.propEq(\"id\", name));\n\t    };\n\t    /**\n\t     * @returns true if the state and parameter values for another PathNode are\n\t     * equal to the state and param values for this PathNode\n\t     */\n\t    PathNode.prototype.equals = function (node, keys) {\n\t        var _this = this;\n\t        if (keys === void 0) { keys = this.paramSchema.map(hof_1.prop('id')); }\n\t        var paramValsEq = function (key) { return _this.parameter(key).type.equals(_this.paramValues[key], node.paramValues[key]); };\n\t        return this.state === node.state && keys.map(paramValsEq).reduce(common_1.allTrueR, true);\n\t    };\n\t    /** Returns a clone of the PathNode */\n\t    PathNode.clone = function (node) {\n\t        return new PathNode(node);\n\t    };\n\t    /**\n\t     * Returns a new path which is a subpath of the first path which matched the second path.\n\t     *\n\t     * The new path starts from root and contains any nodes that match the nodes in the second path.\n\t     * Nodes are compared using their state property and parameter values.\n\t     */\n\t    PathNode.matching = function (pathA, pathB) {\n\t        var matching = [];\n\t        for (var i = 0; i < pathA.length && i < pathB.length; i++) {\n\t            var a = pathA[i], b = pathB[i];\n\t            if (a.state !== b.state)\n\t                break;\n\t            if (!param_1.Param.equals(a.paramSchema, a.paramValues, b.paramValues))\n\t                break;\n\t            matching.push(a);\n\t        }\n\t        return matching;\n\t    };\n\t    return PathNode;\n\t}());\n\texports.PathNode = PathNode;\n\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module params */ /** for typedoc */\n\tvar common_1 = __webpack_require__(3);\n\tvar hof_1 = __webpack_require__(5);\n\tvar predicates_1 = __webpack_require__(4);\n\tvar coreservices_1 = __webpack_require__(6);\n\tvar urlMatcherConfig_1 = __webpack_require__(23);\n\tvar type_1 = __webpack_require__(24);\n\tvar paramTypes_1 = __webpack_require__(25);\n\tvar hasOwn = Object.prototype.hasOwnProperty;\n\tvar isShorthand = function (cfg) { return [\"value\", \"type\", \"squash\", \"array\", \"dynamic\"].filter(hasOwn.bind(cfg || {})).length === 0; };\n\t(function (DefType) {\n\t    DefType[DefType[\"PATH\"] = 0] = \"PATH\";\n\t    DefType[DefType[\"SEARCH\"] = 1] = \"SEARCH\";\n\t    DefType[DefType[\"CONFIG\"] = 2] = \"CONFIG\";\n\t})(exports.DefType || (exports.DefType = {}));\n\tvar DefType = exports.DefType;\n\tfunction unwrapShorthand(cfg) {\n\t    cfg = isShorthand(cfg) && { value: cfg } || cfg;\n\t    return common_1.extend(cfg, {\n\t        $$fn: predicates_1.isInjectable(cfg.value) ? cfg.value : function () { return cfg.value; }\n\t    });\n\t}\n\tfunction getType(cfg, urlType, location, id) {\n\t    if (cfg.type && urlType && urlType.name !== 'string')\n\t        throw new Error(\"Param '\" + id + \"' has two type configurations.\");\n\t    if (cfg.type && urlType && urlType.name === 'string' && paramTypes_1.paramTypes.type(cfg.type))\n\t        return paramTypes_1.paramTypes.type(cfg.type);\n\t    if (urlType)\n\t        return urlType;\n\t    if (!cfg.type)\n\t        return (location === DefType.CONFIG ? paramTypes_1.paramTypes.type(\"any\") : paramTypes_1.paramTypes.type(\"string\"));\n\t    return cfg.type instanceof type_1.ParamType ? cfg.type : paramTypes_1.paramTypes.type(cfg.type);\n\t}\n\t/**\n\t * returns false, true, or the squash value to indicate the \"default parameter url squash policy\".\n\t */\n\tfunction getSquashPolicy(config, isOptional) {\n\t    var squash = config.squash;\n\t    if (!isOptional || squash === false)\n\t        return false;\n\t    if (!predicates_1.isDefined(squash) || squash == null)\n\t        return urlMatcherConfig_1.matcherConfig.defaultSquashPolicy();\n\t    if (squash === true || predicates_1.isString(squash))\n\t        return squash;\n\t    throw new Error(\"Invalid squash policy: '\" + squash + \"'. Valid policies: false, true, or arbitrary string\");\n\t}\n\tfunction getReplace(config, arrayMode, isOptional, squash) {\n\t    var replace, configuredKeys, defaultPolicy = [\n\t        { from: \"\", to: (isOptional || arrayMode ? undefined : \"\") },\n\t        { from: null, to: (isOptional || arrayMode ? undefined : \"\") }\n\t    ];\n\t    replace = predicates_1.isArray(config.replace) ? config.replace : [];\n\t    if (predicates_1.isString(squash))\n\t        replace.push({ from: squash, to: undefined });\n\t    configuredKeys = common_1.map(replace, hof_1.prop(\"from\"));\n\t    return common_1.filter(defaultPolicy, function (item) { return configuredKeys.indexOf(item.from) === -1; }).concat(replace);\n\t}\n\tvar Param = (function () {\n\t    function Param(id, type, config, location) {\n\t        config = unwrapShorthand(config);\n\t        type = getType(config, type, location, id);\n\t        var arrayMode = getArrayMode();\n\t        type = arrayMode ? type.$asArray(arrayMode, location === DefType.SEARCH) : type;\n\t        var isOptional = config.value !== undefined;\n\t        var dynamic = predicates_1.isDefined(config.dynamic) ? !!config.dynamic : !!type.dynamic;\n\t        var squash = getSquashPolicy(config, isOptional);\n\t        var replace = getReplace(config, arrayMode, isOptional, squash);\n\t        // array config: param name (param[]) overrides default settings.  explicit config overrides param name.\n\t        function getArrayMode() {\n\t            var arrayDefaults = { array: (location === DefType.SEARCH ? \"auto\" : false) };\n\t            var arrayParamNomenclature = id.match(/\\[\\]$/) ? { array: true } : {};\n\t            return common_1.extend(arrayDefaults, arrayParamNomenclature, config).array;\n\t        }\n\t        common_1.extend(this, { id: id, type: type, location: location, squash: squash, replace: replace, isOptional: isOptional, dynamic: dynamic, config: config, array: arrayMode });\n\t    }\n\t    Param.prototype.isDefaultValue = function (value) {\n\t        return this.isOptional && this.type.equals(this.value(), value);\n\t    };\n\t    /**\n\t     * [Internal] Gets the decoded representation of a value if the value is defined, otherwise, returns the\n\t     * default value, which may be the result of an injectable function.\n\t     */\n\t    Param.prototype.value = function (value) {\n\t        var _this = this;\n\t        /**\n\t         * [Internal] Get the default value of a parameter, which may be an injectable function.\n\t         */\n\t        var $$getDefaultValue = function () {\n\t            if (!coreservices_1.services.$injector)\n\t                throw new Error(\"Injectable functions cannot be called at configuration time\");\n\t            var defaultValue = coreservices_1.services.$injector.invoke(_this.config.$$fn);\n\t            if (defaultValue !== null && defaultValue !== undefined && !_this.type.is(defaultValue))\n\t                throw new Error(\"Default value (\" + defaultValue + \") for parameter '\" + _this.id + \"' is not an instance of ParamType (\" + _this.type.name + \")\");\n\t            return defaultValue;\n\t        };\n\t        var $replace = function (val) {\n\t            var replacement = common_1.map(common_1.filter(_this.replace, hof_1.propEq('from', val)), hof_1.prop(\"to\"));\n\t            return replacement.length ? replacement[0] : val;\n\t        };\n\t        value = $replace(value);\n\t        return !predicates_1.isDefined(value) ? $$getDefaultValue() : this.type.$normalize(value);\n\t    };\n\t    Param.prototype.isSearch = function () {\n\t        return this.location === DefType.SEARCH;\n\t    };\n\t    Param.prototype.validates = function (value) {\n\t        // There was no parameter value, but the param is optional\n\t        if ((!predicates_1.isDefined(value) || value === null) && this.isOptional)\n\t            return true;\n\t        // The value was not of the correct ParamType, and could not be decoded to the correct ParamType\n\t        var normalized = this.type.$normalize(value);\n\t        if (!this.type.is(normalized))\n\t            return false;\n\t        // The value was of the correct type, but when encoded, did not match the ParamType's regexp\n\t        var encoded = this.type.encode(normalized);\n\t        return !(predicates_1.isString(encoded) && !this.type.pattern.exec(encoded));\n\t    };\n\t    Param.prototype.toString = function () {\n\t        return \"{Param:\" + this.id + \" \" + this.type + \" squash: '\" + this.squash + \"' optional: \" + this.isOptional + \"}\";\n\t    };\n\t    /** Creates a new [[Param]] from a CONFIG block */\n\t    Param.fromConfig = function (id, type, config) {\n\t        return new Param(id, type, config, DefType.CONFIG);\n\t    };\n\t    /** Creates a new [[Param]] from a url PATH */\n\t    Param.fromPath = function (id, type, config) {\n\t        return new Param(id, type, config, DefType.PATH);\n\t    };\n\t    /** Creates a new [[Param]] from a url SEARCH */\n\t    Param.fromSearch = function (id, type, config) {\n\t        return new Param(id, type, config, DefType.SEARCH);\n\t    };\n\t    Param.values = function (params, values) {\n\t        if (values === void 0) { values = {}; }\n\t        return params.map(function (param) { return [param.id, param.value(values[param.id])]; }).reduce(common_1.applyPairs, {});\n\t    };\n\t    /**\n\t     * Finds [[Param]] objects which have different param values\n\t     *\n\t     * Filters a list of [[Param]] objects to only those whose parameter values differ in two param value objects\n\t     *\n\t     * @param params: The list of Param objects to filter\n\t     * @param values1: The first set of parameter values\n\t     * @param values2: the second set of parameter values\n\t     *\n\t     * @returns any Param objects whose values were different between values1 and values2\n\t     */\n\t    Param.changed = function (params, values1, values2) {\n\t        if (values1 === void 0) { values1 = {}; }\n\t        if (values2 === void 0) { values2 = {}; }\n\t        return params.filter(function (param) { return !param.type.equals(values1[param.id], values2[param.id]); });\n\t    };\n\t    /**\n\t     * Checks if two param value objects are equal (for a set of [[Param]] objects)\n\t     *\n\t     * @param params The list of [[Param]] objects to check\n\t     * @param values1 The first set of param values\n\t     * @param values2 The second set of param values\n\t     *\n\t     * @returns true if the param values in values1 and values2 are equal\n\t     */\n\t    Param.equals = function (params, values1, values2) {\n\t        if (values1 === void 0) { values1 = {}; }\n\t        if (values2 === void 0) { values2 = {}; }\n\t        return Param.changed(params, values1, values2).length === 0;\n\t    };\n\t    /** Returns true if a the parameter values are valid, according to the Param definitions */\n\t    Param.validates = function (params, values) {\n\t        if (values === void 0) { values = {}; }\n\t        return params.map(function (param) { return param.validates(values[param.id]); }).reduce(common_1.allTrueR, true);\n\t    };\n\t    return Param;\n\t}());\n\texports.Param = Param;\n\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module url */ /** for typedoc */\n\tvar predicates_1 = __webpack_require__(4);\n\tvar MatcherConfig = (function () {\n\t    function MatcherConfig() {\n\t        this._isCaseInsensitive = false;\n\t        this._isStrictMode = true;\n\t        this._defaultSquashPolicy = false;\n\t    }\n\t    MatcherConfig.prototype.caseInsensitive = function (value) {\n\t        return this._isCaseInsensitive = predicates_1.isDefined(value) ? value : this._isCaseInsensitive;\n\t    };\n\t    MatcherConfig.prototype.strictMode = function (value) {\n\t        return this._isStrictMode = predicates_1.isDefined(value) ? value : this._isStrictMode;\n\t    };\n\t    MatcherConfig.prototype.defaultSquashPolicy = function (value) {\n\t        if (predicates_1.isDefined(value) && value !== true && value !== false && !predicates_1.isString(value))\n\t            throw new Error(\"Invalid squash policy: \" + value + \". Valid policies: false, true, arbitrary-string\");\n\t        return this._defaultSquashPolicy = predicates_1.isDefined(value) ? value : this._defaultSquashPolicy;\n\t    };\n\t    return MatcherConfig;\n\t}());\n\texports.MatcherConfig = MatcherConfig;\n\t// TODO: Do not export global instance; create one in UIRouter() constructor\n\texports.matcherConfig = new MatcherConfig();\n\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module params */ /** for typedoc */\n\tvar common_1 = __webpack_require__(3);\n\tvar predicates_1 = __webpack_require__(4);\n\t/**\n\t * Wraps up a `ParamType` object to handle array values.\n\t */\n\tfunction ArrayType(type, mode) {\n\t    var _this = this;\n\t    // Wrap non-array value as array\n\t    function arrayWrap(val) { return predicates_1.isArray(val) ? val : (predicates_1.isDefined(val) ? [val] : []); }\n\t    // Unwrap array value for \"auto\" mode. Return undefined for empty array.\n\t    function arrayUnwrap(val) {\n\t        switch (val.length) {\n\t            case 0: return undefined;\n\t            case 1: return mode === \"auto\" ? val[0] : val;\n\t            default: return val;\n\t        }\n\t    }\n\t    // Wraps type (.is/.encode/.decode) functions to operate on each value of an array\n\t    function arrayHandler(callback, allTruthyMode) {\n\t        return function handleArray(val) {\n\t            if (predicates_1.isArray(val) && val.length === 0)\n\t                return val;\n\t            var arr = arrayWrap(val);\n\t            var result = common_1.map(arr, callback);\n\t            return (allTruthyMode === true) ? common_1.filter(result, function (x) { return !x; }).length === 0 : arrayUnwrap(result);\n\t        };\n\t    }\n\t    // Wraps type (.equals) functions to operate on each value of an array\n\t    function arrayEqualsHandler(callback) {\n\t        return function handleArray(val1, val2) {\n\t            var left = arrayWrap(val1), right = arrayWrap(val2);\n\t            if (left.length !== right.length)\n\t                return false;\n\t            for (var i = 0; i < left.length; i++) {\n\t                if (!callback(left[i], right[i]))\n\t                    return false;\n\t            }\n\t            return true;\n\t        };\n\t    }\n\t    ['encode', 'decode', 'equals', '$normalize'].map(function (name) {\n\t        _this[name] = (name === 'equals' ? arrayEqualsHandler : arrayHandler)(type[name].bind(type));\n\t    });\n\t    common_1.extend(this, {\n\t        dynamic: type.dynamic,\n\t        name: type.name,\n\t        pattern: type.pattern,\n\t        is: arrayHandler(type.is.bind(type), true),\n\t        $arrayMode: mode\n\t    });\n\t}\n\t/**\n\t * A class that implements Custom Parameter Type functionality.\n\t *\n\t * This class has naive implementations for all the [[ParamTypeDefinition]] methods.\n\t *\n\t * An instance of this class is created when a custom [[ParamTypeDefinition]] object is registered with the [[UrlMatcherFactory.type]].\n\t *\n\t * Used by [[UrlMatcher]] when matching or formatting URLs, or comparing and validating parameter values.\n\t *\n\t * @example\n\t * ```\n\t *\n\t * {\n\t *   decode: function(val) { return parseInt(val, 10); },\n\t *   encode: function(val) { return val && val.toString(); },\n\t *   equals: function(a, b) { return this.is(a) && a === b; },\n\t *   is: function(val) { return angular.isNumber(val) && isFinite(val) && val % 1 === 0; },\n\t *   pattern: /\\d+/\n\t * }\n\t * ```\n\t */\n\tvar ParamType = (function () {\n\t    /**\n\t     * @param def  A configuration object which contains the custom type definition.  The object's\n\t     *        properties will override the default methods and/or pattern in `ParamType`'s public interface.\n\t     * @returns a new ParamType object\n\t     */\n\t    function ParamType(def) {\n\t        this.pattern = /.*/;\n\t        common_1.extend(this, def);\n\t    }\n\t    // consider these four methods to be \"abstract methods\" that should be overridden\n\t    /** @inheritdoc */\n\t    ParamType.prototype.is = function (val, key) { return true; };\n\t    /** @inheritdoc */\n\t    ParamType.prototype.encode = function (val, key) { return val; };\n\t    /** @inheritdoc */\n\t    ParamType.prototype.decode = function (val, key) { return val; };\n\t    /** @inheritdoc */\n\t    ParamType.prototype.equals = function (a, b) { return a == b; };\n\t    ParamType.prototype.$subPattern = function () {\n\t        var sub = this.pattern.toString();\n\t        return sub.substr(1, sub.length - 2);\n\t    };\n\t    ParamType.prototype.toString = function () {\n\t        return \"{ParamType:\" + this.name + \"}\";\n\t    };\n\t    /** Given an encoded string, or a decoded object, returns a decoded object */\n\t    ParamType.prototype.$normalize = function (val) {\n\t        return this.is(val) ? val : this.decode(val);\n\t    };\n\t    /**\n\t     * Wraps an existing custom ParamType as an array of ParamType, depending on 'mode'.\n\t     * e.g.:\n\t     * - urlmatcher pattern \"/path?{queryParam[]:int}\"\n\t     * - url: \"/path?queryParam=1&queryParam=2\n\t     * - $stateParams.queryParam will be [1, 2]\n\t     * if `mode` is \"auto\", then\n\t     * - url: \"/path?queryParam=1 will create $stateParams.queryParam: 1\n\t     * - url: \"/path?queryParam=1&queryParam=2 will create $stateParams.queryParam: [1, 2]\n\t     */\n\t    ParamType.prototype.$asArray = function (mode, isSearch) {\n\t        if (!mode)\n\t            return this;\n\t        if (mode === \"auto\" && !isSearch)\n\t            throw new Error(\"'auto' array mode is for query parameters only\");\n\t        return new ArrayType(this, mode);\n\t    };\n\t    return ParamType;\n\t}());\n\texports.ParamType = ParamType;\n\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module params */ /** for typedoc */\n\tvar common_1 = __webpack_require__(3);\n\tvar predicates_1 = __webpack_require__(4);\n\tvar hof_1 = __webpack_require__(5);\n\tvar coreservices_1 = __webpack_require__(6);\n\tvar type_1 = __webpack_require__(24);\n\t// Use tildes to pre-encode slashes.\n\t// If the slashes are simply URLEncoded, the browser can choose to pre-decode them,\n\t// and bidirectional encoding/decoding fails.\n\t// Tilde was chosen because it's not a RFC 3986 section 2.2 Reserved Character\n\tfunction valToString(val) { return val != null ? val.toString().replace(/~/g, \"~~\").replace(/\\//g, \"~2F\") : val; }\n\tfunction valFromString(val) { return val != null ? val.toString().replace(/~2F/g, \"/\").replace(/~~/g, \"~\") : val; }\n\tvar ParamTypes = (function () {\n\t    function ParamTypes() {\n\t        this.enqueue = true;\n\t        this.typeQueue = [];\n\t        this.defaultTypes = {\n\t            \"hash\": {\n\t                encode: valToString,\n\t                decode: valFromString,\n\t                is: hof_1.is(String),\n\t                pattern: /.*/,\n\t                equals: function (a, b) { return a == b; } // allow coersion for null/undefined/\"\"\n\t            },\n\t            \"string\": {\n\t                encode: valToString,\n\t                decode: valFromString,\n\t                is: hof_1.is(String),\n\t                pattern: /[^/]*/\n\t            },\n\t            \"int\": {\n\t                encode: valToString,\n\t                decode: function (val) { return parseInt(val, 10); },\n\t                is: function (val) { return predicates_1.isDefined(val) && this.decode(val.toString()) === val; },\n\t                pattern: /-?\\d+/\n\t            },\n\t            \"bool\": {\n\t                encode: function (val) { return val && 1 || 0; },\n\t                decode: function (val) { return parseInt(val, 10) !== 0; },\n\t                is: hof_1.is(Boolean),\n\t                pattern: /0|1/\n\t            },\n\t            \"date\": {\n\t                encode: function (val) {\n\t                    return !this.is(val) ? undefined : [\n\t                        val.getFullYear(),\n\t                        ('0' + (val.getMonth() + 1)).slice(-2),\n\t                        ('0' + val.getDate()).slice(-2)\n\t                    ].join(\"-\");\n\t                },\n\t                decode: function (val) {\n\t                    if (this.is(val))\n\t                        return val;\n\t                    var match = this.capture.exec(val);\n\t                    return match ? new Date(match[1], match[2] - 1, match[3]) : undefined;\n\t                },\n\t                is: function (val) { return val instanceof Date && !isNaN(val.valueOf()); },\n\t                equals: function (l, r) {\n\t                    return ['getFullYear', 'getMonth', 'getDate']\n\t                        .reduce(function (acc, fn) { return acc && l[fn]() === r[fn](); }, true);\n\t                },\n\t                pattern: /[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,\n\t                capture: /([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/\n\t            },\n\t            \"json\": {\n\t                encode: common_1.toJson,\n\t                decode: common_1.fromJson,\n\t                is: hof_1.is(Object),\n\t                equals: common_1.equals,\n\t                pattern: /[^/]*/\n\t            },\n\t            \"any\": {\n\t                encode: common_1.identity,\n\t                decode: common_1.identity,\n\t                equals: common_1.equals,\n\t                pattern: /.*/\n\t            }\n\t        };\n\t        // Register default types. Store them in the prototype of this.types.\n\t        var makeType = function (definition, name) { return new type_1.ParamType(common_1.extend({ name: name }, definition)); };\n\t        this.types = common_1.inherit(common_1.map(this.defaultTypes, makeType), {});\n\t    }\n\t    ParamTypes.prototype.type = function (name, definition, definitionFn) {\n\t        if (!predicates_1.isDefined(definition))\n\t            return this.types[name];\n\t        if (this.types.hasOwnProperty(name))\n\t            throw new Error(\"A type named '\" + name + \"' has already been defined.\");\n\t        this.types[name] = new type_1.ParamType(common_1.extend({ name: name }, definition));\n\t        if (definitionFn) {\n\t            this.typeQueue.push({ name: name, def: definitionFn });\n\t            if (!this.enqueue)\n\t                this._flushTypeQueue();\n\t        }\n\t        return this;\n\t    };\n\t    ParamTypes.prototype._flushTypeQueue = function () {\n\t        while (this.typeQueue.length) {\n\t            var type = this.typeQueue.shift();\n\t            if (type.pattern)\n\t                throw new Error(\"You cannot override a type's .pattern at runtime.\");\n\t            common_1.extend(this.types[type.name], coreservices_1.services.$injector.invoke(type.def));\n\t        }\n\t    };\n\t    return ParamTypes;\n\t}());\n\texports.ParamTypes = ParamTypes;\n\texports.paramTypes = new ParamTypes();\n\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module core */ /** */\n\tvar urlMatcherFactory_1 = __webpack_require__(27);\n\tvar urlRouter_1 = __webpack_require__(29);\n\tvar state_1 = __webpack_require__(30);\n\tvar urlRouter_2 = __webpack_require__(29);\n\tvar transitionService_1 = __webpack_require__(31);\n\tvar view_1 = __webpack_require__(37);\n\tvar stateRegistry_1 = __webpack_require__(38);\n\tvar stateService_1 = __webpack_require__(43);\n\tvar globals_1 = __webpack_require__(44);\n\t/**\n\t * The master class used to instantiate an instance of UI-Router.\n\t *\n\t * This class instantiates and wires the global UI-Router services.\n\t *\n\t * After instantiating a new instance of the Router class, configure it for your app.  For instance, register\n\t * your app states with the [[stateRegistry]] (and set url options using ...).  Then, tell UI-Router to monitor\n\t * the URL by calling `urlRouter.listen()` ([[URLRouter.listen]])\n\t */\n\tvar UIRouter = (function () {\n\t    function UIRouter() {\n\t        this.viewService = new view_1.ViewService();\n\t        this.transitionService = new transitionService_1.TransitionService(this);\n\t        this.globals = new globals_1.Globals(this.transitionService);\n\t        this.urlMatcherFactory = new urlMatcherFactory_1.UrlMatcherFactory();\n\t        this.urlRouterProvider = new urlRouter_1.UrlRouterProvider(this.urlMatcherFactory, this.globals.params);\n\t        this.urlRouter = new urlRouter_2.UrlRouter(this.urlRouterProvider);\n\t        this.stateRegistry = new stateRegistry_1.StateRegistry(this.urlMatcherFactory, this.urlRouterProvider);\n\t        /** @hidden TODO: move this to ng1.ts */\n\t        this.stateProvider = new state_1.StateProvider(this.stateRegistry);\n\t        this.stateService = new stateService_1.StateService(this);\n\t        this.viewService.rootContext(this.stateRegistry.root());\n\t        this.globals.$current = this.stateRegistry.root();\n\t        this.globals.current = this.globals.$current.self;\n\t    }\n\t    return UIRouter;\n\t}());\n\texports.UIRouter = UIRouter;\n\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module url */ /** for typedoc */\n\tvar common_1 = __webpack_require__(3);\n\tvar predicates_1 = __webpack_require__(4);\n\tvar urlMatcher_1 = __webpack_require__(28);\n\tvar urlMatcherConfig_1 = __webpack_require__(23);\n\tvar param_1 = __webpack_require__(22);\n\tvar paramTypes_1 = __webpack_require__(25);\n\t/** @hidden */\n\tfunction getDefaultConfig() {\n\t    return {\n\t        strict: urlMatcherConfig_1.matcherConfig.strictMode(),\n\t        caseInsensitive: urlMatcherConfig_1.matcherConfig.caseInsensitive()\n\t    };\n\t}\n\t/**\n\t * Factory for [[UrlMatcher]] instances.\n\t *\n\t * The factory is available to ng1 services as\n\t * `$urlMatcherFactor` or ng1 providers as `$urlMatcherFactoryProvider`.\n\t */\n\tvar UrlMatcherFactory = (function () {\n\t    function UrlMatcherFactory() {\n\t        common_1.extend(this, { UrlMatcher: urlMatcher_1.UrlMatcher, Param: param_1.Param });\n\t    }\n\t    /**\n\t     * Defines whether URL matching should be case sensitive (the default behavior), or not.\n\t     *\n\t     * @param value `false` to match URL in a case sensitive manner; otherwise `true`;\n\t     * @returns the current value of caseInsensitive\n\t     */\n\t    UrlMatcherFactory.prototype.caseInsensitive = function (value) {\n\t        return urlMatcherConfig_1.matcherConfig.caseInsensitive(value);\n\t    };\n\t    /**\n\t     * Defines whether URLs should match trailing slashes, or not (the default behavior).\n\t     *\n\t     * @param value `false` to match trailing slashes in URLs, otherwise `true`.\n\t     * @returns the current value of strictMode\n\t     */\n\t    UrlMatcherFactory.prototype.strictMode = function (value) {\n\t        return urlMatcherConfig_1.matcherConfig.strictMode(value);\n\t    };\n\t    /**\n\t     * Sets the default behavior when generating or matching URLs with default parameter values.\n\t     *\n\t     * @param value A string that defines the default parameter URL squashing behavior.\n\t     *    - `nosquash`: When generating an href with a default parameter value, do not squash the parameter value from the URL\n\t     *    - `slash`: When generating an href with a default parameter value, squash (remove) the parameter value, and, if the\n\t     *             parameter is surrounded by slashes, squash (remove) one slash from the URL\n\t     *    - any other string, e.g. \"~\": When generating an href with a default parameter value, squash (remove)\n\t     *             the parameter value from the URL and replace it with this string.\n\t     * @returns the current value of defaultSquashPolicy\n\t     */\n\t    UrlMatcherFactory.prototype.defaultSquashPolicy = function (value) {\n\t        return urlMatcherConfig_1.matcherConfig.defaultSquashPolicy(value);\n\t    };\n\t    /**\n\t     * Creates a [[UrlMatcher]] for the specified pattern.\n\t     *\n\t     * @param pattern  The URL pattern.\n\t     * @param config  The config object hash.\n\t     * @returns The UrlMatcher.\n\t     */\n\t    UrlMatcherFactory.prototype.compile = function (pattern, config) {\n\t        return new urlMatcher_1.UrlMatcher(pattern, common_1.extend(getDefaultConfig(), config));\n\t    };\n\t    /**\n\t     * Returns true if the specified object is a [[UrlMatcher]], or false otherwise.\n\t     *\n\t     * @param object  The object to perform the type check against.\n\t     * @returns `true` if the object matches the `UrlMatcher` interface, by\n\t     *          implementing all the same methods.\n\t     */\n\t    UrlMatcherFactory.prototype.isMatcher = function (object) {\n\t        // TODO: typeof?\n\t        if (!predicates_1.isObject(object))\n\t            return false;\n\t        var result = true;\n\t        common_1.forEach(urlMatcher_1.UrlMatcher.prototype, function (val, name) {\n\t            if (predicates_1.isFunction(val))\n\t                result = result && (predicates_1.isDefined(object[name]) && predicates_1.isFunction(object[name]));\n\t        });\n\t        return result;\n\t    };\n\t    ;\n\t    /**\n\t     * Creates and registers a custom [[ParamType]] object that can be used to generate URLs with typed parameters.\n\t     *\n\t     * @param name  The type name.\n\t     * @param definition The type definition. See [[ParamTypeDefinition]] for information on the values accepted.\n\t     * @param definitionFn A function that is injected before the app\n\t     *        runtime starts.  The result of this function is merged into the existing `definition`.\n\t     *        See [[ParamType]] for information on the values accepted.\n\t     *\n\t     * @returns - if a type was registered: the [[UrlMatcherFactory]]\n\t     *   - if only the `name` parameter was specified: the currently registered [[ParamType]] object, or undefined\n\t     *\n\t     * This is a simple example of a custom type that encodes and decodes items from an\n\t     * array, using the array index as the URL-encoded value:\n\t     */\n\t    UrlMatcherFactory.prototype.type = function (name, definition, definitionFn) {\n\t        var type = paramTypes_1.paramTypes.type(name, definition, definitionFn);\n\t        return !predicates_1.isDefined(definition) ? type : this;\n\t    };\n\t    ;\n\t    /** @hidden */\n\t    UrlMatcherFactory.prototype.$get = function () {\n\t        paramTypes_1.paramTypes.enqueue = false;\n\t        paramTypes_1.paramTypes._flushTypeQueue();\n\t        return this;\n\t    };\n\t    ;\n\t    return UrlMatcherFactory;\n\t}());\n\texports.UrlMatcherFactory = UrlMatcherFactory;\n\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module url */ /** for typedoc */\n\tvar common_1 = __webpack_require__(3);\n\tvar hof_1 = __webpack_require__(5);\n\tvar predicates_1 = __webpack_require__(4);\n\tvar param_1 = __webpack_require__(22);\n\tvar paramTypes_1 = __webpack_require__(25);\n\tvar predicates_2 = __webpack_require__(4);\n\tvar param_2 = __webpack_require__(22);\n\tvar common_2 = __webpack_require__(3);\n\tvar common_3 = __webpack_require__(3);\n\t/** @hidden */\n\tfunction quoteRegExp(string, param) {\n\t    var surroundPattern = ['', ''], result = string.replace(/[\\\\\\[\\]\\^$*+?.()|{}]/g, \"\\\\$&\");\n\t    if (!param)\n\t        return result;\n\t    switch (param.squash) {\n\t        case false:\n\t            surroundPattern = ['(', ')' + (param.isOptional ? '?' : '')];\n\t            break;\n\t        case true:\n\t            result = result.replace(/\\/$/, '');\n\t            surroundPattern = ['(?:\\/(', ')|\\/)?'];\n\t            break;\n\t        default:\n\t            surroundPattern = [(\"(\" + param.squash + \"|\"), ')?'];\n\t            break;\n\t    }\n\t    return result + surroundPattern[0] + param.type.pattern.source + surroundPattern[1];\n\t}\n\t/** @hidden */\n\tvar memoizeTo = function (obj, prop, fn) { return obj[prop] = obj[prop] || fn(); };\n\t/**\n\t * Matches URLs against patterns.\n\t *\n\t * Matches URLs against patterns and extracts named parameters from the path or the search\n\t * part of the URL.\n\t *\n\t * A URL pattern consists of a path pattern, optionally followed by '?' and a list of search (query)\n\t * parameters. Multiple search parameter names are separated by '&'. Search parameters\n\t * do not influence whether or not a URL is matched, but their values are passed through into\n\t * the matched parameters returned by [[UrlMatcher.exec]].\n\t *\n\t * - *Path parameters* are defined using curly brace placeholders (`/somepath/{param}`)\n\t * or colon placeholders (`/somePath/:param`).\n\t *\n\t * - *A parameter RegExp* may be defined for a param after a colon\n\t * (`/somePath/{param:[a-zA-Z0-9]+}`) in a curly brace placeholder.\n\t * The regexp must match for the url to be matched.\n\t * Should the regexp itself contain curly braces, they must be in matched pairs or escaped with a backslash.\n\t *\n\t * - *Custom parameter types* may also be specified after a colon (`/somePath/{param:int}`)\n\t * in curly brace parameters.  See [[UrlMatcherFactory.type]] for more information.\n\t *\n\t * - *Catch-all parameters* are defined using an asterisk placeholder (`/somepath/*catchallparam`).  A catch-all\n\t * parameter value will contain the remainder of the URL.\n\t *\n\t * ---\n\t *\n\t * Parameter names may contain only word characters (latin letters, digits, and underscore) and\n\t * must be unique within the pattern (across both path and search parameters).\n\t * A path parameter matches any number of characters other than '/'. For catch-all\n\t * placeholders the path parameter matches any number of characters.\n\t *\n\t * Examples:\n\t *\n\t * * `'/hello/'` - Matches only if the path is exactly '/hello/'. There is no special treatment for\n\t *   trailing slashes, and patterns have to match the entire path, not just a prefix.\n\t * * `'/user/:id'` - Matches '/user/bob' or '/user/1234!!!' or even '/user/' but not '/user' or\n\t *   '/user/bob/details'. The second path segment will be captured as the parameter 'id'.\n\t * * `'/user/{id}'` - Same as the previous example, but using curly brace syntax.\n\t * * `'/user/{id:[^/]*}'` - Same as the previous example.\n\t * * `'/user/{id:[0-9a-fA-F]{1,8}}'` - Similar to the previous example, but only matches if the id\n\t *   parameter consists of 1 to 8 hex digits.\n\t * * `'/files/{path:.*}'` - Matches any URL starting with '/files/' and captures the rest of the\n\t *   path into the parameter 'path'.\n\t * * `'/files/*path'` - ditto.\n\t * * `'/calendar/{start:date}'` - Matches \"/calendar/2014-11-12\" (because the pattern defined\n\t *   in the built-in  `date` ParamType matches `2014-11-12`) and provides a Date object in $stateParams.start\n\t *\n\t */\n\tvar UrlMatcher = (function () {\n\t    /**\n\t     * @param pattern The pattern to compile into a matcher.\n\t     * @param config  A configuration object hash\n\t     * * `caseInsensitive` - `true` if URL matching should be case insensitive, otherwise `false`, the default value (for backward compatibility) is `false`.\n\t     * * `strict` - `false` if matching against a URL with a trailing slash should be treated as equivalent to a URL without a trailing slash, the default value is `true`.\n\t     *\n\t     * @property {string} pattern  The pattern that was passed into the constructor\n\t     */\n\t    function UrlMatcher(pattern, config) {\n\t        var _this = this;\n\t        this.config = config;\n\t        /** @hidden */\n\t        this._cache = { path: [], pattern: null };\n\t        /** @hidden */\n\t        this._children = [];\n\t        /** @hidden */\n\t        this._params = [];\n\t        /** @hidden */\n\t        this._segments = [];\n\t        /** @hidden */\n\t        this._compiled = [];\n\t        this.pattern = pattern;\n\t        this.config = common_1.defaults(this.config, {\n\t            params: {},\n\t            strict: true,\n\t            caseInsensitive: false,\n\t            paramMap: common_1.identity\n\t        });\n\t        // Find all placeholders and create a compiled pattern, using either classic or curly syntax:\n\t        //   '*' name\n\t        //   ':' name\n\t        //   '{' name '}'\n\t        //   '{' name ':' regexp '}'\n\t        // The regular expression is somewhat complicated due to the need to allow curly braces\n\t        // inside the regular expression. The placeholder regexp breaks down as follows:\n\t        //    ([:*])([\\w\\[\\]]+)              - classic placeholder ($1 / $2) (search version has - for snake-case)\n\t        //    \\{([\\w\\[\\]]+)(?:\\:\\s*( ... ))?\\}  - curly brace placeholder ($3) with optional regexp/type ... ($4) (search version has - for snake-case\n\t        //    (?: ... | ... | ... )+         - the regexp consists of any number of atoms, an atom being either\n\t        //    [^{}\\\\]+                       - anything other than curly braces or backslash\n\t        //    \\\\.                            - a backslash escape\n\t        //    \\{(?:[^{}\\\\]+|\\\\.)*\\}          - a matched set of curly braces containing other atoms\n\t        var placeholder = /([:*])([\\w\\[\\]]+)|\\{([\\w\\[\\]]+)(?:\\:\\s*((?:[^{}\\\\]+|\\\\.|\\{(?:[^{}\\\\]+|\\\\.)*\\})+))?\\}/g, searchPlaceholder = /([:]?)([\\w\\[\\].-]+)|\\{([\\w\\[\\].-]+)(?:\\:\\s*((?:[^{}\\\\]+|\\\\.|\\{(?:[^{}\\\\]+|\\\\.)*\\})+))?\\}/g, last = 0, m, patterns = [];\n\t        var checkParamErrors = function (id) {\n\t            if (!UrlMatcher.nameValidator.test(id))\n\t                throw new Error(\"Invalid parameter name '\" + id + \"' in pattern '\" + pattern + \"'\");\n\t            if (common_1.find(_this._params, hof_1.propEq('id', id)))\n\t                throw new Error(\"Duplicate parameter name '\" + id + \"' in pattern '\" + pattern + \"'\");\n\t        };\n\t        // Split into static segments separated by path parameter placeholders.\n\t        // The number of segments is always 1 more than the number of parameters.\n\t        var matchDetails = function (m, isSearch) {\n\t            // IE[78] returns '' for unmatched groups instead of null\n\t            var id = m[2] || m[3], regexp = isSearch ? m[4] : m[4] || (m[1] === '*' ? '.*' : null);\n\t            return {\n\t                id: id,\n\t                regexp: regexp,\n\t                cfg: _this.config.params[id],\n\t                segment: pattern.substring(last, m.index),\n\t                type: !regexp ? null : paramTypes_1.paramTypes.type(regexp || \"string\") || common_1.inherit(paramTypes_1.paramTypes.type(\"string\"), {\n\t                    pattern: new RegExp(regexp, _this.config.caseInsensitive ? 'i' : undefined)\n\t                })\n\t            };\n\t        };\n\t        var p, segment;\n\t        while ((m = placeholder.exec(pattern))) {\n\t            p = matchDetails(m, false);\n\t            if (p.segment.indexOf('?') >= 0)\n\t                break; // we're into the search part\n\t            checkParamErrors(p.id);\n\t            this._params.push(param_1.Param.fromPath(p.id, p.type, this.config.paramMap(p.cfg, false)));\n\t            this._segments.push(p.segment);\n\t            patterns.push([p.segment, common_1.tail(this._params)]);\n\t            last = placeholder.lastIndex;\n\t        }\n\t        segment = pattern.substring(last);\n\t        // Find any search parameter names and remove them from the last segment\n\t        var i = segment.indexOf('?');\n\t        if (i >= 0) {\n\t            var search = segment.substring(i);\n\t            segment = segment.substring(0, i);\n\t            if (search.length > 0) {\n\t                last = 0;\n\t                while ((m = searchPlaceholder.exec(search))) {\n\t                    p = matchDetails(m, true);\n\t                    checkParamErrors(p.id);\n\t                    this._params.push(param_1.Param.fromSearch(p.id, p.type, this.config.paramMap(p.cfg, true)));\n\t                    last = placeholder.lastIndex;\n\t                }\n\t            }\n\t        }\n\t        this._segments.push(segment);\n\t        common_1.extend(this, {\n\t            _compiled: patterns.map(function (pattern) { return quoteRegExp.apply(null, pattern); }).concat(quoteRegExp(segment)),\n\t            prefix: this._segments[0]\n\t        });\n\t        Object.freeze(this);\n\t    }\n\t    /**\n\t     * Creates a new concatenated UrlMatcher\n\t     *\n\t     * Builds a new UrlMatcher by appending another UrlMatcher to this one.\n\t     *\n\t     * @param url A `UrlMatcher` instance to append as a child of the current `UrlMatcher`.\n\t     */\n\t    UrlMatcher.prototype.append = function (url) {\n\t        this._children.push(url);\n\t        common_1.forEach(url._cache, function (val, key) { return url._cache[key] = predicates_1.isArray(val) ? [] : null; });\n\t        url._cache.path = this._cache.path.concat(this);\n\t        return url;\n\t    };\n\t    /** @hidden */\n\t    UrlMatcher.prototype.isRoot = function () {\n\t        return this._cache.path.length === 0;\n\t    };\n\t    /** Returns the input pattern string */\n\t    UrlMatcher.prototype.toString = function () {\n\t        return this.pattern;\n\t    };\n\t    /**\n\t     * Tests the specified url/path against this matcher.\n\t     *\n\t     * Tests if the given url matches this matcher's pattern, and returns an object containing the captured\n\t     * parameter values.  Returns null if the path does not match.\n\t     *\n\t     * The returned object contains the values\n\t     * of any search parameters that are mentioned in the pattern, but their value may be null if\n\t     * they are not present in `search`. This means that search parameters are always treated\n\t     * as optional.\n\t     *\n\t     * @example\n\t     * ```js\n\t     *\n\t     * new UrlMatcher('/user/{id}?q&r').exec('/user/bob', {\n\t     *   x: '1', q: 'hello'\n\t     * });\n\t     * // returns { id: 'bob', q: 'hello', r: null }\n\t     * ```\n\t     *\n\t     * @param path    The URL path to match, e.g. `$location.path()`.\n\t     * @param search  URL search parameters, e.g. `$location.search()`.\n\t     * @param hash    URL hash e.g. `$location.hash()`.\n\t     * @param options\n\t     *\n\t     * @returns The captured parameter values.\n\t     */\n\t    UrlMatcher.prototype.exec = function (path, search, hash, options) {\n\t        var _this = this;\n\t        if (search === void 0) { search = {}; }\n\t        if (options === void 0) { options = {}; }\n\t        var match = memoizeTo(this._cache, 'pattern', function () {\n\t            return new RegExp([\n\t                '^',\n\t                common_1.unnest(_this._cache.path.concat(_this).map(hof_1.prop('_compiled'))).join(''),\n\t                _this.config.strict === false ? '\\/?' : '',\n\t                '$'\n\t            ].join(''), _this.config.caseInsensitive ? 'i' : undefined);\n\t        }).exec(path);\n\t        if (!match)\n\t            return null;\n\t        //options = defaults(options, { isolate: false });\n\t        var allParams = this.parameters(), pathParams = allParams.filter(function (param) { return !param.isSearch(); }), searchParams = allParams.filter(function (param) { return param.isSearch(); }), nPathSegments = this._cache.path.concat(this).map(function (urlm) { return urlm._segments.length - 1; }).reduce(function (a, x) { return a + x; }), values = {};\n\t        if (nPathSegments !== match.length - 1)\n\t            throw new Error(\"Unbalanced capture group in route '\" + this.pattern + \"'\");\n\t        function decodePathArray(string) {\n\t            var reverseString = function (str) { return str.split(\"\").reverse().join(\"\"); };\n\t            var unquoteDashes = function (str) { return str.replace(/\\\\-/g, \"-\"); };\n\t            var split = reverseString(string).split(/-(?!\\\\)/);\n\t            var allReversed = common_1.map(split, reverseString);\n\t            return common_1.map(allReversed, unquoteDashes).reverse();\n\t        }\n\t        for (var i = 0; i < nPathSegments; i++) {\n\t            var param = pathParams[i];\n\t            var value = match[i + 1];\n\t            // if the param value matches a pre-replace pair, replace the value before decoding.\n\t            for (var j = 0; j < param.replace.length; j++) {\n\t                if (param.replace[j].from === value)\n\t                    value = param.replace[j].to;\n\t            }\n\t            if (value && param.array === true)\n\t                value = decodePathArray(value);\n\t            if (predicates_2.isDefined(value))\n\t                value = param.type.decode(value);\n\t            values[param.id] = param.value(value);\n\t        }\n\t        common_1.forEach(searchParams, function (param) {\n\t            var value = search[param.id];\n\t            for (var j = 0; j < param.replace.length; j++) {\n\t                if (param.replace[j].from === value)\n\t                    value = param.replace[j].to;\n\t            }\n\t            if (predicates_2.isDefined(value))\n\t                value = param.type.decode(value);\n\t            values[param.id] = param.value(value);\n\t        });\n\t        if (hash)\n\t            values[\"#\"] = hash;\n\t        return values;\n\t    };\n\t    /**\n\t     * @hidden\n\t     * Returns all the [[Param]] objects of all path and search parameters of this pattern in order of appearance.\n\t     *\n\t     * @returns {Array.<Param>}  An array of [[Param]] objects. Must be treated as read-only. If the\n\t     *    pattern has no parameters, an empty array is returned.\n\t     */\n\t    UrlMatcher.prototype.parameters = function (opts) {\n\t        if (opts === void 0) { opts = {}; }\n\t        if (opts.inherit === false)\n\t            return this._params;\n\t        return common_1.unnest(this._cache.path.concat(this).map(hof_1.prop('_params')));\n\t    };\n\t    /**\n\t     * @hidden\n\t     * Returns a single parameter from this UrlMatcher by id\n\t     *\n\t     * @param id\n\t     * @param opts\n\t     * @returns {T|Param|any|boolean|UrlMatcher|null}\n\t     */\n\t    UrlMatcher.prototype.parameter = function (id, opts) {\n\t        if (opts === void 0) { opts = {}; }\n\t        var parent = common_1.tail(this._cache.path);\n\t        return (common_1.find(this._params, hof_1.propEq('id', id)) ||\n\t            (opts.inherit !== false && parent && parent.parameter(id)) ||\n\t            null);\n\t    };\n\t    /**\n\t     * Validates the input parameter values against this UrlMatcher\n\t     *\n\t     * Checks an object hash of parameters to validate their correctness according to the parameter\n\t     * types of this `UrlMatcher`.\n\t     *\n\t     * @param params The object hash of parameters to validate.\n\t     * @returns Returns `true` if `params` validates, otherwise `false`.\n\t     */\n\t    UrlMatcher.prototype.validates = function (params) {\n\t        var _this = this;\n\t        var validParamVal = function (param, val) { return !param || param.validates(val); };\n\t        return common_1.pairs(params || {}).map(function (_a) {\n\t            var key = _a[0], val = _a[1];\n\t            return validParamVal(_this.parameter(key), val);\n\t        }).reduce(common_1.allTrueR, true);\n\t    };\n\t    /**\n\t     * Given a set of parameter values, creates a URL from this UrlMatcher.\n\t     *\n\t     * Creates a URL that matches this pattern by substituting the specified values\n\t     * for the path and search parameters.\n\t     *\n\t     * @example\n\t     * ```js\n\t     *\n\t     * new UrlMatcher('/user/{id}?q').format({ id:'bob', q:'yes' });\n\t     * // returns '/user/bob?q=yes'\n\t     * ```\n\t     *\n\t     * @param values  the values to substitute for the parameters in this pattern.\n\t     * @returns the formatted URL (path and optionally search part).\n\t     */\n\t    UrlMatcher.prototype.format = function (values) {\n\t        if (values === void 0) { values = {}; }\n\t        if (!this.validates(values))\n\t            return null;\n\t        // Build the full path of UrlMatchers (including all parent UrlMatchers)\n\t        var urlMatchers = this._cache.path.slice().concat(this);\n\t        // Extract all the static segments and Params into an ordered array\n\t        var pathSegmentsAndParams = urlMatchers.map(UrlMatcher.pathSegmentsAndParams).reduce(common_2.unnestR, []);\n\t        // Extract the query params into a separate array\n\t        var queryParams = urlMatchers.map(UrlMatcher.queryParams).reduce(common_2.unnestR, []);\n\t        /**\n\t         * Given a Param,\n\t         * Applies the parameter value, then returns details about it\n\t         */\n\t        function getDetails(param) {\n\t            // Normalize to typed value\n\t            var value = param.value(values[param.id]);\n\t            var isDefaultValue = param.isDefaultValue(value);\n\t            // Check if we're in squash mode for the parameter\n\t            var squash = isDefaultValue ? param.squash : false;\n\t            // Allow the Parameter's Type to encode the value\n\t            var encoded = param.type.encode(value);\n\t            return { param: param, value: value, isDefaultValue: isDefaultValue, squash: squash, encoded: encoded };\n\t        }\n\t        // Build up the path-portion from the list of static segments and parameters\n\t        var pathString = pathSegmentsAndParams.reduce(function (acc, x) {\n\t            // The element is a static segment (a raw string); just append it\n\t            if (predicates_1.isString(x))\n\t                return acc + x;\n\t            // Otherwise, it's a Param.  Fetch details about the parameter value\n\t            var _a = getDetails(x), squash = _a.squash, encoded = _a.encoded, param = _a.param;\n\t            // If squash is === true, try to remove a slash from the path\n\t            if (squash === true)\n\t                return (acc.match(/\\/$/)) ? acc.slice(0, -1) : acc;\n\t            // If squash is a string, use the string for the param value\n\t            if (predicates_1.isString(squash))\n\t                return acc + squash;\n\t            if (squash !== false)\n\t                return acc; // ?\n\t            if (encoded == null)\n\t                return acc;\n\t            // If this parameter value is an array, encode the value using encodeDashes\n\t            if (predicates_1.isArray(encoded))\n\t                return acc + common_1.map(encoded, UrlMatcher.encodeDashes).join(\"-\");\n\t            // If the parameter type is \"raw\", then do not encodeURIComponent\n\t            if (param.type.raw)\n\t                return acc + encoded;\n\t            // Encode the value\n\t            return acc + encodeURIComponent(encoded);\n\t        }, \"\");\n\t        // Build the query string by applying parameter values (array or regular)\n\t        // then mapping to key=value, then flattening and joining using \"&\"\n\t        var queryString = queryParams.map(function (param) {\n\t            var _a = getDetails(param), squash = _a.squash, encoded = _a.encoded, isDefaultValue = _a.isDefaultValue;\n\t            if (encoded == null || (isDefaultValue && squash !== false))\n\t                return;\n\t            if (!predicates_1.isArray(encoded))\n\t                encoded = [encoded];\n\t            if (encoded.length === 0)\n\t                return;\n\t            if (!param.type.raw)\n\t                encoded = common_1.map(encoded, encodeURIComponent);\n\t            return encoded.map(function (val) { return (param.id + \"=\" + val); });\n\t        }).filter(common_1.identity).reduce(common_2.unnestR, []).join(\"&\");\n\t        // Concat the pathstring with the queryString (if exists) and the hashString (if exists)\n\t        return pathString + (queryString ? \"?\" + queryString : \"\") + (values[\"#\"] ? \"#\" + values[\"#\"] : \"\");\n\t    };\n\t    /** @hidden */\n\t    UrlMatcher.encodeDashes = function (str) {\n\t        return encodeURIComponent(str).replace(/-/g, function (c) { return (\"%5C%\" + c.charCodeAt(0).toString(16).toUpperCase()); });\n\t    };\n\t    /** @hidden Given a matcher, return an array with the matcher's path segments and path params, in order */\n\t    UrlMatcher.pathSegmentsAndParams = function (matcher) {\n\t        var staticSegments = matcher._segments;\n\t        var pathParams = matcher._params.filter(function (p) { return p.location === param_2.DefType.PATH; });\n\t        return common_3.arrayTuples(staticSegments, pathParams.concat(undefined)).reduce(common_2.unnestR, []).filter(function (x) { return x !== \"\" && predicates_2.isDefined(x); });\n\t    };\n\t    /** @hidden Given a matcher, return an array with the matcher's query params */\n\t    UrlMatcher.queryParams = function (matcher) {\n\t        return matcher._params.filter(function (p) { return p.location === param_2.DefType.SEARCH; });\n\t    };\n\t    /** @hidden */\n\t    UrlMatcher.nameValidator = /^\\w+([-.]+\\w+)*(?:\\[\\])?$/;\n\t    return UrlMatcher;\n\t}());\n\texports.UrlMatcher = UrlMatcher;\n\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module url */ /** for typedoc */\n\tvar common_1 = __webpack_require__(3);\n\tvar predicates_1 = __webpack_require__(4);\n\tvar coreservices_1 = __webpack_require__(6);\n\t/** @hidden */\n\tvar $location = coreservices_1.services.location;\n\t/** @hidden Returns a string that is a prefix of all strings matching the RegExp */\n\tfunction regExpPrefix(re) {\n\t    var prefix = /^\\^((?:\\\\[^a-zA-Z0-9]|[^\\\\\\[\\]\\^$*+?.()|{}]+)*)/.exec(re.source);\n\t    return (prefix != null) ? prefix[1].replace(/\\\\(.)/g, \"$1\") : '';\n\t}\n\t/** @hidden Interpolates matched values into a String.replace()-style pattern */\n\tfunction interpolate(pattern, match) {\n\t    return pattern.replace(/\\$(\\$|\\d{1,2})/, function (m, what) {\n\t        return match[what === '$' ? 0 : Number(what)];\n\t    });\n\t}\n\t/** @hidden */\n\tfunction handleIfMatch($injector, $stateParams, handler, match) {\n\t    if (!match)\n\t        return false;\n\t    var result = $injector.invoke(handler, handler, { $match: match, $stateParams: $stateParams });\n\t    return predicates_1.isDefined(result) ? result : true;\n\t}\n\t/** @hidden */\n\tfunction appendBasePath(url, isHtml5, absolute) {\n\t    var baseHref = coreservices_1.services.locationConfig.baseHref();\n\t    if (baseHref === '/')\n\t        return url;\n\t    if (isHtml5)\n\t        return baseHref.slice(0, -1) + url;\n\t    if (absolute)\n\t        return baseHref.slice(1) + url;\n\t    return url;\n\t}\n\t// TODO: Optimize groups of rules with non-empty prefix into some sort of decision tree\n\t/** @hidden */\n\tfunction update(rules, otherwiseFn, evt) {\n\t    if (evt && evt.defaultPrevented)\n\t        return;\n\t    function check(rule) {\n\t        var handled = rule(coreservices_1.services.$injector, $location);\n\t        if (!handled)\n\t            return false;\n\t        if (predicates_1.isString(handled)) {\n\t            $location.replace();\n\t            $location.url(handled);\n\t        }\n\t        return true;\n\t    }\n\t    var n = rules.length, i;\n\t    for (i = 0; i < n; i++) {\n\t        if (check(rules[i]))\n\t            return;\n\t    }\n\t    // always check otherwise last to allow dynamic updates to the set of rules\n\t    if (otherwiseFn)\n\t        check(otherwiseFn);\n\t}\n\t/**\n\t * Manages rules for client-side URL\n\t *\n\t * This class manages the router rules for what to do when the URL changes.\n\t */\n\tvar UrlRouterProvider = (function () {\n\t    function UrlRouterProvider($urlMatcherFactory, $stateParams) {\n\t        /** @hidden */\n\t        this.rules = [];\n\t        /** @hidden */\n\t        this.interceptDeferred = false;\n\t        this.$urlMatcherFactory = $urlMatcherFactory;\n\t        this.$stateParams = $stateParams;\n\t    }\n\t    /**\n\t     * Registers a url handler function.\n\t     *\n\t     * Registers a low level url handler (a `rule`). A rule detects specific URL patterns and returns\n\t     * a redirect, or performs some action.\n\t     *\n\t     * If a rule returns a string, the URL is replaced with the string, and all rules are fired again.\n\t     *\n\t     * @example\n\t     * ```js\n\t     *\n\t     * var app = angular.module('app', ['ui.router.router']);\n\t     *\n\t     * app.config(function ($urlRouterProvider) {\n\t     *   // Here's an example of how you might allow case insensitive urls\n\t     *   $urlRouterProvider.rule(function ($injector, $location) {\n\t     *     var path = $location.path(),\n\t     *         normalized = path.toLowerCase();\n\t     *\n\t     *     if (path !== normalized) {\n\t     *       return normalized;\n\t     *     }\n\t     *   });\n\t     * });\n\t     * ```\n\t     *\n\t     * @param rule\n\t     * Handler function that takes `$injector` and `$location` services as arguments.\n\t     * You can use them to detect a url and return a different url as a string.\n\t     *\n\t     * @return [[$urlRouterProvider]] (`this`)\n\t     */\n\t    UrlRouterProvider.prototype.rule = function (rule) {\n\t        if (!predicates_1.isFunction(rule))\n\t            throw new Error(\"'rule' must be a function\");\n\t        this.rules.push(rule);\n\t        return this;\n\t    };\n\t    ;\n\t    /**\n\t     * Defines the path or behavior to use when no url can be matched.\n\t     *\n\t     * @example\n\t     * ```js\n\t     *\n\t     * var app = angular.module('app', ['ui.router.router']);\n\t     *\n\t     * app.config(function ($urlRouterProvider) {\n\t     *   // if the path doesn't match any of the urls you configured\n\t     *   // otherwise will take care of routing the user to the\n\t     *   // specified url\n\t     *   $urlRouterProvider.otherwise('/index');\n\t     *\n\t     *   // Example of using function rule as param\n\t     *   $urlRouterProvider.otherwise(function ($injector, $location) {\n\t     *     return '/a/valid/url';\n\t     *   });\n\t     * });\n\t     * ```\n\t     *\n\t     * @param rule\n\t     * The url path you want to redirect to or a function rule that returns the url path or performs a `$state.go()`.\n\t     * The function version is passed two params: `$injector` and `$location` services, and should return a url string.\n\t     *\n\t     * @return {object} `$urlRouterProvider` - `$urlRouterProvider` instance\n\t     */\n\t    UrlRouterProvider.prototype.otherwise = function (rule) {\n\t        if (!predicates_1.isFunction(rule) && !predicates_1.isString(rule))\n\t            throw new Error(\"'rule' must be a string or function\");\n\t        this.otherwiseFn = predicates_1.isString(rule) ? function () { return rule; } : rule;\n\t        return this;\n\t    };\n\t    ;\n\t    /**\n\t     * Registers a handler for a given url matching.\n\t     *\n\t     * If the handler is a string, it is\n\t     * treated as a redirect, and is interpolated according to the syntax of match\n\t     * (i.e. like `String.replace()` for `RegExp`, or like a `UrlMatcher` pattern otherwise).\n\t     *\n\t     * If the handler is a function, it is injectable.\n\t     * It gets invoked if `$location` matches.\n\t     * You have the option of inject the match object as `$match`.\n\t     *\n\t     * The handler can return\n\t     *\n\t     * - **falsy** to indicate that the rule didn't match after all, then `$urlRouter`\n\t     *   will continue trying to find another one that matches.\n\t     * - **string** which is treated as a redirect and passed to `$location.url()`\n\t     * - **void** or any **truthy** value tells `$urlRouter` that the url was handled.\n\t     *\n\t     * @example\n\t     * ```js\n\t     *\n\t     * var app = angular.module('app', ['ui.router.router']);\n\t     *\n\t     * app.config(function ($urlRouterProvider) {\n\t     *   $urlRouterProvider.when($state.url, function ($match, $stateParams) {\n\t     *     if ($state.$current.navigable !== state ||\n\t     *         !equalForKeys($match, $stateParams) {\n\t     *      $state.transitionTo(state, $match, false);\n\t     *     }\n\t     *   });\n\t     * });\n\t     * ```\n\t     *\n\t     * @param what A pattern string to match, compiled as a [[UrlMatcher]].\n\t     * @param handler The path (or function that returns a path) that you want to redirect your user to.\n\t     *\n\t     * Note: the handler may also invoke arbitrary code, such as `$state.go()`\n\t     */\n\t    UrlRouterProvider.prototype.when = function (what, handler) {\n\t        var _a = this, $urlMatcherFactory = _a.$urlMatcherFactory, $stateParams = _a.$stateParams;\n\t        var redirect, handlerIsString = predicates_1.isString(handler);\n\t        // @todo Queue this\n\t        if (predicates_1.isString(what))\n\t            what = $urlMatcherFactory.compile(what);\n\t        if (!handlerIsString && !predicates_1.isFunction(handler) && !predicates_1.isArray(handler))\n\t            throw new Error(\"invalid 'handler' in when()\");\n\t        var strategies = {\n\t            matcher: function (_what, _handler) {\n\t                if (handlerIsString) {\n\t                    redirect = $urlMatcherFactory.compile(_handler);\n\t                    _handler = ['$match', redirect.format.bind(redirect)];\n\t                }\n\t                return common_1.extend(function () {\n\t                    return handleIfMatch(coreservices_1.services.$injector, $stateParams, _handler, _what.exec($location.path(), $location.search(), $location.hash()));\n\t                }, {\n\t                    prefix: predicates_1.isString(_what.prefix) ? _what.prefix : ''\n\t                });\n\t            },\n\t            regex: function (_what, _handler) {\n\t                if (_what.global || _what.sticky)\n\t                    throw new Error(\"when() RegExp must not be global or sticky\");\n\t                if (handlerIsString) {\n\t                    redirect = _handler;\n\t                    _handler = ['$match', function ($match) { return interpolate(redirect, $match); }];\n\t                }\n\t                return common_1.extend(function () {\n\t                    return handleIfMatch(coreservices_1.services.$injector, $stateParams, _handler, _what.exec($location.path()));\n\t                }, {\n\t                    prefix: regExpPrefix(_what)\n\t                });\n\t            }\n\t        };\n\t        var check = {\n\t            matcher: $urlMatcherFactory.isMatcher(what),\n\t            regex: what instanceof RegExp\n\t        };\n\t        for (var n in check) {\n\t            if (check[n])\n\t                return this.rule(strategies[n](what, handler));\n\t        }\n\t        throw new Error(\"invalid 'what' in when()\");\n\t    };\n\t    ;\n\t    /**\n\t     * Disables monitoring of the URL.\n\t     *\n\t     * Call this method before UI-Router has bootstrapped.\n\t     * It will stop UI-Router from performing the initial url sync.\n\t     *\n\t     * This can be useful to perform some asynchronous initialization before the router starts.\n\t     * Once the initialization is complete, call [[listen]] to tell UI-Router to start watching and synchronizing the URL.\n\t     *\n\t     * @example\n\t     * ```js\n\t     *\n\t     * var app = angular.module('app', ['ui.router']);\n\t     *\n\t     * app.config(function ($urlRouterProvider) {\n\t     *   // Prevent $urlRouter from automatically intercepting URL changes;\n\t     *   $urlRouterProvider.deferIntercept();\n\t     * })\n\t     *\n\t     * app.run(function (MyService, $urlRouter, $http) {\n\t     *   $http.get(\"/stuff\").then(function(resp) {\n\t     *     MyService.doStuff(resp.data);\n\t     *     $urlRouter.listen();\n\t     *     $urlRouter.sync();\n\t     *   });\n\t     * });\n\t     * ```\n\t     *\n\t     * @param defer Indicates whether to defer location change interception. Passing\n\t     *        no parameter is equivalent to `true`.\n\t     */\n\t    UrlRouterProvider.prototype.deferIntercept = function (defer) {\n\t        if (defer === undefined)\n\t            defer = true;\n\t        this.interceptDeferred = defer;\n\t    };\n\t    ;\n\t    return UrlRouterProvider;\n\t}());\n\texports.UrlRouterProvider = UrlRouterProvider;\n\tvar UrlRouter = (function () {\n\t    /** @hidden */\n\t    function UrlRouter(urlRouterProvider) {\n\t        this.urlRouterProvider = urlRouterProvider;\n\t        common_1.bindFunctions(UrlRouter.prototype, this, this);\n\t    }\n\t    /**\n\t     * Checks the current URL for a matching rule\n\t     *\n\t     * Triggers an update; the same update that happens when the address bar url changes, aka `$locationChangeSuccess`.\n\t     * This method is useful when you need to use `preventDefault()` on the `$locationChangeSuccess` event,\n\t     * perform some custom logic (route protection, auth, config, redirection, etc) and then finally proceed\n\t     * with the transition by calling `$urlRouter.sync()`.\n\t     *\n\t     * @example\n\t     * ```js\n\t     *\n\t     * angular.module('app', ['ui.router'])\n\t     *   .run(function($rootScope, $urlRouter) {\n\t     *     $rootScope.$on('$locationChangeSuccess', function(evt) {\n\t     *       // Halt state change from even starting\n\t     *       evt.preventDefault();\n\t     *       // Perform custom logic\n\t     *       var meetsRequirement = ...\n\t     *       // Continue with the update and state transition if logic allows\n\t     *       if (meetsRequirement) $urlRouter.sync();\n\t     *     });\n\t     * });\n\t     * ```\n\t     */\n\t    UrlRouter.prototype.sync = function () {\n\t        update(this.urlRouterProvider.rules, this.urlRouterProvider.otherwiseFn);\n\t    };\n\t    /**\n\t     * Starts listening for URL changes\n\t     *\n\t     * Call this sometime after calling [[deferIntercept]] to start monitoring the url.\n\t     * This causes [[UrlRouter]] to start listening for changes to the URL, if it wasn't already listening.\n\t     */\n\t    UrlRouter.prototype.listen = function () {\n\t        var _this = this;\n\t        return this.listener = this.listener || $location.onChange(function (evt) { return update(_this.urlRouterProvider.rules, _this.urlRouterProvider.otherwiseFn, evt); });\n\t    };\n\t    /**\n\t     * Internal API.\n\t     */\n\t    UrlRouter.prototype.update = function (read) {\n\t        if (read) {\n\t            this.location = $location.url();\n\t            return;\n\t        }\n\t        if ($location.url() === this.location)\n\t            return;\n\t        $location.url(this.location);\n\t        $location.replace();\n\t    };\n\t    /**\n\t     * Internal API.\n\t     *\n\t     * Pushes a new location to the browser history.\n\t     *\n\t     * @param urlMatcher\n\t     * @param params\n\t     * @param options\n\t     */\n\t    UrlRouter.prototype.push = function (urlMatcher, params, options) {\n\t        $location.url(urlMatcher.format(params || {}));\n\t        if (options && options.replace)\n\t            $location.replace();\n\t    };\n\t    /**\n\t     * Builds and returns a URL with interpolated parameters\n\t     *\n\t     * @example\n\t     * ```js\n\t     *\n\t     * $bob = $urlRouter.href(new UrlMatcher(\"/about/:person\"), {\n\t     *   person: \"bob\"\n\t     * });\n\t     * // $bob == \"/about/bob\";\n\t     * ```\n\t     *\n\t     * @param urlMatcher The [[UrlMatcher]] object which is used as the template of the URL to generate.\n\t     * @param params An object of parameter values to fill the matcher's required parameters.\n\t     * @param options Options object. The options are:\n\t     *\n\t     * - **`absolute`** - {boolean=false},  If true will generate an absolute url, e.g. \"http://www.example.com/fullurl\".\n\t     *\n\t     * @returns Returns the fully compiled URL, or `null` if `params` fail validation against `urlMatcher`\n\t     */\n\t    UrlRouter.prototype.href = function (urlMatcher, params, options) {\n\t        if (!urlMatcher.validates(params))\n\t            return null;\n\t        var url = urlMatcher.format(params);\n\t        options = options || { absolute: false };\n\t        var cfg = coreservices_1.services.locationConfig;\n\t        var isHtml5 = cfg.html5Mode();\n\t        if (!isHtml5 && url !== null) {\n\t            url = \"#\" + cfg.hashPrefix() + url;\n\t        }\n\t        url = appendBasePath(url, isHtml5, options.absolute);\n\t        if (!options.absolute || !url) {\n\t            return url;\n\t        }\n\t        var slash = (!isHtml5 && url ? '/' : ''), port = cfg.port();\n\t        port = (port === 80 || port === 443 ? '' : ':' + port);\n\t        return [cfg.protocol(), '://', cfg.host(), port, slash, url].join('');\n\t    };\n\t    return UrlRouter;\n\t}());\n\texports.UrlRouter = UrlRouter;\n\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module state */ /** for typedoc */\n\tvar predicates_1 = __webpack_require__(4);\n\tvar common_1 = __webpack_require__(3);\n\t/**\n\t * @ngdoc object\n\t * @name ui.router.state.$stateProvider\n\t *\n\t * @requires ui.router.router.$urlRouterProvider\n\t * @requires ui.router.util.$urlMatcherFactoryProvider\n\t *\n\t * @description\n\t * The new `$stateProvider` works similar to Angular's v1 router, but it focuses purely\n\t * on state.\n\t *\n\t * A state corresponds to a \"place\" in the application in terms of the overall UI and\n\t * navigation. A state describes (via the controller / template / view properties) what\n\t * the UI looks like and does at that place.\n\t *\n\t * States often have things in common, and the primary way of factoring out these\n\t * commonalities in this model is via the state hierarchy, i.e. parent/child states aka\n\t * nested states.\n\t *\n\t * The `$stateProvider` provides interfaces to declare these states for your app.\n\t */\n\tvar StateProvider = (function () {\n\t    function StateProvider(stateRegistry) {\n\t        this.stateRegistry = stateRegistry;\n\t        this.invalidCallbacks = [];\n\t        common_1.bindFunctions(StateProvider.prototype, this, this);\n\t    }\n\t    /**\n\t     * @ngdoc function\n\t     * @name ui.router.state.$stateProvider#decorator\n\t     * @methodOf ui.router.state.$stateProvider\n\t     *\n\t     * @description\n\t     * Allows you to extend (carefully) or override (at your own peril) the\n\t     * `stateBuilder` object used internally by `$stateProvider`. This can be used\n\t     * to add custom functionality to ui-router, for example inferring templateUrl\n\t     * based on the state name.\n\t     *\n\t     * When passing only a name, it returns the current (original or decorated) builder\n\t     * function that matches `name`.\n\t     *\n\t     * The builder functions that can be decorated are listed below. Though not all\n\t     * necessarily have a good use case for decoration, that is up to you to decide.\n\t     *\n\t     * In addition, users can attach custom decorators, which will generate new\n\t     * properties within the state's internal definition. There is currently no clear\n\t     * use-case for this beyond accessing internal states (i.e. $state.$current),\n\t     * however, expect this to become increasingly relevant as we introduce additional\n\t     * meta-programming features.\n\t     *\n\t     * **Warning**: Decorators should not be interdependent because the order of\n\t     * execution of the builder functions in non-deterministic. Builder functions\n\t     * should only be dependent on the state definition object and super function.\n\t     *\n\t     *\n\t     * Existing builder functions and current return values:\n\t     *\n\t     * - **parent** `{object}` - returns the parent state object.\n\t     * - **data** `{object}` - returns state data, including any inherited data that is not\n\t     *   overridden by own values (if any).\n\t     * - **url** `{object}` - returns a {@link ui.router.util.type:UrlMatcher UrlMatcher}\n\t     *   or `null`.\n\t     * - **navigable** `{object}` - returns closest ancestor state that has a URL (aka is\n\t     *   navigable).\n\t     * - **params** `{object}` - returns an array of state params that are ensured to\n\t     *   be a super-set of parent's params.\n\t     * - **views** `{object}` - returns a views object where each key is an absolute view\n\t     *   name (i.e. \"viewName@stateName\") and each value is the config object\n\t     *   (template, controller) for the view. Even when you don't use the views object\n\t     *   explicitly on a state config, one is still created for you internally.\n\t     *   So by decorating this builder function you have access to decorating template\n\t     *   and controller properties.\n\t     * - **ownParams** `{object}` - returns an array of params that belong to the state,\n\t     *   not including any params defined by ancestor states.\n\t     * - **path** `{string}` - returns the full path from the root down to this state.\n\t     *   Needed for state activation.\n\t     * - **includes** `{object}` - returns an object that includes every state that\n\t     *   would pass a `$state.includes()` test.\n\t     *\n\t     * @example\n\t     * <pre>\n\t     * // Override the internal 'views' builder with a function that takes the state\n\t     * // definition, and a reference to the internal function being overridden:\n\t     * $stateProvider.decorator('views', function (state, parent) {\n\t     *   let result = {},\n\t     *       views = parent(state);\n\t     *\n\t     *   angular.forEach(views, function (config, name) {\n\t     *     let autoName = (state.name + '.' + name).replace('.', '/');\n\t     *     config.templateUrl = config.templateUrl || '/partials/' + autoName + '.html';\n\t     *     result[name] = config;\n\t     *   });\n\t     *   return result;\n\t     * });\n\t     *\n\t     * $stateProvider.state('home', {\n\t     *   views: {\n\t     *     'contact.list': { controller: 'ListController' },\n\t     *     'contact.item': { controller: 'ItemController' }\n\t     *   }\n\t     * });\n\t     *\n\t     * // ...\n\t     *\n\t     * $state.go('home');\n\t     * // Auto-populates list and item views with /partials/home/contact/list.html,\n\t     * // and /partials/home/contact/item.html, respectively.\n\t     * </pre>\n\t     *\n\t     * @param {string} name The name of the builder function to decorate.\n\t     * @param {object} func A function that is responsible for decorating the original\n\t     * builder function. The function receives two parameters:\n\t     *\n\t     *   - `{object}` - state - The state config object.\n\t     *   - `{object}` - super - The original builder function.\n\t     *\n\t     * @return {object} $stateProvider - $stateProvider instance\n\t     */\n\t    StateProvider.prototype.decorator = function (name, func) {\n\t        return this.stateRegistry.decorator(name, func) || this;\n\t    };\n\t    /**\n\t     * @ngdoc function\n\t     * @name ui.router.state.$stateProvider#state\n\t     * @methodOf ui.router.state.$stateProvider\n\t     *\n\t     * @description\n\t     * Registers a state configuration under a given state name. The stateConfig object\n\t     * has the following acceptable properties.\n\t     *\n\t     * <a id='template'></a>\n\t     *\n\t     * - **`template`** - {string|function=} - html template as a string or a function that returns\n\t     *   an html template as a string which should be used by the uiView directives. This property\n\t     *   takes precedence over templateUrl.\n\t     *\n\t     *   If `template` is a function, it will be called with the following parameters:\n\t     *\n\t     *   - {array.&lt;object&gt;} - state parameters extracted from the current $location.path() by\n\t     *     applying the current state\n\t     *\n\t     * <a id='templateUrl'></a>\n\t     *\n\t     * - **`templateUrl`** - {string|function=} - path or function that returns a path to an html\n\t     *   template that should be used by uiView.\n\t     *\n\t     *   If `templateUrl` is a function, it will be called with the following parameters:\n\t     *\n\t     *   - {array.&lt;object&gt;} - state parameters extracted from the current $location.path() by\n\t     *     applying the current state\n\t     *\n\t     * <a id='templateProvider'></a>\n\t     *\n\t     * - **`templateProvider`** - {function=} - Provider function that returns HTML content\n\t     *   string.\n\t     *\n\t     * <a id='controller'></a>\n\t     *\n\t     * - **`controller`** - {string|function=} -  Controller fn that should be associated with newly\n\t     *   related scope or the name of a registered controller if passed as a string.\n\t     *\n\t     * <a id='controllerProvider'></a>\n\t     *\n\t     * - **`controllerProvider`** - {function=} - Injectable provider function that returns\n\t     *   the actual controller or string.\n\t     *\n\t     * <a id='controllerAs'></a>\n\t     *\n\t     * - **`controllerAs`** – {string=} – A controller alias name. If present the controller will be\n\t     *   published to scope under the controllerAs name.\n\t     *\n\t     * <a id='resolve'></a>\n\t     *\n\t     * - **`resolve`** - {object.&lt;string, function&gt;=} - An optional map of dependencies which\n\t     *   should be injected into the controller. If any of these dependencies are promises,\n\t     *   the router will wait for them all to be resolved or one to be rejected before the\n\t     *   controller is instantiated. If all the promises are resolved successfully, the values\n\t     *   of the resolved promises are injected and $stateChangeSuccess event is fired. If any\n\t     *   of the promises are rejected the $stateChangeError event is fired. The map object is:\n\t     *\n\t     *   - key - {string}: name of dependency to be injected into controller\n\t     *   - factory - {string|function}: If string then it is alias for service. Otherwise if function,\n\t     *     it is injected and return value it treated as dependency. If result is a promise, it is\n\t     *     resolved before its value is injected into controller.\n\t     *\n\t     * <a id='url'></a>\n\t     *\n\t     * - **`url`** - {string=} - A url with optional parameters. When a state is navigated or\n\t     *   transitioned to, the `$stateParams` service will be populated with any\n\t     *   parameters that were passed.\n\t     *\n\t     * <a id='params'></a>\n\t     *\n\t     * - **`params`** - {object=} - An array of parameter names or regular expressions. Only\n\t     *   use this within a state if you are not using url. Otherwise you can specify your\n\t     *   parameters within the url. When a state is navigated or transitioned to, the\n\t     *   $stateParams service will be populated with any parameters that were passed.\n\t     *\n\t     * <a id='views'></a>\n\t     *\n\t     * - **`views`** - {object=} - Use the views property to set up multiple views or to target views\n\t     *   manually/explicitly.\n\t     *\n\t     * <a id='abstract'></a>\n\t     *\n\t     * - **`abstract`** - {boolean=} - An abstract state will never be directly activated,\n\t     *   but can provide inherited properties to its common children states.\n\t     *\n\t     * <a id='onEnter'></a>\n\t     *\n\t     * - **`onEnter`** - {object=} - Callback function for when a state is entered. Good way\n\t     *   to trigger an action or dispatch an event, such as opening a dialog.\n\t     * If minifying your scripts, make sure to use the `['injection1', 'injection2', function(injection1, injection2){}]` syntax.\n\t     *\n\t     * <a id='onExit'></a>\n\t     *\n\t     * - **`onExit`** - {object=} - Callback function for when a state is exited. Good way to\n\t     *   trigger an action or dispatch an event, such as opening a dialog.\n\t     * If minifying your scripts, make sure to use the `['injection1', 'injection2', function(injection1, injection2){}]` syntax.\n\t     *\n\t     * <a id='reloadOnSearch'></a>\n\t     *\n\t     * - **`reloadOnSearch = true`** - {boolean=} - If `false`, will not retrigger the same state\n\t     *   just because a search/query parameter has changed (via $location.search() or $location.hash()).\n\t     *   Useful for when you'd like to modify $location.search() without triggering a reload.\n\t     *\n\t     * <a id='data'></a>\n\t     *\n\t     * - **`data`** - {object=} - Arbitrary data object, useful for custom configuration.\n\t     *\n\t     * @example\n\t     * <pre>\n\t     * // Some state name examples\n\t     *\n\t     * // stateName can be a single top-level name (must be unique).\n\t     * $stateProvider.state(\"home\", {});\n\t     *\n\t     * // Or it can be a nested state name. This state is a child of the\n\t     * // above \"home\" state.\n\t     * $stateProvider.state(\"home.newest\", {});\n\t     *\n\t     * // Nest states as deeply as needed.\n\t     * $stateProvider.state(\"home.newest.abc.xyz.inception\", {});\n\t     *\n\t     * // state() returns $stateProvider, so you can chain state declarations.\n\t     * $stateProvider\n\t     *   .state(\"home\", {})\n\t     *   .state(\"about\", {})\n\t     *   .state(\"contacts\", {});\n\t     * </pre>\n\t     *\n\t     * @param {string} name A unique state name, e.g. \"home\", \"about\", \"contacts\".\n\t     * To create a parent/child state use a dot, e.g. \"about.sales\", \"home.newest\".\n\t     * @param {object} definition State configuration object.\n\t     */\n\t    StateProvider.prototype.state = function (name, definition) {\n\t        if (predicates_1.isObject(name)) {\n\t            definition = name;\n\t        }\n\t        else {\n\t            definition.name = name;\n\t        }\n\t        this.stateRegistry.register(definition);\n\t        return this;\n\t    };\n\t    /**\n\t     * Registers an invalid state handler\n\t     *\n\t     * Registers a function to be injected and invoked when [[StateService.transitionTo]] has been called with an invalid\n\t     * state reference parameter\n\t     *\n\t     * This function can be injected with one some special values:\n\t     * - **`$to$`**: TargetState\n\t     * - **`$from$`**: TargetState\n\t     *\n\t     * Note: This API is subject to change.\n\t     * Replacement of dependency injection support with some alternative is likely.\n\t     *\n\t     * @param {function} callback\n\t     *   The function which will be injected and invoked, when a matching transition is started.\n\t     *   The function may optionally return a {TargetState} or a Promise for a TargetState.  If one\n\t     *   is returned, it is treated as a redirect.\n\t     */\n\t    StateProvider.prototype.onInvalid = function (callback) {\n\t        this.invalidCallbacks.push(callback);\n\t    };\n\t    return StateProvider;\n\t}());\n\texports.StateProvider = StateProvider;\n\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar transition_1 = __webpack_require__(11);\n\tvar hookRegistry_1 = __webpack_require__(15);\n\tvar resolve_1 = __webpack_require__(32);\n\tvar views_1 = __webpack_require__(33);\n\tvar url_1 = __webpack_require__(34);\n\tvar redirectTo_1 = __webpack_require__(35);\n\tvar onEnterExitRetain_1 = __webpack_require__(36);\n\tvar hof_1 = __webpack_require__(5);\n\t/**\n\t * The default [[Transition]] options.\n\t *\n\t * Include this object when applying custom defaults:\n\t * let reloadOpts = { reload: true, notify: true }\n\t * let options = defaults(theirOpts, customDefaults, defaultOptions);\n\t */\n\texports.defaultTransOpts = {\n\t    location: true,\n\t    relative: null,\n\t    inherit: false,\n\t    notify: true,\n\t    reload: false,\n\t    custom: {},\n\t    current: function () { return null; }\n\t};\n\t/**\n\t * This class provides services related to Transitions.\n\t *\n\t * - Most importantly, it allows global Transition Hooks to be registered.\n\t * - It allows the default transition error handler to be set.\n\t * - It also has a factory function for creating new [[Transition]] objects, (used internally by the [[StateService]]).\n\t *\n\t * At bootstrap, [[UIRouter]] creates a single instance (singleton) of this class.\n\t */\n\tvar TransitionService = (function () {\n\t    function TransitionService(_router) {\n\t        this._router = _router;\n\t        this.$view = _router.viewService;\n\t        hookRegistry_1.HookRegistry.mixin(new hookRegistry_1.HookRegistry(), this);\n\t        this._deregisterHookFns = {};\n\t        this.registerTransitionHooks();\n\t    }\n\t    /** @hidden */\n\t    TransitionService.prototype.registerTransitionHooks = function () {\n\t        var fns = this._deregisterHookFns;\n\t        // Wire up redirectTo hook\n\t        fns.redirectTo = this.onStart({ to: function (state) { return !!state.redirectTo; } }, redirectTo_1.redirectToHook);\n\t        // Wire up onExit/Retain/Enter state hooks\n\t        fns.onExit = this.onExit({ exiting: function (state) { return !!state.onExit; } }, onEnterExitRetain_1.onExitHook);\n\t        fns.onRetain = this.onRetain({ retained: function (state) { return !!state.onRetain; } }, onEnterExitRetain_1.onRetainHook);\n\t        fns.onEnter = this.onEnter({ entering: function (state) { return !!state.onEnter; } }, onEnterExitRetain_1.onEnterHook);\n\t        // Wire up Resolve hooks\n\t        fns.eagerResolve = this.onStart({}, resolve_1.eagerResolvePath, { priority: 1000 });\n\t        fns.lazyResolve = this.onEnter({ entering: hof_1.val(true) }, resolve_1.lazyResolveState, { priority: 1000 });\n\t        // Wire up the View management hooks\n\t        fns.loadViews = this.onStart({}, views_1.loadEnteringViews);\n\t        fns.activateViews = this.onSuccess({}, views_1.activateViews);\n\t        // After globals.current is updated at priority: 10000\n\t        fns.updateUrl = this.onSuccess({}, url_1.updateUrl, { priority: 9999 });\n\t    };\n\t    /** @inheritdoc */\n\t    TransitionService.prototype.onBefore = function (matchCriteria, callback, options) { throw \"\"; };\n\t    ;\n\t    /** @inheritdoc */\n\t    TransitionService.prototype.onStart = function (matchCriteria, callback, options) { throw \"\"; };\n\t    ;\n\t    /** @inheritdoc */\n\t    TransitionService.prototype.onExit = function (matchCriteria, callback, options) { throw \"\"; };\n\t    ;\n\t    /** @inheritdoc */\n\t    TransitionService.prototype.onRetain = function (matchCriteria, callback, options) { throw \"\"; };\n\t    ;\n\t    /** @inheritdoc */\n\t    TransitionService.prototype.onEnter = function (matchCriteria, callback, options) { throw \"\"; };\n\t    ;\n\t    /** @inheritdoc */\n\t    TransitionService.prototype.onFinish = function (matchCriteria, callback, options) { throw \"\"; };\n\t    ;\n\t    /** @inheritdoc */\n\t    TransitionService.prototype.onSuccess = function (matchCriteria, callback, options) { throw \"\"; };\n\t    ;\n\t    /** @inheritdoc */\n\t    TransitionService.prototype.onError = function (matchCriteria, callback, options) { throw \"\"; };\n\t    ;\n\t    /**\n\t     * Creates a new [[Transition]] object\n\t     *\n\t     * This is a factory function for creating new Transition objects.\n\t     * It is used internally by the [[StateService]] and should generally not be called by application code.\n\t     *\n\t     * @param fromPath the path to the current state (the from state)\n\t     * @param targetState the target state (destination)\n\t     * @returns a Transition\n\t     */\n\t    TransitionService.prototype.create = function (fromPath, targetState) {\n\t        return new transition_1.Transition(fromPath, targetState, this._router);\n\t    };\n\t    return TransitionService;\n\t}());\n\texports.TransitionService = TransitionService;\n\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module hooks */ /** for typedoc */\n\tvar common_1 = __webpack_require__(3);\n\tvar resolveContext_1 = __webpack_require__(17);\n\t/**\n\t * A [[TransitionHookFn]] which resolves all EAGER Resolvables in the To Path\n\t *\n\t * Registered using `transitionService.onStart({}, eagerResolvePath);`\n\t *\n\t * When a Transition starts, this hook resolves all the EAGER Resolvables, which the transition then waits for.\n\t *\n\t * See [[StateDeclaration.resolve]]\n\t */\n\texports.eagerResolvePath = function (trans) {\n\t    return new resolveContext_1.ResolveContext(trans.treeChanges().to)\n\t        .resolvePath(\"EAGER\", trans)\n\t        .then(common_1.noop);\n\t};\n\t/**\n\t * A [[TransitionHookFn]] which resolves all LAZY Resolvables for the state (and all its ancestors) in the To Path\n\t *\n\t * Registered using `transitionService.onEnter({ entering: () => true }, lazyResolveState);`\n\t *\n\t * When a State is being entered, this hook resolves all the Resolvables for this state, which the transition then waits for.\n\t *\n\t * See [[StateDeclaration.resolve]]\n\t */\n\texports.lazyResolveState = function (trans, state) {\n\t    return new resolveContext_1.ResolveContext(trans.treeChanges().to)\n\t        .subContext(state)\n\t        .resolvePath(\"LAZY\", trans)\n\t        .then(common_1.noop);\n\t};\n\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module hooks */ /** for typedoc */\n\tvar common_1 = __webpack_require__(3);\n\tvar coreservices_1 = __webpack_require__(6);\n\t/**\n\t * A [[TransitionHookFn]] which waits for the views to load\n\t *\n\t * Registered using `transitionService.onStart({}, loadEnteringViews);`\n\t *\n\t * Allows the views to do async work in [[ViewConfig.load]] before the transition continues.\n\t * In angular 1, this includes loading the templates.\n\t */\n\tfunction loadEnteringViews(transition) {\n\t    var enteringViews = transition.views(\"entering\");\n\t    if (!enteringViews.length)\n\t        return;\n\t    return coreservices_1.services.$q.all(enteringViews.map(function (view) { return view.load(); })).then(common_1.noop);\n\t}\n\texports.loadEnteringViews = loadEnteringViews;\n\t/**\n\t * A [[TransitionHookFn]] which activates the new views when a transition is successful.\n\t *\n\t * Registered using `transitionService.onSuccess({}, activateViews);`\n\t *\n\t * After a transition is complete, this hook deactivates the old views from the previous state,\n\t * and activates the new views from the destination state.\n\t *\n\t * See [[ViewService]]\n\t */\n\tfunction activateViews(transition) {\n\t    var enteringViews = transition.views(\"entering\");\n\t    var exitingViews = transition.views(\"exiting\");\n\t    if (!enteringViews.length && !exitingViews.length)\n\t        return;\n\t    var $view = transition.router.viewService;\n\t    exitingViews.forEach(function (vc) { return $view.deactivateViewConfig(vc); });\n\t    enteringViews.forEach(function (vc) { return $view.activateViewConfig(vc); });\n\t    $view.sync();\n\t}\n\texports.activateViews = activateViews;\n\n\n/***/ },\n/* 34 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t/**\n\t * A [[TransitionHookFn]] which updates the URL after a successful transition\n\t *\n\t * Registered using `transitionService.onSuccess({}, updateUrl);`\n\t */\n\tfunction updateUrl(transition) {\n\t    var options = transition.options();\n\t    var $state = transition.router.stateService;\n\t    var $urlRouter = transition.router.urlRouter;\n\t    if (options.location && $state.$current.navigable) {\n\t        var urlOptions = { replace: options.location === 'replace' };\n\t        $urlRouter.push($state.$current.navigable.url, $state.params, urlOptions);\n\t    }\n\t    $urlRouter.update(true);\n\t}\n\texports.updateUrl = updateUrl;\n\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module hooks */ /** */\n\tvar predicates_1 = __webpack_require__(4);\n\tvar coreservices_1 = __webpack_require__(6);\n\tvar targetState_1 = __webpack_require__(14);\n\t/**\n\t * A [[TransitionHookFn]] that redirects to a different state or params\n\t *\n\t * Registered using `transitionService.onStart({ to: (state) => !!state.redirectTo }, redirectHook);`\n\t *\n\t * See [[StateDeclaration.redirectTo]]\n\t */\n\texports.redirectToHook = function (trans) {\n\t    var redirect = trans.to().redirectTo;\n\t    if (!redirect)\n\t        return;\n\t    function handleResult(result) {\n\t        var $state = trans.router.stateService;\n\t        if (result instanceof targetState_1.TargetState)\n\t            return result;\n\t        if (predicates_1.isString(result))\n\t            return $state.target(result, trans.params(), trans.options());\n\t        if (result['state'] || result['params'])\n\t            return $state.target(result['state'] || trans.to(), result['params'] || trans.params(), trans.options());\n\t    }\n\t    if (predicates_1.isFunction(redirect)) {\n\t        return coreservices_1.services.$q.when(redirect(trans)).then(handleResult);\n\t    }\n\t    return handleResult(redirect);\n\t};\n\n\n/***/ },\n/* 36 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t/**\n\t * A factory which creates an onEnter, onExit or onRetain transition hook function\n\t *\n\t * The returned function invokes the (for instance) state.onEnter hook when the\n\t * state is being entered.\n\t *\n\t * @hidden\n\t */\n\tfunction makeEnterExitRetainHook(hookName) {\n\t    return function (transition, state) {\n\t        return state[hookName](transition, state);\n\t    };\n\t}\n\t/**\n\t * The [[TransitionStateHookFn]] for onExit\n\t *\n\t * When the state is being exited, the state's .onExit function is invoked.\n\t *\n\t * Registered using `transitionService.onExit({ exiting: (state) => !!state.onExit }, onExitHook);`\n\t */\n\texports.onExitHook = makeEnterExitRetainHook('onExit');\n\t/**\n\t * The [[TransitionStateHookFn]] for onRetain\n\t *\n\t * When the state is being exited, the state's .onRetain function is invoked.\n\t *\n\t * Registered using `transitionService.onRetain({ retained: (state) => !!state.onRetain }, onRetainHook);`\n\t */\n\texports.onRetainHook = makeEnterExitRetainHook('onRetain');\n\t/**\n\t * The [[TransitionStateHookFn]] for onEnter\n\t *\n\t * When the state is being exited, the state's .onEnter function is invoked.\n\t *\n\t * Registered using `transitionService.onEnter({ entering: (state) => !!state.onEnter }, onEnterHook);`\n\t */\n\texports.onEnterHook = makeEnterExitRetainHook('onEnter');\n\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module view */ /** for typedoc */\n\tvar common_1 = __webpack_require__(3);\n\tvar hof_1 = __webpack_require__(5);\n\tvar predicates_1 = __webpack_require__(4);\n\tvar trace_1 = __webpack_require__(12);\n\tvar match = function (obj1) {\n\t    var keys = [];\n\t    for (var _i = 1; _i < arguments.length; _i++) {\n\t        keys[_i - 1] = arguments[_i];\n\t    }\n\t    return function (obj2) { return keys.reduce(function (memo, key) { return memo && obj1[key] === obj2[key]; }, true); };\n\t};\n\t/**\n\t * The View service\n\t */\n\tvar ViewService = (function () {\n\t    function ViewService() {\n\t        var _this = this;\n\t        this.uiViews = [];\n\t        this.viewConfigs = [];\n\t        this._viewConfigFactories = {};\n\t        this.sync = function () {\n\t            var uiViewsByFqn = _this.uiViews.map(function (uiv) { return [uiv.fqn, uiv]; }).reduce(common_1.applyPairs, {});\n\t            /**\n\t             * Given a ui-view and a ViewConfig, determines if they \"match\".\n\t             *\n\t             * A ui-view has a fully qualified name (fqn) and a context object.  The fqn is built from its overall location in\n\t             * the DOM, describing its nesting relationship to any parent ui-view tags it is nested inside of.\n\t             *\n\t             * A ViewConfig has a target ui-view name and a context anchor.  The ui-view name can be a simple name, or\n\t             * can be a segmented ui-view path, describing a portion of a ui-view fqn.\n\t             *\n\t             * In order for a ui-view to match ViewConfig, ui-view's $type must match the ViewConfig's $type\n\t             *\n\t             * If the ViewConfig's target ui-view name is a simple name (no dots), then a ui-view matches if:\n\t             * - the ui-view's name matches the ViewConfig's target name\n\t             * - the ui-view's context matches the ViewConfig's anchor\n\t             *\n\t             * If the ViewConfig's target ui-view name is a segmented name (with dots), then a ui-view matches if:\n\t             * - There exists a parent ui-view where:\n\t             *    - the parent ui-view's name matches the first segment (index 0) of the ViewConfig's target name\n\t             *    - the parent ui-view's context matches the ViewConfig's anchor\n\t             * - And the remaining segments (index 1..n) of the ViewConfig's target name match the tail of the ui-view's fqn\n\t             *\n\t             * Example:\n\t             *\n\t             * DOM:\n\t             * <div ui-view>                        <!-- created in the root context (name: \"\") -->\n\t             *   <div ui-view=\"foo\">                <!-- created in the context named: \"A\"      -->\n\t             *     <div ui-view>                    <!-- created in the context named: \"A.B\"    -->\n\t             *       <div ui-view=\"bar\">            <!-- created in the context named: \"A.B.C\"  -->\n\t             *       </div>\n\t             *     </div>\n\t             *   </div>\n\t             * </div>\n\t             *\n\t             * uiViews: [\n\t             *  { fqn: \"$default\",                  creationContext: { name: \"\" } },\n\t             *  { fqn: \"$default.foo\",              creationContext: { name: \"A\" } },\n\t             *  { fqn: \"$default.foo.$default\",     creationContext: { name: \"A.B\" } }\n\t             *  { fqn: \"$default.foo.$default.bar\", creationContext: { name: \"A.B.C\" } }\n\t             * ]\n\t             *\n\t             * These four view configs all match the ui-view with the fqn: \"$default.foo.$default.bar\":\n\t             *\n\t             * - ViewConfig1: { uiViewName: \"bar\",                       uiViewContextAnchor: \"A.B.C\" }\n\t             * - ViewConfig2: { uiViewName: \"$default.bar\",              uiViewContextAnchor: \"A.B\" }\n\t             * - ViewConfig3: { uiViewName: \"foo.$default.bar\",          uiViewContextAnchor: \"A\" }\n\t             * - ViewConfig4: { uiViewName: \"$default.foo.$default.bar\", uiViewContextAnchor: \"\" }\n\t             *\n\t             * Using ViewConfig3 as an example, it matches the ui-view with fqn \"$default.foo.$default.bar\" because:\n\t             * - The ViewConfig's segmented target name is: [ \"foo\", \"$default\", \"bar\" ]\n\t             * - There exists a parent ui-view (which has fqn: \"$default.foo\") where:\n\t             *    - the parent ui-view's name \"foo\" matches the first segment \"foo\" of the ViewConfig's target name\n\t             *    - the parent ui-view's context \"A\" matches the ViewConfig's anchor context \"A\"\n\t             * - And the remaining segments [ \"$default\", \"bar\" ].join(\".\"_ of the ViewConfig's target name match\n\t             *   the tail of the ui-view's fqn \"default.bar\"\n\t             */\n\t            var matches = function (uiView) { return function (viewConfig) {\n\t                // Don't supply an ng1 ui-view with an ng2 ViewConfig, etc\n\t                if (uiView.$type !== viewConfig.viewDecl.$type)\n\t                    return false;\n\t                // Split names apart from both viewConfig and uiView into segments\n\t                var vc = viewConfig.viewDecl;\n\t                var vcSegments = vc.$uiViewName.split(\".\");\n\t                var uivSegments = uiView.fqn.split(\".\");\n\t                // Check if the tails of the segment arrays match. ex, these arrays' tails match:\n\t                // vc: [\"foo\", \"bar\"], uiv fqn: [\"$default\", \"foo\", \"bar\"]\n\t                if (!common_1.equals(vcSegments, uivSegments.slice(0 - vcSegments.length)))\n\t                    return false;\n\t                // Now check if the fqn ending at the first segment of the viewConfig matches the context:\n\t                // [\"$default\", \"foo\"].join(\".\") == \"$default.foo\", does the ui-view $default.foo context match?\n\t                var negOffset = (1 - vcSegments.length) || undefined;\n\t                var fqnToFirstSegment = uivSegments.slice(0, negOffset).join(\".\");\n\t                var uiViewContext = uiViewsByFqn[fqnToFirstSegment].creationContext;\n\t                return vc.$uiViewContextAnchor === (uiViewContext && uiViewContext.name);\n\t            }; };\n\t            // Return the number of dots in the fully qualified name\n\t            function uiViewDepth(uiView) {\n\t                return uiView.fqn.split(\".\").length;\n\t            }\n\t            // Return the ViewConfig's context's depth in the context tree.\n\t            function viewConfigDepth(config) {\n\t                var context = config.viewDecl.$context, count = 0;\n\t                while (++count && context.parent)\n\t                    context = context.parent;\n\t                return count;\n\t            }\n\t            // Given a depth function, returns a compare function which can return either ascending or descending order\n\t            var depthCompare = hof_1.curry(function (depthFn, posNeg, left, right) { return posNeg * (depthFn(left) - depthFn(right)); });\n\t            var matchingConfigPair = function (uiView) {\n\t                var matchingConfigs = _this.viewConfigs.filter(matches(uiView));\n\t                if (matchingConfigs.length > 1)\n\t                    matchingConfigs.sort(depthCompare(viewConfigDepth, -1)); // descending\n\t                return [uiView, matchingConfigs[0]];\n\t            };\n\t            var configureUIView = function (_a) {\n\t                var uiView = _a[0], viewConfig = _a[1];\n\t                // If a parent ui-view is reconfigured, it could destroy child ui-views.\n\t                // Before configuring a child ui-view, make sure it's still in the active uiViews array.\n\t                if (_this.uiViews.indexOf(uiView) !== -1)\n\t                    uiView.configUpdated(viewConfig);\n\t            };\n\t            _this.uiViews.sort(depthCompare(uiViewDepth, 1)).map(matchingConfigPair).forEach(configureUIView);\n\t        };\n\t    }\n\t    ViewService.prototype.rootContext = function (context) {\n\t        return this._rootContext = context || this._rootContext;\n\t    };\n\t    ;\n\t    ViewService.prototype.viewConfigFactory = function (viewType, factory) {\n\t        this._viewConfigFactories[viewType] = factory;\n\t    };\n\t    ViewService.prototype.createViewConfig = function (path, decl) {\n\t        var cfgFactory = this._viewConfigFactories[decl.$type];\n\t        if (!cfgFactory)\n\t            throw new Error(\"ViewService: No view config factory registered for type \" + decl.$type);\n\t        var cfgs = cfgFactory(path, decl);\n\t        return predicates_1.isArray(cfgs) ? cfgs : [cfgs];\n\t    };\n\t    /**\n\t     * De-registers a ViewConfig.\n\t     *\n\t     * @param viewConfig The ViewConfig view to deregister.\n\t     */\n\t    ViewService.prototype.deactivateViewConfig = function (viewConfig) {\n\t        trace_1.trace.traceViewServiceEvent(\"<- Removing\", viewConfig);\n\t        common_1.removeFrom(this.viewConfigs, viewConfig);\n\t    };\n\t    ;\n\t    ViewService.prototype.activateViewConfig = function (viewConfig) {\n\t        trace_1.trace.traceViewServiceEvent(\"-> Registering\", viewConfig);\n\t        this.viewConfigs.push(viewConfig);\n\t    };\n\t    ;\n\t    /**\n\t     * Allows a `ui-view` element to register its canonical name with a callback that allows it to\n\t     * be updated with a template, controller, and local variables.\n\t     *\n\t     * @param {String} name The fully-qualified name of the `ui-view` object being registered.\n\t     * @param {Function} configUpdatedCallback A callback that receives updates to the content & configuration\n\t     *                   of the view.\n\t     * @return {Function} Returns a de-registration function used when the view is destroyed.\n\t     */\n\t    ViewService.prototype.registerUIView = function (uiView) {\n\t        trace_1.trace.traceViewServiceUIViewEvent(\"-> Registering\", uiView);\n\t        var uiViews = this.uiViews;\n\t        var fqnMatches = function (uiv) { return uiv.fqn === uiView.fqn; };\n\t        if (uiViews.filter(fqnMatches).length)\n\t            trace_1.trace.traceViewServiceUIViewEvent(\"!!!! duplicate uiView named:\", uiView);\n\t        uiViews.push(uiView);\n\t        this.sync();\n\t        return function () {\n\t            var idx = uiViews.indexOf(uiView);\n\t            if (idx <= 0) {\n\t                trace_1.trace.traceViewServiceUIViewEvent(\"Tried removing non-registered uiView\", uiView);\n\t                return;\n\t            }\n\t            trace_1.trace.traceViewServiceUIViewEvent(\"<- Deregistering\", uiView);\n\t            common_1.removeFrom(uiViews)(uiView);\n\t        };\n\t    };\n\t    ;\n\t    /**\n\t     * Returns the list of views currently available on the page, by fully-qualified name.\n\t     *\n\t     * @return {Array} Returns an array of fully-qualified view names.\n\t     */\n\t    ViewService.prototype.available = function () {\n\t        return this.uiViews.map(hof_1.prop(\"fqn\"));\n\t    };\n\t    /**\n\t     * Returns the list of views on the page containing loaded content.\n\t     *\n\t     * @return {Array} Returns an array of fully-qualified view names.\n\t     */\n\t    ViewService.prototype.active = function () {\n\t        return this.uiViews.filter(hof_1.prop(\"$config\")).map(hof_1.prop(\"name\"));\n\t    };\n\t    /**\n\t     * Normalizes a view's name from a state.views configuration block.\n\t     *\n\t     * @param context the context object (state declaration) that the view belongs to\n\t     * @param rawViewName the name of the view, as declared in the [[StateDeclaration.views]]\n\t     *\n\t     * @returns the normalized uiViewName and uiViewContextAnchor that the view targets\n\t     */\n\t    ViewService.normalizeUIViewTarget = function (context, rawViewName) {\n\t        if (rawViewName === void 0) { rawViewName = \"\"; }\n\t        // TODO: Validate incoming view name with a regexp to allow:\n\t        // ex: \"view.name@foo.bar\" , \"^.^.view.name\" , \"view.name@^.^\" , \"\" ,\n\t        // \"@\" , \"$default@^\" , \"!$default.$default\" , \"!foo.bar\"\n\t        var viewAtContext = rawViewName.split(\"@\");\n\t        var uiViewName = viewAtContext[0] || \"$default\"; // default to unnamed view\n\t        var uiViewContextAnchor = predicates_1.isString(viewAtContext[1]) ? viewAtContext[1] : \"^\"; // default to parent context\n\t        // Handle relative view-name sugar syntax.\n\t        // Matches rawViewName \"^.^.^.foo.bar\" into array: [\"^.^.^.foo.bar\", \"^.^.^\", \"foo.bar\"],\n\t        var relativeViewNameSugar = /^(\\^(?:\\.\\^)*)\\.(.*$)/.exec(uiViewName);\n\t        if (relativeViewNameSugar) {\n\t            // Clobbers existing contextAnchor (rawViewName validation will fix this)\n\t            uiViewContextAnchor = relativeViewNameSugar[1]; // set anchor to \"^.^.^\"\n\t            uiViewName = relativeViewNameSugar[2]; // set view-name to \"foo.bar\"\n\t        }\n\t        if (uiViewName.charAt(0) === '!') {\n\t            uiViewName = uiViewName.substr(1);\n\t            uiViewContextAnchor = \"\"; // target absolutely from root\n\t        }\n\t        // handle parent relative targeting \"^.^.^\"\n\t        var relativeMatch = /^(\\^(?:\\.\\^)*)$/;\n\t        if (relativeMatch.exec(uiViewContextAnchor)) {\n\t            var anchor = uiViewContextAnchor.split(\".\").reduce((function (anchor, x) { return anchor.parent; }), context);\n\t            uiViewContextAnchor = anchor.name;\n\t        }\n\t        return { uiViewName: uiViewName, uiViewContextAnchor: uiViewContextAnchor };\n\t    };\n\t    return ViewService;\n\t}());\n\texports.ViewService = ViewService;\n\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/** @module state */ /** for typedoc */\n\t\"use strict\";\n\tvar stateMatcher_1 = __webpack_require__(39);\n\tvar stateBuilder_1 = __webpack_require__(40);\n\tvar stateQueueManager_1 = __webpack_require__(41);\n\tvar StateRegistry = (function () {\n\t    function StateRegistry(urlMatcherFactory, urlRouterProvider) {\n\t        this.states = {};\n\t        this.matcher = new stateMatcher_1.StateMatcher(this.states);\n\t        this.builder = new stateBuilder_1.StateBuilder(this.matcher, urlMatcherFactory);\n\t        this.stateQueue = new stateQueueManager_1.StateQueueManager(this.states, this.builder, urlRouterProvider);\n\t        var rootStateDef = {\n\t            name: '',\n\t            url: '^',\n\t            views: null,\n\t            params: {\n\t                '#': { value: null, type: 'hash', dynamic: true }\n\t            },\n\t            abstract: true\n\t        };\n\t        var _root = this._root = this.stateQueue.register(rootStateDef);\n\t        _root.navigable = null;\n\t    }\n\t    StateRegistry.prototype.root = function () {\n\t        return this._root;\n\t    };\n\t    StateRegistry.prototype.register = function (stateDefinition) {\n\t        return this.stateQueue.register(stateDefinition);\n\t    };\n\t    StateRegistry.prototype.get = function (stateOrName, base) {\n\t        var _this = this;\n\t        if (arguments.length === 0)\n\t            return Object.keys(this.states).map(function (name) { return _this.states[name].self; });\n\t        var found = this.matcher.find(stateOrName, base);\n\t        return found && found.self || null;\n\t    };\n\t    StateRegistry.prototype.decorator = function (name, func) {\n\t        return this.builder.builder(name, func);\n\t    };\n\t    return StateRegistry;\n\t}());\n\texports.StateRegistry = StateRegistry;\n\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module state */ /** for typedoc */\n\tvar predicates_1 = __webpack_require__(4);\n\tvar StateMatcher = (function () {\n\t    function StateMatcher(_states) {\n\t        this._states = _states;\n\t    }\n\t    StateMatcher.prototype.isRelative = function (stateName) {\n\t        stateName = stateName || \"\";\n\t        return stateName.indexOf(\".\") === 0 || stateName.indexOf(\"^\") === 0;\n\t    };\n\t    StateMatcher.prototype.find = function (stateOrName, base) {\n\t        if (!stateOrName && stateOrName !== \"\")\n\t            return undefined;\n\t        var isStr = predicates_1.isString(stateOrName);\n\t        var name = isStr ? stateOrName : stateOrName.name;\n\t        if (this.isRelative(name))\n\t            name = this.resolvePath(name, base);\n\t        var state = this._states[name];\n\t        if (state && (isStr || (!isStr && (state === stateOrName || state.self === stateOrName)))) {\n\t            return state;\n\t        }\n\t        return undefined;\n\t    };\n\t    StateMatcher.prototype.resolvePath = function (name, base) {\n\t        if (!base)\n\t            throw new Error(\"No reference point given for path '\" + name + \"'\");\n\t        var baseState = this.find(base);\n\t        var splitName = name.split(\".\"), i = 0, pathLength = splitName.length, current = baseState;\n\t        for (; i < pathLength; i++) {\n\t            if (splitName[i] === \"\" && i === 0) {\n\t                current = baseState;\n\t                continue;\n\t            }\n\t            if (splitName[i] === \"^\") {\n\t                if (!current.parent)\n\t                    throw new Error(\"Path '\" + name + \"' not valid for state '\" + baseState.name + \"'\");\n\t                current = current.parent;\n\t                continue;\n\t            }\n\t            break;\n\t        }\n\t        var relName = splitName.slice(i).join(\".\");\n\t        return current.name + (current.name && relName ? \".\" : \"\") + relName;\n\t    };\n\t    return StateMatcher;\n\t}());\n\texports.StateMatcher = StateMatcher;\n\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module state */ /** for typedoc */\n\tvar common_1 = __webpack_require__(3);\n\tvar predicates_1 = __webpack_require__(4);\n\tvar strings_1 = __webpack_require__(9);\n\tvar hof_1 = __webpack_require__(5);\n\tvar param_1 = __webpack_require__(22);\n\tvar resolvable_1 = __webpack_require__(19);\n\tvar coreservices_1 = __webpack_require__(6);\n\tvar parseUrl = function (url) {\n\t    if (!predicates_1.isString(url))\n\t        return false;\n\t    var root = url.charAt(0) === '^';\n\t    return { val: root ? url.substring(1) : url, root: root };\n\t};\n\tfunction selfBuilder(state) {\n\t    state.self.$$state = function () { return state; };\n\t    return state.self;\n\t}\n\tfunction dataBuilder(state) {\n\t    if (state.parent && state.parent.data) {\n\t        state.data = state.self.data = common_1.inherit(state.parent.data, state.data);\n\t    }\n\t    return state.data;\n\t}\n\tvar getUrlBuilder = function ($urlMatcherFactoryProvider, root) {\n\t    return function urlBuilder(state) {\n\t        var stateDec = state;\n\t        var parsed = parseUrl(stateDec.url), parent = state.parent;\n\t        var url = !parsed ? stateDec.url : $urlMatcherFactoryProvider.compile(parsed.val, {\n\t            params: state.params || {},\n\t            paramMap: function (paramConfig, isSearch) {\n\t                if (stateDec.reloadOnSearch === false && isSearch)\n\t                    paramConfig = common_1.extend(paramConfig || {}, { dynamic: true });\n\t                return paramConfig;\n\t            }\n\t        });\n\t        if (!url)\n\t            return null;\n\t        if (!$urlMatcherFactoryProvider.isMatcher(url))\n\t            throw new Error(\"Invalid url '\" + url + \"' in state '\" + state + \"'\");\n\t        return (parsed && parsed.root) ? url : ((parent && parent.navigable) || root()).url.append(url);\n\t    };\n\t};\n\tvar getNavigableBuilder = function (isRoot) {\n\t    return function navigableBuilder(state) {\n\t        return !isRoot(state) && state.url ? state : (state.parent ? state.parent.navigable : null);\n\t    };\n\t};\n\tfunction paramsBuilder(state) {\n\t    var makeConfigParam = function (config, id) { return param_1.Param.fromConfig(id, null, config); };\n\t    var urlParams = (state.url && state.url.parameters({ inherit: false })) || [];\n\t    var nonUrlParams = common_1.values(common_1.map(common_1.omit(state.params || {}, urlParams.map(hof_1.prop('id'))), makeConfigParam));\n\t    return urlParams.concat(nonUrlParams).map(function (p) { return [p.id, p]; }).reduce(common_1.applyPairs, {});\n\t}\n\tfunction pathBuilder(state) {\n\t    return state.parent ? state.parent.path.concat(state) : [state];\n\t}\n\tfunction includesBuilder(state) {\n\t    var includes = state.parent ? common_1.extend({}, state.parent.includes) : {};\n\t    includes[state.name] = true;\n\t    return includes;\n\t}\n\t/**\n\t * This is a [[StateBuilder.builder]] function for the `resolve:` block on a [[StateDeclaration]].\n\t *\n\t * When the [[StateBuilder]] builds a [[State]] object from a raw [[StateDeclaration]], this builder\n\t * validates the `resolve` property and converts it to a [[Resolvable]] array.\n\t *\n\t * resolve: input value can be:\n\t *\n\t * {\n\t *   // analyzed but not injected\n\t *   myFooResolve: function() { return \"myFooData\"; },\n\t *\n\t *   // function.toString() parsed, \"DependencyName\" dep as string (not min-safe)\n\t *   myBarResolve: function(DependencyName) { return DependencyName.fetchSomethingAsPromise() },\n\t *\n\t *   // Array split; \"DependencyName\" dep as string\n\t *   myBazResolve: [ \"DependencyName\", function(dep) { return dep.fetchSomethingAsPromise() },\n\t *\n\t *   // Array split; DependencyType dep as token (compared using ===)\n\t *   myQuxResolve: [ DependencyType, function(dep) { return dep.fetchSometingAsPromise() },\n\t *\n\t *   // val.$inject used as deps\n\t *   // where:\n\t *   //     corgeResolve.$inject = [\"DependencyName\"];\n\t *   //     function corgeResolve(dep) { dep.fetchSometingAsPromise() }\n\t *   // then \"DependencyName\" dep as string\n\t *   myCorgeResolve: corgeResolve,\n\t *\n\t *  // inject service by name\n\t *  // When a string is found, desugar creating a resolve that injects the named service\n\t *   myGraultResolve: \"SomeService\"\n\t * }\n\t *\n\t * or:\n\t *\n\t * [\n\t *   new Resolvable(\"myFooResolve\", function() { return \"myFooData\" }),\n\t *   new Resolvable(\"myBarResolve\", function(dep) { return dep.fetchSomethingAsPromise() }, [ \"DependencyName\" ]),\n\t *   { provide: \"myBazResolve\", useFactory: function(dep) { dep.fetchSomethingAsPromise() }, deps: [ \"DependencyName\" ] }\n\t * ]\n\t */\n\tfunction resolvablesBuilder(state) {\n\t    /** convert a resolve: {} object to an array of tuples */\n\t    var obj2Tuples = function (obj) { return Object.keys(obj || {}).map(function (token) { return ({ token: token, val: obj[token], deps: undefined }); }); };\n\t    /** fetch DI annotations from a function or ng1-style array */\n\t    var annotate = function (fn) { return fn.$inject || coreservices_1.services.$injector.annotate(fn, coreservices_1.services.$injector.strictDi); };\n\t    /** true if the object has both `token` and `resolveFn`, and is probably a [[ResolveLiteral]] */\n\t    var isResolveLiteral = function (obj) { return !!(obj.token && obj.resolveFn); };\n\t    /** true if the object looks like a provide literal, or a ng2 Provider */\n\t    var isLikeNg2Provider = function (obj) { return !!((obj.provide || obj.token) && (obj.useValue || obj.useFactory || obj.useExisting || obj.useClass)); };\n\t    /** true if the object looks like a tuple from obj2Tuples */\n\t    var isTupleFromObj = function (obj) { return !!(obj && obj.val && (predicates_1.isString(obj.val) || predicates_1.isArray(obj.val) || predicates_1.isFunction(obj.val))); };\n\t    /** extracts the token from a Provider or provide literal */\n\t    var token = function (p) { return p.provide || p.token; };\n\t    /** Given a literal resolve or provider object, returns a Resolvable */\n\t    var literal2Resolvable = hof_1.pattern([\n\t        [hof_1.prop('resolveFn'), function (p) { return new resolvable_1.Resolvable(token(p), p.resolveFn, p.deps, p.policy); }],\n\t        [hof_1.prop('useFactory'), function (p) { return new resolvable_1.Resolvable(token(p), p.useFactory, (p.deps || p.dependencies), p.policy); }],\n\t        [hof_1.prop('useClass'), function (p) { return new resolvable_1.Resolvable(token(p), function () { return new p.useClass(); }, [], p.policy); }],\n\t        [hof_1.prop('useValue'), function (p) { return new resolvable_1.Resolvable(token(p), function () { return p.useValue; }, [], p.policy, p.useValue); }],\n\t        [hof_1.prop('useExisting'), function (p) { return new resolvable_1.Resolvable(token(p), function (x) { return x; }, [p.useExisting], p.policy); }],\n\t    ]);\n\t    var tuple2Resolvable = hof_1.pattern([\n\t        [hof_1.pipe(hof_1.prop(\"val\"), predicates_1.isString), function (tuple) { return new resolvable_1.Resolvable(tuple.token, function (x) { return x; }, [tuple.val], tuple.policy); }],\n\t        [hof_1.pipe(hof_1.prop(\"val\"), predicates_1.isArray), function (tuple) { return new resolvable_1.Resolvable(tuple.token, common_1.tail(tuple.val), tuple.val.slice(0, -1), tuple.policy); }],\n\t        [hof_1.pipe(hof_1.prop(\"val\"), predicates_1.isFunction), function (tuple) { return new resolvable_1.Resolvable(tuple.token, tuple.val, annotate(tuple.val), tuple.policy); }],\n\t    ]);\n\t    var item2Resolvable = hof_1.pattern([\n\t        [hof_1.is(resolvable_1.Resolvable), function (r) { return r; }],\n\t        [isResolveLiteral, literal2Resolvable],\n\t        [isLikeNg2Provider, literal2Resolvable],\n\t        [isTupleFromObj, tuple2Resolvable],\n\t        [hof_1.val(true), function (tuple) { throw new Error(\"Invalid resolve value: \" + strings_1.stringify(tuple)); }]\n\t    ]);\n\t    // If resolveBlock is already an array, use it as-is.\n\t    // Otherwise, assume it's an object and convert to an Array of tuples\n\t    var decl = state.resolve;\n\t    var items = predicates_1.isArray(decl) ? decl : obj2Tuples(decl);\n\t    return items.map(item2Resolvable);\n\t}\n\texports.resolvablesBuilder = resolvablesBuilder;\n\t/**\n\t * @internalapi A internal global service\n\t *\n\t * StateBuilder is a factory for the internal [[State]] objects.\n\t *\n\t * When you register a state with the [[StateRegistry]], you register a plain old javascript object which\n\t * conforms to the [[StateDeclaration]] interface.  This factory takes that object and builds the corresponding\n\t * [[State]] object, which has an API and is used internally.\n\t *\n\t * Custom properties or API may be added to the internal [[State]] object by registering a decorator function\n\t * using the [[builder]] method.\n\t */\n\tvar StateBuilder = (function () {\n\t    function StateBuilder(matcher, $urlMatcherFactoryProvider) {\n\t        this.matcher = matcher;\n\t        var self = this;\n\t        var root = function () { return matcher.find(\"\"); };\n\t        var isRoot = function (state) { return state.name === \"\"; };\n\t        function parentBuilder(state) {\n\t            if (isRoot(state))\n\t                return null;\n\t            return matcher.find(self.parentName(state)) || root();\n\t        }\n\t        this.builders = {\n\t            self: [selfBuilder],\n\t            parent: [parentBuilder],\n\t            data: [dataBuilder],\n\t            // Build a URLMatcher if necessary, either via a relative or absolute URL\n\t            url: [getUrlBuilder($urlMatcherFactoryProvider, root)],\n\t            // Keep track of the closest ancestor state that has a URL (i.e. is navigable)\n\t            navigable: [getNavigableBuilder(isRoot)],\n\t            params: [paramsBuilder],\n\t            // Each framework-specific ui-router implementation should define its own `views` builder\n\t            // e.g., src/ng1/statebuilders/views.ts\n\t            views: [],\n\t            // Keep a full path from the root down to this state as this is needed for state activation.\n\t            path: [pathBuilder],\n\t            // Speed up $state.includes() as it's used a lot\n\t            includes: [includesBuilder],\n\t            resolvables: [resolvablesBuilder]\n\t        };\n\t    }\n\t    /**\n\t     * Registers a [[BuilderFunction]] for a specific [[State]] property (e.g., `parent`, `url`, or `path`).\n\t     * More than one BuilderFunction can be registered for a given property.\n\t     *\n\t     * The BuilderFunction(s) will be used to define the property on any subsequently built [[State]] objects.\n\t     *\n\t     * @param name The name of the State property being registered for.\n\t     * @param fn The BuilderFunction which will be used to build the State property\n\t     * @returns a function which deregisters the BuilderFunction\n\t     */\n\t    StateBuilder.prototype.builder = function (name, fn) {\n\t        var builders = this.builders;\n\t        var array = builders[name] || [];\n\t        // Backwards compat: if only one builder exists, return it, else return whole arary.\n\t        if (predicates_1.isString(name) && !predicates_1.isDefined(fn))\n\t            return array.length > 1 ? array : array[0];\n\t        if (!predicates_1.isString(name) || !predicates_1.isFunction(fn))\n\t            return;\n\t        builders[name] = array;\n\t        builders[name].push(fn);\n\t        return function () { return builders[name].splice(builders[name].indexOf(fn, 1)) && null; };\n\t    };\n\t    /**\n\t     * Builds all of the properties on an essentially blank State object, returning a State object which has all its\n\t     * properties and API built.\n\t     *\n\t     * @param state an uninitialized State object\n\t     * @returns the built State object\n\t     */\n\t    StateBuilder.prototype.build = function (state) {\n\t        var _a = this, matcher = _a.matcher, builders = _a.builders;\n\t        var parent = this.parentName(state);\n\t        if (parent && !matcher.find(parent))\n\t            return null;\n\t        for (var key in builders) {\n\t            if (!builders.hasOwnProperty(key))\n\t                continue;\n\t            var chain = builders[key].reduce(function (parentFn, step) { return function (_state) { return step(_state, parentFn); }; }, common_1.noop);\n\t            state[key] = chain(state);\n\t        }\n\t        return state;\n\t    };\n\t    StateBuilder.prototype.parentName = function (state) {\n\t        var name = state.name || \"\";\n\t        if (name.indexOf('.') !== -1)\n\t            return name.substring(0, name.lastIndexOf('.'));\n\t        if (!state.parent)\n\t            return \"\";\n\t        return predicates_1.isString(state.parent) ? state.parent : state.parent.name;\n\t    };\n\t    StateBuilder.prototype.name = function (state) {\n\t        var name = state.name;\n\t        if (name.indexOf('.') !== -1 || !state.parent)\n\t            return name;\n\t        var parentName = predicates_1.isString(state.parent) ? state.parent : state.parent.name;\n\t        return parentName ? parentName + \".\" + name : name;\n\t    };\n\t    return StateBuilder;\n\t}());\n\texports.StateBuilder = StateBuilder;\n\n\n/***/ },\n/* 41 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module state */ /** for typedoc */\n\tvar common_1 = __webpack_require__(3);\n\tvar predicates_1 = __webpack_require__(4);\n\tvar stateObject_1 = __webpack_require__(42);\n\tvar StateQueueManager = (function () {\n\t    function StateQueueManager(states, builder, $urlRouterProvider) {\n\t        this.states = states;\n\t        this.builder = builder;\n\t        this.$urlRouterProvider = $urlRouterProvider;\n\t        this.queue = [];\n\t    }\n\t    StateQueueManager.prototype.register = function (config) {\n\t        var _a = this, states = _a.states, queue = _a.queue, $state = _a.$state;\n\t        // Wrap a new object around the state so we can store our private details easily.\n\t        // @TODO: state = new State(extend({}, config, { ... }))\n\t        var state = common_1.inherit(new stateObject_1.State(), common_1.extend({}, config, {\n\t            self: config,\n\t            resolve: config.resolve || [],\n\t            toString: function () { return config.name; }\n\t        }));\n\t        if (!predicates_1.isString(state.name))\n\t            throw new Error(\"State must have a valid name\");\n\t        if (states.hasOwnProperty(state.name) || common_1.pluck(queue, 'name').indexOf(state.name) !== -1)\n\t            throw new Error(\"State '\" + state.name + \"' is already defined\");\n\t        queue.push(state);\n\t        if (this.$state) {\n\t            this.flush($state);\n\t        }\n\t        return state;\n\t    };\n\t    StateQueueManager.prototype.flush = function ($state) {\n\t        var _a = this, queue = _a.queue, states = _a.states, builder = _a.builder;\n\t        var result, state, orphans = [], orphanIdx, previousQueueLength = {};\n\t        while (queue.length > 0) {\n\t            state = queue.shift();\n\t            result = builder.build(state);\n\t            orphanIdx = orphans.indexOf(state);\n\t            if (result) {\n\t                if (states.hasOwnProperty(state.name))\n\t                    throw new Error(\"State '\" + name + \"' is already defined\");\n\t                states[state.name] = state;\n\t                this.attachRoute($state, state);\n\t                if (orphanIdx >= 0)\n\t                    orphans.splice(orphanIdx, 1);\n\t                continue;\n\t            }\n\t            var prev = previousQueueLength[state.name];\n\t            previousQueueLength[state.name] = queue.length;\n\t            if (orphanIdx >= 0 && prev === queue.length) {\n\t                // Wait until two consecutive iterations where no additional states were dequeued successfully.\n\t                // throw new Error(`Cannot register orphaned state '${state.name}'`);\n\t                return states;\n\t            }\n\t            else if (orphanIdx < 0) {\n\t                orphans.push(state);\n\t            }\n\t            queue.push(state);\n\t        }\n\t        return states;\n\t    };\n\t    StateQueueManager.prototype.autoFlush = function ($state) {\n\t        this.$state = $state;\n\t        this.flush($state);\n\t    };\n\t    StateQueueManager.prototype.attachRoute = function ($state, state) {\n\t        var $urlRouterProvider = this.$urlRouterProvider;\n\t        if (state[common_1.abstractKey] || !state.url)\n\t            return;\n\t        $urlRouterProvider.when(state.url, ['$match', '$stateParams', function ($match, $stateParams) {\n\t                if ($state.$current.navigable !== state || !common_1.equalForKeys($match, $stateParams)) {\n\t                    $state.transitionTo(state, $match, { inherit: true, location: false });\n\t                }\n\t            }]);\n\t    };\n\t    return StateQueueManager;\n\t}());\n\texports.StateQueueManager = StateQueueManager;\n\n\n/***/ },\n/* 42 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/** @module state */ /** for typedoc */\n\t\"use strict\";\n\tvar common_1 = __webpack_require__(3);\n\tvar hof_1 = __webpack_require__(5);\n\t/**\n\t * @ngdoc object\n\t * @name ui.router.state.type:State\n\t *\n\t * @description\n\t * Definition object for states. Includes methods for manipulating the state heirarchy.\n\t *\n\t * @param {Object} config  A configuration object hash that includes the results of user-supplied\n\t *        values, as well as values from `StateBuilder`.\n\t *\n\t * @returns {Object}  Returns a new `State` object.\n\t */\n\tvar State = (function () {\n\t    function State(config) {\n\t        common_1.extend(this, config);\n\t        // Object.freeze(this);\n\t    }\n\t    /**\n\t     * @ngdoc function\n\t     * @name ui.router.state.type:State#is\n\t     * @methodOf ui.router.state.type:State\n\t     *\n\t     * @description\n\t     * Compares the identity of the state against the passed value, which is either an object\n\t     * reference to the actual `State` instance, the original definition object passed to\n\t     * `$stateProvider.state()`, or the fully-qualified name.\n\t     *\n\t     * @param {Object} ref Can be one of (a) a `State` instance, (b) an object that was passed\n\t     *        into `$stateProvider.state()`, (c) the fully-qualified name of a state as a string.\n\t     * @returns {boolean} Returns `true` if `ref` matches the current `State` instance.\n\t     */\n\t    State.prototype.is = function (ref) {\n\t        return this === ref || this.self === ref || this.fqn() === ref;\n\t    };\n\t    /**\n\t     * @ngdoc function\n\t     * @name ui.router.state.type:State#fqn\n\t     * @methodOf ui.router.state.type:State\n\t     *\n\t     * @description\n\t     * Returns the fully-qualified name of the state, based on its current position in the tree.\n\t     *\n\t     * @returns {string} Returns a dot-separated name of the state.\n\t     */\n\t    State.prototype.fqn = function () {\n\t        if (!this.parent || !(this.parent instanceof this.constructor))\n\t            return this.name;\n\t        var name = this.parent.fqn();\n\t        return name ? name + \".\" + this.name : this.name;\n\t    };\n\t    /**\n\t     * @ngdoc function\n\t     * @name ui.router.state.type:State#root\n\t     * @methodOf ui.router.state.type:State\n\t     *\n\t     * @description\n\t     * Returns the root node of this state's tree.\n\t     *\n\t     * @returns {State} The root of this state's tree.\n\t     */\n\t    State.prototype.root = function () {\n\t        return this.parent && this.parent.root() || this;\n\t    };\n\t    State.prototype.parameters = function (opts) {\n\t        opts = common_1.defaults(opts, { inherit: true });\n\t        var inherited = opts.inherit && this.parent && this.parent.parameters() || [];\n\t        return inherited.concat(common_1.values(this.params));\n\t    };\n\t    State.prototype.parameter = function (id, opts) {\n\t        if (opts === void 0) { opts = {}; }\n\t        return (this.url && this.url.parameter(id, opts) ||\n\t            common_1.find(common_1.values(this.params), hof_1.propEq('id', id)) ||\n\t            opts.inherit && this.parent && this.parent.parameter(id));\n\t    };\n\t    State.prototype.toString = function () {\n\t        return this.fqn();\n\t    };\n\t    return State;\n\t}());\n\texports.State = State;\n\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module state */ /** */\n\tvar common_1 = __webpack_require__(3);\n\tvar predicates_1 = __webpack_require__(4);\n\tvar queue_1 = __webpack_require__(8);\n\tvar coreservices_1 = __webpack_require__(6);\n\tvar pathFactory_1 = __webpack_require__(20);\n\tvar node_1 = __webpack_require__(21);\n\tvar transitionService_1 = __webpack_require__(31);\n\tvar rejectFactory_1 = __webpack_require__(10);\n\tvar targetState_1 = __webpack_require__(14);\n\tvar param_1 = __webpack_require__(22);\n\tvar glob_1 = __webpack_require__(7);\n\tvar common_2 = __webpack_require__(3);\n\tvar common_3 = __webpack_require__(3);\n\tvar StateService = (function () {\n\t    /** @hidden */\n\t    function StateService(router) {\n\t        this.router = router;\n\t        /** @hidden */\n\t        this._defaultErrorHandler = function $defaultErrorHandler($error$) {\n\t            if ($error$ instanceof Error && $error$.stack) {\n\t                console.error($error$.stack);\n\t            }\n\t            else if ($error$ instanceof rejectFactory_1.Rejection) {\n\t                console.error($error$);\n\t                if ($error$.detail && $error$.detail.stack)\n\t                    console.error($error$.detail.stack);\n\t            }\n\t            else {\n\t                console.error($error$);\n\t            }\n\t        };\n\t        var getters = ['current', '$current', 'params', 'transition'];\n\t        var boundFns = Object.keys(StateService.prototype).filter(function (key) { return getters.indexOf(key) === -1; });\n\t        common_3.bindFunctions(StateService.prototype, this, this, boundFns);\n\t    }\n\t    Object.defineProperty(StateService.prototype, \"transition\", {\n\t        get: function () { return this.router.globals.transition; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(StateService.prototype, \"params\", {\n\t        get: function () { return this.router.globals.params; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(StateService.prototype, \"current\", {\n\t        get: function () { return this.router.globals.current; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(StateService.prototype, \"$current\", {\n\t        get: function () { return this.router.globals.$current; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    /**\n\t     * Handler for when [[transitionTo]] is called with an invalid state.\n\t     *\n\t     * Invokes the [[onInvalid]] callbacks, in natural order.\n\t     * Each callback's return value is checked in sequence until one of them returns an instance of TargetState.\n\t     * The results of the callbacks are wrapped in $q.when(), so the callbacks may return promises.\n\t     *\n\t     * If a callback returns an TargetState, then it is used as arguments to $state.transitionTo() and the result returned.\n\t     */\n\t    StateService.prototype._handleInvalidTargetState = function (fromPath, $to$) {\n\t        var _this = this;\n\t        var globals = this.router.globals;\n\t        var latestThing = function () { return globals.transitionHistory.peekTail(); };\n\t        var latest = latestThing();\n\t        var $from$ = pathFactory_1.PathFactory.makeTargetState(fromPath);\n\t        var callbackQueue = new queue_1.Queue([].concat(this.router.stateProvider.invalidCallbacks));\n\t        var $q = coreservices_1.services.$q, $injector = coreservices_1.services.$injector;\n\t        var invokeCallback = function (callback) { return $q.when($injector.invoke(callback, null, { $to$: $to$, $from$: $from$ })); };\n\t        var checkForRedirect = function (result) {\n\t            if (!(result instanceof targetState_1.TargetState)) {\n\t                return;\n\t            }\n\t            var target = result;\n\t            // Recreate the TargetState, in case the state is now defined.\n\t            target = _this.target(target.identifier(), target.params(), target.options());\n\t            if (!target.valid())\n\t                return rejectFactory_1.Rejection.invalid(target.error()).toPromise();\n\t            if (latestThing() !== latest)\n\t                return rejectFactory_1.Rejection.superseded().toPromise();\n\t            return _this.transitionTo(target.identifier(), target.params(), target.options());\n\t        };\n\t        function invokeNextCallback() {\n\t            var nextCallback = callbackQueue.dequeue();\n\t            if (nextCallback === undefined)\n\t                return rejectFactory_1.Rejection.invalid($to$.error()).toPromise();\n\t            return invokeCallback(nextCallback).then(checkForRedirect).then(function (result) { return result || invokeNextCallback(); });\n\t        }\n\t        return invokeNextCallback();\n\t    };\n\t    /**\n\t     * @ngdoc function\n\t     * @name ui.router.state.$state#reload\n\t     * @methodOf ui.router.state.$state\n\t     *\n\t     * @description\n\t     * A method that force reloads the current state, or a partial state hierarchy. All resolves are re-resolved,\n\t     * controllers reinstantiated, and events re-fired.\n\t     *\n\t     * @example\n\t     * <pre>\n\t     * let app angular.module('app', ['ui.router']);\n\t     *\n\t     * app.controller('ctrl', function ($scope, $state) {\n\t     *   $scope.reload = function(){\n\t     *     $state.reload();\n\t     *   }\n\t     * });\n\t     * </pre>\n\t     *\n\t     * `reload()` is just an alias for:\n\t     * <pre>\n\t     * $state.transitionTo($state.current, $stateParams, {\n\t     *   reload: true, inherit: false, notify: true\n\t     * });\n\t     * </pre>\n\t     *\n\t     * @param {string=|object=} reloadState - A state name or a state object, which is the root of the resolves to be re-resolved.\n\t     * @example\n\t     * <pre>\n\t     * //assuming app application consists of 3 states: 'contacts', 'contacts.detail', 'contacts.detail.item'\n\t     * //and current state is 'contacts.detail.item'\n\t     * let app angular.module('app', ['ui.router']);\n\t     *\n\t     * app.controller('ctrl', function ($scope, $state) {\n\t     *   $scope.reload = function(){\n\t     *     //will reload 'contact.detail' and nested 'contact.detail.item' states\n\t     *     $state.reload('contact.detail');\n\t     *   }\n\t     * });\n\t     * </pre>\n\t     *\n\t     * @returns {promise} A promise representing the state of the new transition. See\n\t     * {@link ui.router.state.$state#methods_go $state.go}.\n\t     */\n\t    StateService.prototype.reload = function (reloadState) {\n\t        return this.transitionTo(this.current, this.params, {\n\t            reload: predicates_1.isDefined(reloadState) ? reloadState : true,\n\t            inherit: false,\n\t            notify: false\n\t        });\n\t    };\n\t    ;\n\t    /**\n\t     * @ngdoc function\n\t     * @name ui.router.state.$state#go\n\t     * @methodOf ui.router.state.$state\n\t     *\n\t     * @description\n\t     * Convenience method for transitioning to a new state. `$state.go` calls\n\t     * `$state.transitionTo` internally but automatically sets options to\n\t     * `{ location: true, inherit: true, relative: $state.$current, notify: true }`.\n\t     * This allows you to easily use an absolute or relative to path and specify\n\t     * only the parameters you'd like to update (while letting unspecified parameters\n\t     * inherit from the currently active ancestor states).\n\t     *\n\t     * @example\n\t     * <pre>\n\t     * let app = angular.module('app', ['ui.router']);\n\t     *\n\t     * app.controller('ctrl', function ($scope, $state) {\n\t     *   $scope.changeState = function () {\n\t     *     $state.go('contact.detail');\n\t     *   };\n\t     * });\n\t     * </pre>\n\t     * <img src='../ngdoc_assets/StateGoExamples.png'/>\n\t     *\n\t     * @param {string} to Absolute state name or relative state path. Some examples:\n\t     *\n\t     * - `$state.go('contact.detail')` - will go to the `contact.detail` state\n\t     * - `$state.go('^')` - will go to a parent state\n\t     * - `$state.go('^.sibling')` - will go to a sibling state\n\t     * - `$state.go('.child.grandchild')` - will go to grandchild state\n\t     *\n\t     * @param {object=} params A map of the parameters that will be sent to the state,\n\t     * will populate $stateParams. Any parameters that are not specified will be inherited from currently\n\t     * defined parameters. This allows, for example, going to a sibling state that shares parameters\n\t     * specified in a parent state. Parameter inheritance only works between common ancestor states, I.e.\n\t     * transitioning to a sibling will get you the parameters for all parents, transitioning to a child\n\t     * will get you all current parameters, etc.\n\t     * @param {object=} options Options object. The options are:\n\t     *\n\t     * - **`location`** - {boolean=true|string=} - If `true` will update the url in the location bar, if `false`\n\t     *    will not. If string, must be `\"replace\"`, which will update url and also replace last history record.\n\t     * - **`inherit`** - {boolean=true}, If `true` will inherit url parameters from current url.\n\t     * - **`relative`** - {object=$state.$current}, When transitioning with relative path (e.g '^'),\n\t     *    defines which state to be relative from.\n\t     * - **`notify`** - {boolean=true}, If `true` will broadcast $stateChangeStart and $stateChangeSuccess events.\n\t     * - **`reload`** (v0.2.5) - {boolean=false}, If `true` will force transition even if the state or params\n\t     *    have not changed, aka a reload of the same state. It differs from reloadOnSearch because you'd\n\t     *    use this when you want to force a reload when *everything* is the same, including search params.\n\t     *\n\t     * @returns {promise} A promise representing the state of the new transition.\n\t     *\n\t     * Possible success values:\n\t     *\n\t     * - $state.current\n\t     *\n\t     * <br/>Possible rejection values:\n\t     *\n\t     * - 'transition superseded' - when a newer transition has been started after this one\n\t     * - 'transition prevented' - when `event.preventDefault()` has been called in a `$stateChangeStart` listener\n\t     * - 'transition aborted' - when `event.preventDefault()` has been called in a `$stateNotFound` listener or\n\t     *   when a `$stateNotFound` `event.retry` promise errors.\n\t     * - 'transition failed' - when a state has been unsuccessfully found after 2 tries.\n\t     * - *resolve error* - when an error has occurred with a `resolve`\n\t     *\n\t     */\n\t    StateService.prototype.go = function (to, params, options) {\n\t        var defautGoOpts = { relative: this.$current, inherit: true };\n\t        var transOpts = common_1.defaults(options, defautGoOpts, transitionService_1.defaultTransOpts);\n\t        return this.transitionTo(to, params, transOpts);\n\t    };\n\t    ;\n\t    /** Factory method for creating a TargetState */\n\t    StateService.prototype.target = function (identifier, params, options) {\n\t        if (options === void 0) { options = {}; }\n\t        // If we're reloading, find the state object to reload from\n\t        if (predicates_1.isObject(options.reload) && !options.reload.name)\n\t            throw new Error('Invalid reload state object');\n\t        var reg = this.router.stateRegistry;\n\t        options.reloadState = options.reload === true ? reg.root() : reg.matcher.find(options.reload, options.relative);\n\t        if (options.reload && !options.reloadState)\n\t            throw new Error(\"No such reload state '\" + (predicates_1.isString(options.reload) ? options.reload : options.reload.name) + \"'\");\n\t        var stateDefinition = reg.matcher.find(identifier, options.relative);\n\t        return new targetState_1.TargetState(identifier, stateDefinition, params, options);\n\t    };\n\t    ;\n\t    /**\n\t     * @ngdoc function\n\t     * @name ui.router.state.$state#transitionTo\n\t     * @methodOf ui.router.state.$state\n\t     *\n\t     * @description\n\t     * Low-level method for transitioning to a new state. {@link ui.router.state.$state#methods_go $state.go}\n\t     * uses `transitionTo` internally. `$state.go` is recommended in most situations.\n\t     *\n\t     * @example\n\t     * <pre>\n\t     * let app = angular.module('app', ['ui.router']);\n\t     *\n\t     * app.controller('ctrl', function ($scope, $state) {\n\t     *   $scope.changeState = function () {\n\t     *     $state.transitionTo('contact.detail');\n\t     *   };\n\t     * });\n\t     * </pre>\n\t     *\n\t     * @param {string} to State name.\n\t     * @param {object=} toParams A map of the parameters that will be sent to the state,\n\t     * will populate $stateParams.\n\t     * @param {object=} options Options object. The options are:\n\t     *\n\t     * - **`location`** - {boolean=true|string=} - If `true` will update the url in the location bar, if `false`\n\t     *    will not. If string, must be `\"replace\"`, which will update url and also replace last history record.\n\t     * - **`inherit`** - {boolean=false}, If `true` will inherit url parameters from current url.\n\t     * - **`relative`** - {object=}, When transitioning with relative path (e.g '^'),\n\t     *    defines which state to be relative from.\n\t     * - **`notify`** - {boolean=true}, If `true` will broadcast $stateChangeStart and $stateChangeSuccess events.\n\t     * - **`reload`** (v0.2.5) - {boolean=false}, If `true` will force transition even if the state or params\n\t     *    have not changed, aka a reload of the same state. It differs from reloadOnSearch because you'd\n\t     *    use this when you want to force a reload when *everything* is the same, including search params.\n\t     *\n\t     * @returns {promise} A promise representing the state of the new transition. See\n\t     * {@link ui.router.state.$state#methods_go $state.go}.\n\t     */\n\t    StateService.prototype.transitionTo = function (to, toParams, options) {\n\t        var _this = this;\n\t        if (toParams === void 0) { toParams = {}; }\n\t        if (options === void 0) { options = {}; }\n\t        var router = this.router;\n\t        var globals = router.globals;\n\t        var transHistory = globals.transitionHistory;\n\t        options = common_1.defaults(options, transitionService_1.defaultTransOpts);\n\t        options = common_1.extend(options, { current: transHistory.peekTail.bind(transHistory) });\n\t        var ref = this.target(to, toParams, options);\n\t        var latestSuccess = globals.successfulTransitions.peekTail();\n\t        var rootPath = function () { return [new node_1.PathNode(_this.router.stateRegistry.root())]; };\n\t        var currentPath = latestSuccess ? latestSuccess.treeChanges().to : rootPath();\n\t        if (!ref.exists())\n\t            return this._handleInvalidTargetState(currentPath, ref);\n\t        if (!ref.valid())\n\t            return common_1.silentRejection(ref.error());\n\t        /**\n\t         * Special handling for Ignored, Aborted, and Redirected transitions\n\t         *\n\t         * The semantics for the transition.run() promise and the StateService.transitionTo()\n\t         * promise differ. For instance, the run() promise may be rejected because it was\n\t         * IGNORED, but the transitionTo() promise is resolved because from the user perspective\n\t         * no error occurred.  Likewise, the transition.run() promise may be rejected because of\n\t         * a Redirect, but the transitionTo() promise is chained to the new Transition's promise.\n\t         */\n\t        var rejectedTransitionHandler = function (transition) { return function (error) {\n\t            if (error instanceof rejectFactory_1.Rejection) {\n\t                if (error.type === rejectFactory_1.RejectType.IGNORED) {\n\t                    router.urlRouter.update();\n\t                    return globals.current;\n\t                }\n\t                if (error.type === rejectFactory_1.RejectType.SUPERSEDED && error.redirected && error.detail instanceof targetState_1.TargetState) {\n\t                    var redirect = transition.redirect(error.detail);\n\t                    return redirect.run().catch(rejectedTransitionHandler(redirect));\n\t                }\n\t                if (error.type === rejectFactory_1.RejectType.ABORTED) {\n\t                    router.urlRouter.update();\n\t                    return coreservices_1.services.$q.reject(error);\n\t                }\n\t            }\n\t            var errorHandler = _this.defaultErrorHandler();\n\t            errorHandler(error);\n\t            return coreservices_1.services.$q.reject(error);\n\t        }; };\n\t        var transition = this.router.transitionService.create(currentPath, ref);\n\t        var transitionToPromise = transition.run().catch(rejectedTransitionHandler(transition));\n\t        common_1.silenceUncaughtInPromise(transitionToPromise); // issue #2676\n\t        // Return a promise for the transition, which also has the transition object on it.\n\t        return common_1.extend(transitionToPromise, { transition: transition });\n\t    };\n\t    ;\n\t    /**\n\t     * @ngdoc function\n\t     * @name ui.router.state.$state#is\n\t     * @methodOf ui.router.state.$state\n\t     *\n\t     * @description\n\t     * Similar to {@link ui.router.state.$state#methods_includes $state.includes},\n\t     * but only checks for the full state name. If params is supplied then it will be\n\t     * tested for strict equality against the current active params object, so all params\n\t     * must match with none missing and no extras.\n\t     *\n\t     * @example\n\t     * <pre>\n\t     * $state.$current.name = 'contacts.details.item';\n\t     *\n\t     * // absolute name\n\t     * $state.is('contact.details.item'); // returns true\n\t     * $state.is(contactDetailItemStateObject); // returns true\n\t     *\n\t     * // relative name (. and ^), typically from a template\n\t     * // E.g. from the 'contacts.details' template\n\t     * <div ng-class=\"{highlighted: $state.is('.item')}\">Item</div>\n\t     * </pre>\n\t     *\n\t     * @param {string|object} stateOrName The state name (absolute or relative) or state object you'd like to check.\n\t     * @param {object=} params A param object, e.g. `{sectionId: section.id}`, that you'd like\n\t     * to test against the current active state.\n\t     * @param {object=} options An options object.  The options are:\n\t     *\n\t     * - **`relative`** - {string|object} -  If `stateOrName` is a relative state name and `options.relative` is set, .is will\n\t     * test relative to `options.relative` state (or name).\n\t     *\n\t     * @returns {boolean} Returns true if it is the state.\n\t     */\n\t    StateService.prototype.is = function (stateOrName, params, options) {\n\t        options = common_1.defaults(options, { relative: this.$current });\n\t        var state = this.router.stateRegistry.matcher.find(stateOrName, options.relative);\n\t        if (!predicates_1.isDefined(state))\n\t            return undefined;\n\t        if (this.$current !== state)\n\t            return false;\n\t        return predicates_1.isDefined(params) && params !== null ? param_1.Param.equals(state.parameters(), this.params, params) : true;\n\t    };\n\t    ;\n\t    /**\n\t     * @ngdoc function\n\t     * @name ui.router.state.$state#includes\n\t     * @methodOf ui.router.state.$state\n\t     *\n\t     * @description\n\t     * A method to determine if the current active state is equal to or is the child of the\n\t     * state stateName. If any params are passed then they will be tested for a match as well.\n\t     * Not all the parameters need to be passed, just the ones you'd like to test for equality.\n\t     *\n\t     * @example\n\t     * Partial and relative names\n\t     * <pre>\n\t     * $state.$current.name = 'contacts.details.item';\n\t     *\n\t     * // Using partial names\n\t     * $state.includes(\"contacts\"); // returns true\n\t     * $state.includes(\"contacts.details\"); // returns true\n\t     * $state.includes(\"contacts.details.item\"); // returns true\n\t     * $state.includes(\"contacts.list\"); // returns false\n\t     * $state.includes(\"about\"); // returns false\n\t     *\n\t     * // Using relative names (. and ^), typically from a template\n\t     * // E.g. from the 'contacts.details' template\n\t     * <div ng-class=\"{highlighted: $state.includes('.item')}\">Item</div>\n\t     * </pre>\n\t     *\n\t     * Basic globbing patterns\n\t     * <pre>\n\t     * $state.$current.name = 'contacts.details.item.url';\n\t     *\n\t     * $state.includes(\"*.details.*.*\"); // returns true\n\t     * $state.includes(\"*.details.**\"); // returns true\n\t     * $state.includes(\"**.item.**\"); // returns true\n\t     * $state.includes(\"*.details.item.url\"); // returns true\n\t     * $state.includes(\"*.details.*.url\"); // returns true\n\t     * $state.includes(\"*.details.*\"); // returns false\n\t     * $state.includes(\"item.**\"); // returns false\n\t     * </pre>\n\t     *\n\t     * @param {string} stateOrName A partial name, relative name, or glob pattern\n\t     * to be searched for within the current state name.\n\t     * @param {object=} params A param object, e.g. `{sectionId: section.id}`,\n\t     * that you'd like to test against the current active state.\n\t     * @param {object=} options An options object.  The options are:\n\t     *\n\t     * - **`relative`** - {string|object=} -  If `stateOrName` is a relative state reference and `options.relative` is set,\n\t     * .includes will test relative to `options.relative` state (or name).\n\t     *\n\t     * @returns {boolean} Returns true if it does include the state\n\t     */\n\t    StateService.prototype.includes = function (stateOrName, params, options) {\n\t        options = common_1.defaults(options, { relative: this.$current });\n\t        var glob = predicates_1.isString(stateOrName) && glob_1.Glob.fromString(stateOrName);\n\t        if (glob) {\n\t            if (!glob.matches(this.$current.name))\n\t                return false;\n\t            stateOrName = this.$current.name;\n\t        }\n\t        var state = this.router.stateRegistry.matcher.find(stateOrName, options.relative), include = this.$current.includes;\n\t        if (!predicates_1.isDefined(state))\n\t            return undefined;\n\t        if (!predicates_1.isDefined(include[state.name]))\n\t            return false;\n\t        // @TODO Replace with Param.equals() ?\n\t        return params ? common_2.equalForKeys(param_1.Param.values(state.parameters(), params), this.params, Object.keys(params)) : true;\n\t    };\n\t    ;\n\t    /**\n\t     * @ngdoc function\n\t     * @name ui.router.state.$state#href\n\t     * @methodOf ui.router.state.$state\n\t     *\n\t     * @description\n\t     * A url generation method that returns the compiled url for the given state populated with the given params.\n\t     *\n\t     * @example\n\t     * <pre>\n\t     * expect($state.href(\"about.person\", { person: \"bob\" })).toEqual(\"/about/bob\");\n\t     * </pre>\n\t     *\n\t     * @param {string|object} stateOrName The state name or state object you'd like to generate a url from.\n\t     * @param {object=} params An object of parameter values to fill the state's required parameters.\n\t     * @param {object=} options Options object. The options are:\n\t     *\n\t     * - **`lossy`** - {boolean=true} -  If true, and if there is no url associated with the state provided in the\n\t     *    first parameter, then the constructed href url will be built from the first navigable ancestor (aka\n\t     *    ancestor with a valid url).\n\t     * - **`inherit`** - {boolean=true}, If `true` will inherit url parameters from current url.\n\t     * - **`relative`** - {object=$state.$current}, When transitioning with relative path (e.g '^'),\n\t     *    defines which state to be relative from.\n\t     * - **`absolute`** - {boolean=false},  If true will generate an absolute url, e.g. \"http://www.example.com/fullurl\".\n\t     *\n\t     * @returns {string} compiled state url\n\t     */\n\t    StateService.prototype.href = function (stateOrName, params, options) {\n\t        var defaultHrefOpts = {\n\t            lossy: true,\n\t            inherit: true,\n\t            absolute: false,\n\t            relative: this.$current\n\t        };\n\t        options = common_1.defaults(options, defaultHrefOpts);\n\t        var state = this.router.stateRegistry.matcher.find(stateOrName, options.relative);\n\t        if (!predicates_1.isDefined(state))\n\t            return null;\n\t        if (options.inherit)\n\t            params = this.params.$inherit(params || {}, this.$current, state);\n\t        var nav = (state && options.lossy) ? state.navigable : state;\n\t        if (!nav || nav.url === undefined || nav.url === null) {\n\t            return null;\n\t        }\n\t        return this.router.urlRouter.href(nav.url, param_1.Param.values(state.parameters(), params), {\n\t            absolute: options.absolute\n\t        });\n\t    };\n\t    ;\n\t    /**\n\t     * Sets or gets the default [[transitionTo]] error handler.\n\t     *\n\t     * The error handler is called when a [[Transition]] is rejected or when any error occurred during the Transition.\n\t     * This includes errors caused by resolves and transition hooks.\n\t     *\n\t     * The built-in default error handler logs the error to the console.\n\t     *\n\t     * You can provide your own custom handler.\n\t     *\n\t     * @example\n\t     * ```js\n\t     *\n\t     * stateService.defaultErrorHandler(function() {\n\t     *   // Do not log transitionTo errors\n\t     * });\n\t     * ```\n\t     *\n\t     * @param handler a global error handler function\n\t     * @returns the current global error handler\n\t     */\n\t    StateService.prototype.defaultErrorHandler = function (handler) {\n\t        return this._defaultErrorHandler = handler || this._defaultErrorHandler;\n\t    };\n\t    StateService.prototype.get = function (stateOrName, base) {\n\t        var reg = this.router.stateRegistry;\n\t        if (arguments.length === 0)\n\t            return reg.get();\n\t        return reg.get(stateOrName, base || this.$current);\n\t    };\n\t    return StateService;\n\t}());\n\texports.StateService = StateService;\n\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module core */ /** */\n\tvar stateParams_1 = __webpack_require__(45);\n\tvar queue_1 = __webpack_require__(8);\n\tvar common_1 = __webpack_require__(3);\n\t/**\n\t * Global mutable state\n\t */\n\tvar Globals = (function () {\n\t    function Globals(transitionService) {\n\t        var _this = this;\n\t        this.params = new stateParams_1.StateParams();\n\t        this.transitionHistory = new queue_1.Queue([], 1);\n\t        this.successfulTransitions = new queue_1.Queue([], 1);\n\t        var beforeNewTransition = function ($transition$) {\n\t            _this.transition = $transition$;\n\t            _this.transitionHistory.enqueue($transition$);\n\t            var updateGlobalState = function () {\n\t                _this.successfulTransitions.enqueue($transition$);\n\t                _this.$current = $transition$.$to();\n\t                _this.current = _this.$current.self;\n\t                common_1.copy($transition$.params(), _this.params);\n\t            };\n\t            $transition$.onSuccess({}, updateGlobalState, { priority: 10000 });\n\t            var clearCurrentTransition = function () { if (_this.transition === $transition$)\n\t                _this.transition = null; };\n\t            $transition$.promise.then(clearCurrentTransition, clearCurrentTransition);\n\t        };\n\t        transitionService.onBefore({}, beforeNewTransition);\n\t    }\n\t    return Globals;\n\t}());\n\texports.Globals = Globals;\n\n\n/***/ },\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module params */ /** for typedoc */\n\tvar common_1 = __webpack_require__(3);\n\tvar StateParams = (function () {\n\t    function StateParams(params) {\n\t        if (params === void 0) { params = {}; }\n\t        common_1.extend(this, params);\n\t    }\n\t    /**\n\t     * Merges a set of parameters with all parameters inherited between the common parents of the\n\t     * current state and a given destination state.\n\t     *\n\t     * @param {Object} newParams The set of parameters which will be composited with inherited params.\n\t     * @param {Object} $current Internal definition of object representing the current state.\n\t     * @param {Object} $to Internal definition of object representing state to transition to.\n\t     */\n\t    StateParams.prototype.$inherit = function (newParams, $current, $to) {\n\t        var parents = common_1.ancestors($current, $to), parentParams, inherited = {}, inheritList = [];\n\t        for (var i in parents) {\n\t            if (!parents[i] || !parents[i].params)\n\t                continue;\n\t            parentParams = Object.keys(parents[i].params);\n\t            if (!parentParams.length)\n\t                continue;\n\t            for (var j in parentParams) {\n\t                if (inheritList.indexOf(parentParams[j]) >= 0)\n\t                    continue;\n\t                inheritList.push(parentParams[j]);\n\t                inherited[parentParams[j]] = this[parentParams[j]];\n\t            }\n\t        }\n\t        return common_1.extend({}, inherited, newParams);\n\t    };\n\t    ;\n\t    return StateParams;\n\t}());\n\texports.StateParams = StateParams;\n\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tfunction __export(m) {\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t}\n\t/**\n\t * This module contains code for State Parameters.\n\t *\n\t * See [[ParamDeclaration]]\n\t * @module params\n\t * @preferred doc\n\t */\n\t/** for typedoc */\n\t__export(__webpack_require__(22));\n\t__export(__webpack_require__(25));\n\t__export(__webpack_require__(45));\n\t__export(__webpack_require__(24));\n\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tfunction __export(m) {\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t}\n\t/** @module path */ /** for typedoc */\n\t__export(__webpack_require__(21));\n\t__export(__webpack_require__(20));\n\n\n/***/ },\n/* 48 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tfunction __export(m) {\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t}\n\t/** @module resolve */ /** for typedoc */\n\t__export(__webpack_require__(18));\n\t__export(__webpack_require__(19));\n\t__export(__webpack_require__(17));\n\n\n/***/ },\n/* 49 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tfunction __export(m) {\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t}\n\t/** @module state */ /** for typedoc */\n\t__export(__webpack_require__(30));\n\t__export(__webpack_require__(40));\n\t__export(__webpack_require__(42));\n\t__export(__webpack_require__(39));\n\t__export(__webpack_require__(41));\n\t__export(__webpack_require__(38));\n\t__export(__webpack_require__(43));\n\t__export(__webpack_require__(14));\n\n\n/***/ },\n/* 50 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tfunction __export(m) {\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t}\n\t/**\n\t * This module contains APIs related to a Transition.\n\t *\n\t * See [[Transition]], [[$transitions]]\n\t *\n\t * @module transition\n\t * @preferred\n\t */\n\t/** for typedoc */\n\t__export(__webpack_require__(16));\n\t__export(__webpack_require__(15));\n\t__export(__webpack_require__(10));\n\t__export(__webpack_require__(11));\n\t__export(__webpack_require__(13));\n\t__export(__webpack_require__(31));\n\n\n/***/ },\n/* 51 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tfunction __export(m) {\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t}\n\t/** @module url */ /** for typedoc */\n\t__export(__webpack_require__(28));\n\t__export(__webpack_require__(23));\n\t__export(__webpack_require__(27));\n\t__export(__webpack_require__(29));\n\n\n/***/ },\n/* 52 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tfunction __export(m) {\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t}\n\t/** @module view */ /** for typedoc */\n\t__export(__webpack_require__(37));\n\n\n/***/ },\n/* 53 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * # UI-Router for Angular 1\n\t *\n\t * - Provides an implementation for the [[CoreServices]] API, based on angular 1 services.\n\t * - Also registers some services with the angular 1 injector.\n\t * - Creates and bootstraps a new [[UIRouter]] object.  Ties it to the the angular 1 lifecycle.\n\t *\n\t * @module ng1\n\t * @preferred\n\t */\n\t\"use strict\";\n\t/** for typedoc */\n\tvar router_1 = __webpack_require__(26);\n\tvar coreservices_1 = __webpack_require__(6);\n\tvar common_1 = __webpack_require__(3);\n\tvar hof_1 = __webpack_require__(5);\n\tvar predicates_1 = __webpack_require__(4);\n\tvar resolveService_1 = __webpack_require__(54);\n\tvar trace_1 = __webpack_require__(12);\n\tvar views_1 = __webpack_require__(55);\n\tvar templateFactory_1 = __webpack_require__(56);\n\tvar onEnterExitRetain_1 = __webpack_require__(57);\n\t/** @hidden */\n\tvar app = angular.module(\"ui.router.angular1\", []);\n\t/**\n\t * @ngdoc overview\n\t * @name ui.router.util\n\t *\n\t * @description\n\t * # ui.router.util sub-module\n\t *\n\t * This module is a dependency of other sub-modules. Do not include this module as a dependency\n\t * in your angular app (use {@link ui.router} module instead).\n\t *\n\t */\n\tangular.module('ui.router.util', ['ng', 'ui.router.init']);\n\t/**\n\t * @ngdoc overview\n\t * @name ui.router.router\n\t *\n\t * @requires ui.router.util\n\t *\n\t * @description\n\t * # ui.router.router sub-module\n\t *\n\t * This module is a dependency of other sub-modules. Do not include this module as a dependency\n\t * in your angular app (use {@link ui.router} module instead).\n\t */\n\tangular.module('ui.router.router', ['ui.router.util']);\n\t/**\n\t * @ngdoc overview\n\t * @name ui.router.state\n\t *\n\t * @requires ui.router.router\n\t * @requires ui.router.util\n\t *\n\t * @description\n\t * # ui.router.state sub-module\n\t *\n\t * This module is a dependency of the main ui.router module. Do not include this module as a dependency\n\t * in your angular app (use {@link ui.router} module instead).\n\t *\n\t */\n\tangular.module('ui.router.state', ['ui.router.router', 'ui.router.util', 'ui.router.angular1']);\n\t/**\n\t * @ngdoc overview\n\t * @name ui.router\n\t *\n\t * @requires ui.router.state\n\t *\n\t * @description\n\t * # ui.router\n\t *\n\t * ## The main module for ui.router\n\t * There are several sub-modules included with the ui.router module, however only this module is needed\n\t * as a dependency within your angular app. The other modules are for organization purposes.\n\t *\n\t * The modules are:\n\t * * ui.router - the main \"umbrella\" module\n\t * * ui.router.router -\n\t *\n\t * *You'll need to include **only** this module as the dependency within your angular app.*\n\t *\n\t * <pre>\n\t * <!doctype html>\n\t * <html ng-app=\"myApp\">\n\t * <head>\n\t *   <script src=\"js/angular.js\"></script>\n\t *   <!-- Include the ui-router script -->\n\t *   <script src=\"js/angular-ui-router.min.js\"></script>\n\t *   <script>\n\t *     // ...and add 'ui.router' as a dependency\n\t *     var myApp = angular.module('myApp', ['ui.router']);\n\t *   </script>\n\t * </head>\n\t * <body>\n\t * </body>\n\t * </html>\n\t * </pre>\n\t */\n\tangular.module('ui.router', ['ui.router.init', 'ui.router.state', 'ui.router.angular1']);\n\tangular.module('ui.router.compat', ['ui.router']);\n\t/**\n\t * Annotates a controller expression (may be a controller function(), a \"controllername\",\n\t * or \"controllername as name\")\n\t *\n\t * - Temporarily decorates $injector.instantiate.\n\t * - Invokes $controller() service\n\t *   - Calls $injector.instantiate with controller constructor\n\t * - Annotate constructor\n\t * - Undecorate $injector\n\t *\n\t * returns an array of strings, which are the arguments of the controller expression\n\t */\n\tfunction annotateController(controllerExpression) {\n\t    var $injector = coreservices_1.services.$injector;\n\t    var $controller = $injector.get(\"$controller\");\n\t    var oldInstantiate = $injector.instantiate;\n\t    try {\n\t        var deps_1;\n\t        $injector.instantiate = function fakeInstantiate(constructorFunction) {\n\t            $injector.instantiate = oldInstantiate; // Un-decorate ASAP\n\t            deps_1 = $injector.annotate(constructorFunction);\n\t        };\n\t        $controller(controllerExpression, { $scope: {} });\n\t        return deps_1;\n\t    }\n\t    finally {\n\t        $injector.instantiate = oldInstantiate;\n\t    }\n\t}\n\texports.annotateController = annotateController;\n\trunBlock.$inject = ['$injector', '$q'];\n\tfunction runBlock($injector, $q) {\n\t    coreservices_1.services.$injector = $injector;\n\t    coreservices_1.services.$q = $q;\n\t}\n\tapp.run(runBlock);\n\tvar router = null;\n\tng1UIRouter.$inject = ['$locationProvider'];\n\t/** This angular 1 provider instantiates a Router and exposes its services via the angular injector */\n\tfunction ng1UIRouter($locationProvider) {\n\t    // Create a new instance of the Router when the ng1UIRouterProvider is initialized\n\t    router = new router_1.UIRouter();\n\t    // Apply ng1 specific StateBuilder code for `views`, `resolve`, and `onExit/Retain/Enter` properties\n\t    router.stateRegistry.decorator(\"views\", views_1.ng1ViewsBuilder);\n\t    router.stateRegistry.decorator(\"onExit\", onEnterExitRetain_1.getStateHookBuilder(\"onExit\"));\n\t    router.stateRegistry.decorator(\"onRetain\", onEnterExitRetain_1.getStateHookBuilder(\"onRetain\"));\n\t    router.stateRegistry.decorator(\"onEnter\", onEnterExitRetain_1.getStateHookBuilder(\"onEnter\"));\n\t    router.viewService.viewConfigFactory('ng1', views_1.ng1ViewConfigFactory);\n\t    // Bind LocationConfig.hashPrefix to $locationProvider.hashPrefix\n\t    common_1.bindFunctions($locationProvider, coreservices_1.services.locationConfig, $locationProvider, ['hashPrefix']);\n\t    // Create a LocationService.onChange registry\n\t    var urlListeners = [];\n\t    coreservices_1.services.location.onChange = function (callback) {\n\t        urlListeners.push(callback);\n\t        return function () { return common_1.removeFrom(urlListeners)(callback); };\n\t    };\n\t    this.$get = $get;\n\t    $get.$inject = ['$location', '$browser', '$sniffer', '$rootScope', '$http', '$templateCache'];\n\t    function $get($location, $browser, $sniffer, $rootScope, $http, $templateCache) {\n\t        // Bind $locationChangeSuccess to the listeners registered in LocationService.onChange\n\t        $rootScope.$on(\"$locationChangeSuccess\", function (evt) { return urlListeners.forEach(function (fn) { return fn(evt); }); });\n\t        // Bind LocationConfig.html5Mode to $locationProvider.html5Mode and $sniffer.history\n\t        coreservices_1.services.locationConfig.html5Mode = function () {\n\t            var html5Mode = $locationProvider.html5Mode();\n\t            html5Mode = predicates_1.isObject(html5Mode) ? html5Mode.enabled : html5Mode;\n\t            return html5Mode && $sniffer.history;\n\t        };\n\t        coreservices_1.services.template.get = function (url) {\n\t            return $http.get(url, { cache: $templateCache, headers: { Accept: 'text/html' } }).then(hof_1.prop(\"data\"));\n\t        };\n\t        // Bind these LocationService functions to $location\n\t        common_1.bindFunctions($location, coreservices_1.services.location, $location, [\"replace\", \"url\", \"path\", \"search\", \"hash\"]);\n\t        // Bind these LocationConfig functions to $location\n\t        common_1.bindFunctions($location, coreservices_1.services.locationConfig, $location, ['port', 'protocol', 'host']);\n\t        // Bind these LocationConfig functions to $browser\n\t        common_1.bindFunctions($browser, coreservices_1.services.locationConfig, $browser, ['baseHref']);\n\t        return router;\n\t    }\n\t}\n\tfunction $stateParamsFactory(ng1UIRouter) {\n\t    return ng1UIRouter.globals.params;\n\t}\n\t// The 'ui.router' ng1 module depends on 'ui.router.init' module.\n\tangular.module('ui.router.init', []).provider(\"ng1UIRouter\", ng1UIRouter);\n\t// This effectively calls $get() to init when we enter runtime\n\tangular.module('ui.router.init').run(['ng1UIRouter', function (ng1UIRouter) { }]);\n\t// $urlMatcherFactory service and $urlMatcherFactoryProvider\n\tangular.module('ui.router.util').provider('$urlMatcherFactory', ['ng1UIRouterProvider', function () { return router.urlMatcherFactory; }]);\n\tangular.module('ui.router.util').run(['$urlMatcherFactory', function ($urlMatcherFactory) { }]);\n\t// $urlRouter service and $urlRouterProvider\n\tfunction getUrlRouterProvider() {\n\t    router.urlRouterProvider[\"$get\"] = function () {\n\t        router.urlRouter.update(true);\n\t        if (!this.interceptDeferred)\n\t            router.urlRouter.listen();\n\t        return router.urlRouter;\n\t    };\n\t    return router.urlRouterProvider;\n\t}\n\tangular.module('ui.router.router').provider('$urlRouter', ['ng1UIRouterProvider', getUrlRouterProvider]);\n\tangular.module('ui.router.router').run(['$urlRouter', function ($urlRouter) { }]);\n\t// $state service and $stateProvider\n\t// $urlRouter service and $urlRouterProvider\n\tfunction getStateProvider() {\n\t    router.stateProvider[\"$get\"] = function () {\n\t        // Autoflush once we are in runtime\n\t        router.stateRegistry.stateQueue.autoFlush(router.stateService);\n\t        return router.stateService;\n\t    };\n\t    return router.stateProvider;\n\t}\n\tangular.module('ui.router.state').provider('$state', ['ng1UIRouterProvider', getStateProvider]);\n\tangular.module('ui.router.state').run(['$state', function ($state) { }]);\n\t// $stateParams service\n\tangular.module('ui.router.state').factory('$stateParams', ['ng1UIRouter', function (ng1UIRouter) {\n\t        return ng1UIRouter.globals.params;\n\t    }]);\n\t// $transitions service and $transitionsProvider\n\tfunction getTransitionsProvider() {\n\t    router.transitionService[\"$get\"] = function () { return router.transitionService; };\n\t    return router.transitionService;\n\t}\n\tangular.module('ui.router.state').provider('$transitions', ['ng1UIRouterProvider', getTransitionsProvider]);\n\t// $templateFactory service\n\tangular.module('ui.router.util').factory('$templateFactory', ['ng1UIRouter', function () { return new templateFactory_1.TemplateFactory(); }]);\n\t// The $view service\n\tangular.module('ui.router').factory('$view', function () { return router.viewService; });\n\t// The old $resolve service\n\tangular.module('ui.router').factory('$resolve', resolveService_1.resolveFactory);\n\t// $trace service\n\tangular.module(\"ui.router\").service(\"$trace\", function () { return trace_1.trace; });\n\twatchDigests.$inject = ['$rootScope'];\n\tfunction watchDigests($rootScope) {\n\t    $rootScope.$watch(function () { trace_1.trace.approximateDigests++; });\n\t}\n\texports.watchDigests = watchDigests;\n\tangular.module(\"ui.router\").run(watchDigests);\n\texports.getLocals = function (ctx) {\n\t    var tokens = ctx.getTokens().filter(predicates_1.isString);\n\t    var tuples = tokens.map(function (key) { return [key, ctx.getResolvable(key).data]; });\n\t    return tuples.reduce(common_1.applyPairs, {});\n\t};\n\t/** Injectable services */\n\t/**\n\t * An injectable service object which has the current state parameters\n\t *\n\t * This angular service (singleton object) holds the current state parameters.\n\t * The values in `$stateParams` are not updated until *after* a [[Transition]] successfully completes.\n\t *\n\t * This object can be injected into other services.\n\t *\n\t * @example\n\t * ```js\n\t *\n\t * SomeService.$inject = ['$http', '$stateParams'];\n\t * function SomeService($http, $stateParams) {\n\t *   return {\n\t *     getUser: function() {\n\t *       return $http.get('/api/users/' + $stateParams.username);\n\t *     }\n\t *   }\n\t * };\n\t * angular.service('SomeService', SomeService);\n\t * ```\n\t *\n\t * ### Deprecation warning:\n\t *\n\t * When `$stateParams` is injected into transition hooks, resolves and view controllers, they receive a different\n\t * object than this global service object.  In those cases, the injected object has the parameter values for the\n\t * *pending* Transition.\n\t *\n\t * Because of these confusing details, this service is deprecated.\n\t *\n\t * @deprecated Instead of using `$stateParams, inject the current [[Transition]] as `$transition$` and use [[Transition.params]]\n\t * ```js\n\t * MyController.$inject = ['$transition$'];\n\t * function MyController($transition$) {\n\t *   var username = $transition$.params().username;\n\t *   // .. do something with username\n\t * }\n\t * ```\n\t */\n\tvar $stateParams;\n\t/**\n\t * An injectable service primarily used to register transition hooks\n\t *\n\t * This angular service exposes the [[TransitionService]] singleton, which is primarily used to add transition hooks.\n\t *\n\t * The same object is also exposed as [[$transitionsProvider]] for injection during angular config time.\n\t */\n\tvar $transitions;\n\t/**\n\t * A config-time injectable provider primarily used to register transition hooks\n\t *\n\t * This angular provider exposes the [[TransitionService]] singleton, which is primarily used to add transition hooks.\n\t *\n\t * The same object is also exposed as [[$transitions]] for injection at runtime.\n\t */\n\tvar $transitionsProvider;\n\t/**\n\t * An injectable service used to query for current state information.\n\t *\n\t * This angular service exposes the [[StateService]] singleton.\n\t */\n\tvar $state;\n\t/**\n\t * A config-time injectable provider used to register states.\n\t *\n\t * This angular service exposes the [[StateProvider]] singleton.\n\t */\n\tvar $stateProvider;\n\t/**\n\t * A config-time injectable provider used to manage the URL.\n\t *\n\t * This angular service exposes the [[UrlRouterProvider]] singleton.\n\t */\n\tvar $urlRouterProvider;\n\t/**\n\t * An injectable service used to configure URL redirects.\n\t *\n\t * This angular service exposes the [[UrlRouter]] singleton.\n\t */\n\tvar $urlRouter;\n\t/**\n\t * An injectable service used to configure the URL.\n\t *\n\t * This service is used to set url mapping options, and create [[UrlMatcher]] objects.\n\t *\n\t * This angular service exposes the [[UrlMatcherFactory]] singleton.\n\t * The singleton is also exposed at config-time as the [[$urlMatcherFactoryProvider]].\n\t */\n\tvar $urlMatcherFactory;\n\t/**\n\t * An injectable service used to configure the URL.\n\t *\n\t * This service is used to set url mapping options, and create [[UrlMatcher]] objects.\n\t *\n\t * This angular service exposes the [[UrlMatcherFactory]] singleton at config-time.\n\t * The singleton is also exposed at runtime as the [[$urlMatcherFactory]].\n\t */\n\tvar $urlMatcherFactoryProvider;\n\n\n/***/ },\n/* 54 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module ng1 */ /** */\n\tvar stateObject_1 = __webpack_require__(42);\n\tvar node_1 = __webpack_require__(21);\n\tvar resolveContext_1 = __webpack_require__(17);\n\tvar common_1 = __webpack_require__(3);\n\tvar stateBuilder_1 = __webpack_require__(40);\n\t/**\n\t * Implementation of the legacy `$resolve` service for angular 1.\n\t */\n\tvar $resolve = {\n\t    /**\n\t     * Asynchronously injects a resolve block.\n\t     *\n\t     * This emulates most of the behavior of the ui-router 0.2.x $resolve.resolve() service API.\n\t     *\n\t     * Given an object `invocables`, where keys are strings and values are injectable functions,\n\t     * injects each function, and waits for the resulting promise to resolve.\n\t     * When all resulting promises are resolved, returns the results as an object.\n\t     *\n\t     * @example\n\t     * ```js\n\t     *\n\t     * let invocables = {\n\t     *   foo: [ '$http', ($http) =>\n\t     *            $http.get('/api/foo').then(resp => resp.data) ],\n\t     *   bar: [ 'foo', '$http', (foo, $http) =>\n\t     *            $http.get('/api/bar/' + foo.barId).then(resp => resp.data) ]\n\t     * }\n\t     * $resolve.resolve(invocables)\n\t     *     .then(results => console.log(results.foo, results.bar))\n\t     * // Logs foo and bar:\n\t     * // { id: 123, barId: 456, fooData: 'foo data' }\n\t     * // { id: 456, barData: 'bar data' }\n\t     * ```\n\t     *\n\t     * @param invocables an object which looks like an [[StateDefinition.resolve]] object; keys are resolve names and values are injectable functions\n\t     * @param locals key/value pre-resolved data (locals)\n\t     * @param parent a promise for a \"parent resolve\"\n\t     */\n\t    resolve: function (invocables, locals, parent) {\n\t        if (locals === void 0) { locals = {}; }\n\t        var parentNode = new node_1.PathNode(new stateObject_1.State({ params: {}, resolvables: [] }));\n\t        var node = new node_1.PathNode(new stateObject_1.State({ params: {}, resolvables: [] }));\n\t        var context = new resolveContext_1.ResolveContext([parentNode, node]);\n\t        context.addResolvables(stateBuilder_1.resolvablesBuilder({ resolve: invocables }), node.state);\n\t        var resolveData = function (parentLocals) {\n\t            var rewrap = function (_locals) { return stateBuilder_1.resolvablesBuilder({ resolve: common_1.map(_locals, function (local) { return function () { return local; }; }) }); };\n\t            context.addResolvables(rewrap(parentLocals), parentNode.state);\n\t            context.addResolvables(rewrap(locals), node.state);\n\t            var tuples2ObjR = function (acc, tuple) {\n\t                acc[tuple.token] = tuple.value;\n\t                return acc;\n\t            };\n\t            return context.resolvePath().then(function (results) { return results.reduce(tuples2ObjR, {}); });\n\t        };\n\t        return parent ? parent.then(resolveData) : resolveData({});\n\t    }\n\t};\n\t/** @hidden */\n\texports.resolveFactory = function () { return $resolve; };\n\n\n/***/ },\n/* 55 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar common_1 = __webpack_require__(3);\n\tvar strings_1 = __webpack_require__(9);\n\tvar view_1 = __webpack_require__(37);\n\tvar predicates_1 = __webpack_require__(4);\n\tvar coreservices_1 = __webpack_require__(6);\n\tvar trace_1 = __webpack_require__(12);\n\tvar templateFactory_1 = __webpack_require__(56);\n\tvar resolveContext_1 = __webpack_require__(17);\n\tvar resolvable_1 = __webpack_require__(19);\n\texports.ng1ViewConfigFactory = function (path, view) { return new Ng1ViewConfig(path, view); };\n\t/**\n\t * This is a [[StateBuilder.builder]] function for angular1 `views`.\n\t *\n\t * When the [[StateBuilder]] builds a [[State]] object from a raw [[StateDeclaration]], this builder\n\t * handles the `views` property with logic specific to angular-ui-router (ng1).\n\t *\n\t * If no `views: {}` property exists on the [[StateDeclaration]], then it creates the `views` object\n\t * and applies the state-level configuration to a view named `$default`.\n\t */\n\tfunction ng1ViewsBuilder(state) {\n\t    var tplKeys = ['templateProvider', 'templateUrl', 'template', 'notify', 'async'], ctrlKeys = ['controller', 'controllerProvider', 'controllerAs', 'resolveAs'], compKeys = ['component', 'bindings'], nonCompKeys = tplKeys.concat(ctrlKeys), allKeys = compKeys.concat(nonCompKeys);\n\t    var views = {}, viewsObject = state.views || { \"$default\": common_1.pick(state, allKeys) };\n\t    common_1.forEach(viewsObject, function (config, name) {\n\t        // Account for views: { \"\": { template... } }\n\t        name = name || \"$default\";\n\t        // Account for views: { header: \"headerComponent\" }\n\t        if (predicates_1.isString(config))\n\t            config = { component: config };\n\t        if (!Object.keys(config).length)\n\t            return;\n\t        // Configure this view for routing to an angular 1.5+ style .component (or any directive, really)\n\t        if (config.component) {\n\t            if (nonCompKeys.map(function (key) { return predicates_1.isDefined(config[key]); }).reduce(common_1.anyTrueR, false)) {\n\t                throw new Error(\"Cannot combine: \" + compKeys.join(\"|\") + \" with: \" + nonCompKeys.join(\"|\") + \" in stateview: 'name@\" + state.name + \"'\");\n\t            }\n\t            // Dynamically build a template like \"<component-name input1='::$resolve.foo'></component-name>\"\n\t            config.templateProvider = ['$injector', function ($injector) {\n\t                    var resolveFor = function (key) { return config.bindings && config.bindings[key] || key; };\n\t                    var prefix = angular.version.minor >= 3 ? \"::\" : \"\";\n\t                    var attributeTpl = function (input) {\n\t                        var attrName = strings_1.kebobString(input.name);\n\t                        var resolveName = resolveFor(input.name);\n\t                        if (input.type === '@')\n\t                            return attrName + \"='{{\" + prefix + \"$resolve.\" + resolveName + \"}}'\";\n\t                        return attrName + \"='\" + prefix + \"$resolve.\" + resolveName + \"'\";\n\t                    };\n\t                    var attrs = getComponentInputs($injector, config.component).map(attributeTpl).join(\" \");\n\t                    var kebobName = strings_1.kebobString(config.component);\n\t                    return \"<\" + kebobName + \" \" + attrs + \"></\" + kebobName + \">\";\n\t                }];\n\t        }\n\t        config.resolveAs = config.resolveAs || '$resolve';\n\t        config.$type = \"ng1\";\n\t        config.$context = state;\n\t        config.$name = name;\n\t        var normalized = view_1.ViewService.normalizeUIViewTarget(config.$context, config.$name);\n\t        config.$uiViewName = normalized.uiViewName;\n\t        config.$uiViewContextAnchor = normalized.uiViewContextAnchor;\n\t        views[name] = config;\n\t    });\n\t    return views;\n\t}\n\texports.ng1ViewsBuilder = ng1ViewsBuilder;\n\t// for ng 1.2 style, process the scope: { input: \"=foo\" }\n\t// for ng 1.3 through ng 1.5, process the component's bindToController: { input: \"=foo\" } object\n\tvar scopeBindings = function (bindingsObj) { return Object.keys(bindingsObj || {})\n\t    .map(function (key) { return [key, /^([=<@])[?]?(.*)/.exec(bindingsObj[key])]; }) // [ 'input', [ '=foo', '=', 'foo' ] ]\n\t    .filter(function (tuple) { return predicates_1.isDefined(tuple) && predicates_1.isDefined(tuple[1]); }) // skip malformed values\n\t    .map(function (tuple) { return ({ name: tuple[1][2] || tuple[0], type: tuple[1][1] }); }); }; // { name: ('foo' || 'input'), type: '=' }\n\t// Given a directive definition, find its object input attributes\n\t// Use different properties, depending on the type of directive (component, bindToController, normal)\n\tvar getBindings = function (def) {\n\t    if (predicates_1.isObject(def.bindToController))\n\t        return scopeBindings(def.bindToController);\n\t    return scopeBindings(def.scope);\n\t};\n\t// Gets all the directive(s)' inputs ('@', '=', and '<')\n\tfunction getComponentInputs($injector, name) {\n\t    var cmpDefs = $injector.get(name + \"Directive\"); // could be multiple\n\t    if (!cmpDefs || !cmpDefs.length)\n\t        throw new Error(\"Unable to find component named '\" + name + \"'\");\n\t    return cmpDefs.map(getBindings).reduce(common_1.unnestR, []);\n\t}\n\tvar id = 0;\n\tvar Ng1ViewConfig = (function () {\n\t    function Ng1ViewConfig(path, viewDecl) {\n\t        this.path = path;\n\t        this.viewDecl = viewDecl;\n\t        this.$id = id++;\n\t        this.loaded = false;\n\t    }\n\t    Ng1ViewConfig.prototype.load = function () {\n\t        var _this = this;\n\t        var $q = coreservices_1.services.$q;\n\t        if (!this.hasTemplate())\n\t            throw new Error(\"No template configuration specified for '\" + this.viewDecl.$uiViewName + \"@\" + this.viewDecl.$uiViewContextAnchor + \"'\");\n\t        var context = new resolveContext_1.ResolveContext(this.path);\n\t        var params = this.path.reduce(function (acc, node) { return common_1.extend(acc, node.paramValues); }, {});\n\t        var promises = {\n\t            template: $q.when(this.getTemplate(params, new templateFactory_1.TemplateFactory(), context)),\n\t            controller: $q.when(this.getController(context))\n\t        };\n\t        return $q.all(promises).then(function (results) {\n\t            trace_1.trace.traceViewServiceEvent(\"Loaded\", _this);\n\t            _this.controller = results.controller;\n\t            _this.template = results.template;\n\t        });\n\t    };\n\t    /**\n\t     * Checks a view configuration to ensure that it specifies a template.\n\t     *\n\t     * @return {boolean} Returns `true` if the configuration contains a valid template, otherwise `false`.\n\t     */\n\t    Ng1ViewConfig.prototype.hasTemplate = function () {\n\t        return !!(this.viewDecl.template || this.viewDecl.templateUrl || this.viewDecl.templateProvider);\n\t    };\n\t    Ng1ViewConfig.prototype.getTemplate = function (params, $factory, context) {\n\t        return $factory.fromConfig(this.viewDecl, params, context);\n\t    };\n\t    /**\n\t     * Gets the controller for a view configuration.\n\t     *\n\t     * @returns {Function|Promise.<Function>} Returns a controller, or a promise that resolves to a controller.\n\t     */\n\t    Ng1ViewConfig.prototype.getController = function (context) {\n\t        var provider = this.viewDecl.controllerProvider;\n\t        if (!predicates_1.isInjectable(provider))\n\t            return this.viewDecl.controller;\n\t        var deps = coreservices_1.services.$injector.annotate(provider);\n\t        var providerFn = predicates_1.isArray(provider) ? common_1.tail(provider) : provider;\n\t        var resolvable = new resolvable_1.Resolvable(\"\", providerFn, deps);\n\t        return resolvable.get(context);\n\t    };\n\t    return Ng1ViewConfig;\n\t}());\n\texports.Ng1ViewConfig = Ng1ViewConfig;\n\n\n/***/ },\n/* 56 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/** @module view */ /** for typedoc */\n\tvar predicates_1 = __webpack_require__(4);\n\tvar coreservices_1 = __webpack_require__(6);\n\tvar common_1 = __webpack_require__(3);\n\tvar resolvable_1 = __webpack_require__(19);\n\t/**\n\t * Service which manages loading of templates from a ViewConfig.\n\t */\n\tvar TemplateFactory = (function () {\n\t    function TemplateFactory() {\n\t    }\n\t    /**\n\t     * Creates a template from a configuration object.\n\t     *\n\t     * @param config Configuration object for which to load a template.\n\t     * The following properties are search in the specified order, and the first one\n\t     * that is defined is used to create the template:\n\t     *\n\t     * @param params  Parameters to pass to the template function.\n\t     * @param context The resolve context associated with the template's view\n\t     *\n\t     * @return {string|object}  The template html as a string, or a promise for\n\t     * that string,or `null` if no template is configured.\n\t     */\n\t    TemplateFactory.prototype.fromConfig = function (config, params, context) {\n\t        return (predicates_1.isDefined(config.template) ? this.fromString(config.template, params) :\n\t            predicates_1.isDefined(config.templateUrl) ? this.fromUrl(config.templateUrl, params) :\n\t                predicates_1.isDefined(config.templateProvider) ? this.fromProvider(config.templateProvider, params, context) :\n\t                    null);\n\t    };\n\t    ;\n\t    /**\n\t     * Creates a template from a string or a function returning a string.\n\t     *\n\t     * @param template html template as a string or function that returns an html template as a string.\n\t     * @param params Parameters to pass to the template function.\n\t     *\n\t     * @return {string|object} The template html as a string, or a promise for that\n\t     * string.\n\t     */\n\t    TemplateFactory.prototype.fromString = function (template, params) {\n\t        return predicates_1.isFunction(template) ? template(params) : template;\n\t    };\n\t    ;\n\t    /**\n\t     * Loads a template from the a URL via `$http` and `$templateCache`.\n\t     *\n\t     * @param {string|Function} url url of the template to load, or a function\n\t     * that returns a url.\n\t     * @param {Object} params Parameters to pass to the url function.\n\t     * @return {string|Promise.<string>} The template html as a string, or a promise\n\t     * for that string.\n\t     */\n\t    TemplateFactory.prototype.fromUrl = function (url, params) {\n\t        if (predicates_1.isFunction(url))\n\t            url = url(params);\n\t        if (url == null)\n\t            return null;\n\t        return coreservices_1.services.template.get(url);\n\t    };\n\t    ;\n\t    /**\n\t     * Creates a template by invoking an injectable provider function.\n\t     *\n\t     * @param provider Function to invoke via `locals`\n\t     * @param {Function} injectFn a function used to invoke the template provider\n\t     * @return {string|Promise.<string>} The template html as a string, or a promise\n\t     * for that string.\n\t     */\n\t    TemplateFactory.prototype.fromProvider = function (provider, params, context) {\n\t        var deps = coreservices_1.services.$injector.annotate(provider);\n\t        var providerFn = predicates_1.isArray(provider) ? common_1.tail(provider) : provider;\n\t        var resolvable = new resolvable_1.Resolvable(\"\", providerFn, deps);\n\t        return resolvable.get(context);\n\t    };\n\t    ;\n\t    return TemplateFactory;\n\t}());\n\texports.TemplateFactory = TemplateFactory;\n\n\n/***/ },\n/* 57 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar coreservices_1 = __webpack_require__(6);\n\tvar services_1 = __webpack_require__(53);\n\tvar resolveContext_1 = __webpack_require__(17);\n\tvar common_1 = __webpack_require__(3);\n\t/**\n\t * This is a [[StateBuilder.builder]] function for angular1 `onEnter`, `onExit`,\n\t * `onRetain` callback hooks on a [[Ng1StateDeclaration]].\n\t *\n\t * When the [[StateBuilder]] builds a [[State]] object from a raw [[StateDeclaration]], this builder\n\t * ensures that those hooks are injectable for angular-ui-router (ng1).\n\t */\n\texports.getStateHookBuilder = function (hookName) {\n\t    return function stateHookBuilder(state, parentFn) {\n\t        var hook = state[hookName];\n\t        function decoratedNg1Hook(trans, state) {\n\t            var resolveContext = new resolveContext_1.ResolveContext(trans.treeChanges().to);\n\t            return coreservices_1.services.$injector.invoke(hook, this, common_1.extend({ $state$: state }, services_1.getLocals(resolveContext)));\n\t        }\n\t        return hook ? decoratedNg1Hook : undefined;\n\t    };\n\t};\n\n\n/***/ },\n/* 58 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/**\n\t * These are the UI-Router angular 1 directives.\n\t *\n\t * These directives are used in templates to create viewports and navigate to states\n\t *\n\t * @preferred @module ng1_directives\n\t */ /** for typedoc */\n\tvar common_1 = __webpack_require__(3);\n\tvar predicates_1 = __webpack_require__(4);\n\tvar hof_1 = __webpack_require__(5);\n\t/** @hidden */\n\tfunction parseStateRef(ref, current) {\n\t    var preparsed = ref.match(/^\\s*({[^}]*})\\s*$/), parsed;\n\t    if (preparsed)\n\t        ref = current + '(' + preparsed[1] + ')';\n\t    parsed = ref.replace(/\\n/g, \" \").match(/^([^(]+?)\\s*(\\((.*)\\))?$/);\n\t    if (!parsed || parsed.length !== 4)\n\t        throw new Error(\"Invalid state ref '\" + ref + \"'\");\n\t    return { state: parsed[1], paramExpr: parsed[3] || null };\n\t}\n\t/** @hidden */\n\tfunction stateContext(el) {\n\t    var $uiView = el.parent().inheritedData('$uiView');\n\t    var path = hof_1.parse('$cfg.path')($uiView);\n\t    return path ? common_1.tail(path).state.name : undefined;\n\t}\n\t/** @hidden */\n\tfunction getTypeInfo(el) {\n\t    // SVGAElement does not use the href attribute, but rather the 'xlinkHref' attribute.\n\t    var isSvg = Object.prototype.toString.call(el.prop('href')) === '[object SVGAnimatedString]';\n\t    var isForm = el[0].nodeName === \"FORM\";\n\t    return {\n\t        attr: isForm ? \"action\" : (isSvg ? 'xlink:href' : 'href'),\n\t        isAnchor: el.prop(\"tagName\").toUpperCase() === \"A\",\n\t        clickable: !isForm\n\t    };\n\t}\n\t/** @hidden */\n\tfunction clickHook(el, $state, $timeout, type, current) {\n\t    return function (e) {\n\t        var button = e.which || e.button, target = current();\n\t        if (!(button > 1 || e.ctrlKey || e.metaKey || e.shiftKey || el.attr('target'))) {\n\t            // HACK: This is to allow ng-clicks to be processed before the transition is initiated:\n\t            var transition = $timeout(function () {\n\t                $state.go(target.state, target.params, target.options);\n\t            });\n\t            e.preventDefault();\n\t            // if the state has no URL, ignore one preventDefault from the <a> directive.\n\t            var ignorePreventDefaultCount = type.isAnchor && !target.href ? 1 : 0;\n\t            e.preventDefault = function () {\n\t                if (ignorePreventDefaultCount-- <= 0)\n\t                    $timeout.cancel(transition);\n\t            };\n\t        }\n\t    };\n\t}\n\t/** @hidden */\n\tfunction defaultOpts(el, $state) {\n\t    return { relative: stateContext(el) || $state.$current, inherit: true };\n\t}\n\t/**\n\t * `ui-sref`: A directive for linking to a state\n\t *\n\t * A directive that binds a link (`<a>` tag) to a state.\n\t * If the state has an associated URL, the directive will automatically generate and\n\t * update the `href` attribute via the [[StateService.href]]  method.\n\t * Clicking the link will trigger a state transition with optional parameters.\n\t *\n\t * Also middle-clicking, right-clicking, and ctrl-clicking on the link will be\n\t * handled natively by the browser.\n\t *\n\t * You can also use relative state paths within ui-sref, just like the relative\n\t * paths passed to `$state.go()`.\n\t * You just need to be aware that the path is relative to the state that the link lives in.\n\t * In other words, the state that created the view containing the link.\n\t *\n\t * You can specify options to pass to [[StateService.go]] using the `ui-sref-opts` attribute.\n\t * Options are restricted to `location`, `inherit`, and `reload`.\n\t *\n\t * Here's an example of how you'd use ui-sref and how it would compile.\n\t * If you have the following template:\n\t *\n\t * @example\n\t * ```html\n\t *\n\t * <pre>\n\t * <a ui-sref=\"home\">Home</a> | <a ui-sref=\"about\">About</a> | <a ui-sref=\"{page: 2}\">Next page</a>\n\t *\n\t * <ul>\n\t *     <li ng-repeat=\"contact in contacts\">\n\t *         <a ui-sref=\"contacts.detail({ id: contact.id })\">{{ contact.name }}</a>\n\t *     </li>\n\t * </ul>\n\t * </pre>\n\t * ```\n\t *\n\t * Then the compiled html would be (assuming Html5Mode is off and current state is contacts):\n\t *\n\t * ```html\n\t *\n\t * <pre>\n\t * <a href=\"#/home\" ui-sref=\"home\">Home</a> | <a href=\"#/about\" ui-sref=\"about\">About</a> | <a href=\"#/contacts?page=2\" ui-sref=\"{page: 2}\">Next page</a>\n\t *\n\t * <ul>\n\t *     <li ng-repeat=\"contact in contacts\">\n\t *         <a href=\"#/contacts/1\" ui-sref=\"contacts.detail({ id: contact.id })\">Joe</a>\n\t *     </li>\n\t *     <li ng-repeat=\"contact in contacts\">\n\t *         <a href=\"#/contacts/2\" ui-sref=\"contacts.detail({ id: contact.id })\">Alice</a>\n\t *     </li>\n\t *     <li ng-repeat=\"contact in contacts\">\n\t *         <a href=\"#/contacts/3\" ui-sref=\"contacts.detail({ id: contact.id })\">Bob</a>\n\t *     </li>\n\t * </ul>\n\t *\n\t * <a ui-sref=\"home\" ui-sref-opts=\"{reload: true}\">Home</a>\n\t * </pre>\n\t * ```\n\t *\n\t * @param {string} ui-sref 'stateName' can be any valid absolute or relative state\n\t * @param {Object} ui-sref-opts options to pass to [[StateService.go]]\n\t */\n\tvar uiSref = ['$state', '$timeout',\n\t    function $StateRefDirective($state, $timeout) {\n\t        return {\n\t            restrict: 'A',\n\t            require: ['?^uiSrefActive', '?^uiSrefActiveEq'],\n\t            link: function (scope, element, attrs, uiSrefActive) {\n\t                var ref = parseStateRef(attrs.uiSref, $state.current.name);\n\t                var def = { state: ref.state, href: null, params: null, options: null };\n\t                var type = getTypeInfo(element);\n\t                var active = uiSrefActive[1] || uiSrefActive[0];\n\t                var unlinkInfoFn = null;\n\t                def.options = common_1.extend(defaultOpts(element, $state), attrs.uiSrefOpts ? scope.$eval(attrs.uiSrefOpts) : {});\n\t                var update = function (val) {\n\t                    if (val)\n\t                        def.params = angular.copy(val);\n\t                    def.href = $state.href(ref.state, def.params, def.options);\n\t                    if (unlinkInfoFn)\n\t                        unlinkInfoFn();\n\t                    if (active)\n\t                        unlinkInfoFn = active.$$addStateInfo(ref.state, def.params);\n\t                    if (def.href !== null)\n\t                        attrs.$set(type.attr, def.href);\n\t                };\n\t                if (ref.paramExpr) {\n\t                    scope.$watch(ref.paramExpr, function (val) { if (val !== def.params)\n\t                        update(val); }, true);\n\t                    def.params = angular.copy(scope.$eval(ref.paramExpr));\n\t                }\n\t                update();\n\t                if (!type.clickable)\n\t                    return;\n\t                element.bind(\"click\", clickHook(element, $state, $timeout, type, function () { return def; }));\n\t            }\n\t        };\n\t    }];\n\t/**\n\t * `ui-state`: A dynamic version of `ui-sref`\n\t *\n\t * Much like ui-sref, but will accept named $scope properties to evaluate for a state definition,\n\t * params and override options.\n\t *\n\t * @example\n\t * ```html\n\t *\n\t * <li ng-repeat=\"nav in navlinks\">\n\t *   <a ui-state=\"nav.statename\">{{nav.description}}</a>\n\t * </li>\n\t *\n\t * @param {string} ui-state 'stateName' can be any valid absolute or relative state\n\t * @param {Object} ui-state-params params to pass to [[StateService.href]]\n\t * @param {Object} ui-state-opts options to pass to [[StateService.go]]\n\t */\n\tvar uiState = ['$state', '$timeout',\n\t    function $StateRefDynamicDirective($state, $timeout) {\n\t        return {\n\t            restrict: 'A',\n\t            require: ['?^uiSrefActive', '?^uiSrefActiveEq'],\n\t            link: function (scope, element, attrs, uiSrefActive) {\n\t                var type = getTypeInfo(element);\n\t                var active = uiSrefActive[1] || uiSrefActive[0];\n\t                var group = [attrs.uiState, attrs.uiStateParams || null, attrs.uiStateOpts || null];\n\t                var watch = '[' + group.map(function (val) { return val || 'null'; }).join(', ') + ']';\n\t                var def = { state: null, params: null, options: null, href: null };\n\t                var unlinkInfoFn = null;\n\t                function runStateRefLink(group) {\n\t                    def.state = group[0];\n\t                    def.params = group[1];\n\t                    def.options = group[2];\n\t                    def.href = $state.href(def.state, def.params, def.options);\n\t                    if (unlinkInfoFn)\n\t                        unlinkInfoFn();\n\t                    if (active)\n\t                        unlinkInfoFn = active.$$addStateInfo(def.state, def.params);\n\t                    if (def.href)\n\t                        attrs.$set(type.attr, def.href);\n\t                }\n\t                scope.$watch(watch, runStateRefLink, true);\n\t                runStateRefLink(scope.$eval(watch));\n\t                if (!type.clickable)\n\t                    return;\n\t                element.bind(\"click\", clickHook(element, $state, $timeout, type, function () { return def; }));\n\t            }\n\t        };\n\t    }];\n\t/**\n\t * `ui-sref-active` and `ui-sref-active-eq`: A directive that adds a CSS class when a `ui-sref` is active\n\t *\n\t * A directive working alongside ui-sref to add classes to an element when the\n\t * related ui-sref directive's state is active, and removing them when it is inactive.\n\t * The primary use-case is to simplify the special appearance of navigation menus\n\t * relying on `ui-sref`, by having the \"active\" state's menu button appear different,\n\t * distinguishing it from the inactive menu items.\n\t *\n\t * ui-sref-active can live on the same element as ui-sref or on a parent element. The first\n\t * ui-sref-active found at the same level or above the ui-sref will be used.\n\t *\n\t * Will activate when the ui-sref's target state or any child state is active. If you\n\t * need to activate only when the ui-sref target state is active and *not* any of\n\t * it's children, then you will use ui-sref-active-eq\n\t *\n\t * Given the following template:\n\t * @example\n\t * ```html\n\t *\n\t * <pre>\n\t * <ul>\n\t *   <li ui-sref-active=\"active\" class=\"item\">\n\t *     <a href ui-sref=\"app.user({user: 'bilbobaggins'})\">@bilbobaggins</a>\n\t *   </li>\n\t * </ul>\n\t * </pre>\n\t * ```\n\t *\n\t *\n\t * When the app state is \"app.user\" (or any children states), and contains the state parameter \"user\" with value \"bilbobaggins\",\n\t * the resulting HTML will appear as (note the 'active' class):\n\t *\n\t * ```html\n\t *\n\t * <pre>\n\t * <ul>\n\t *   <li ui-sref-active=\"active\" class=\"item active\">\n\t *     <a ui-sref=\"app.user({user: 'bilbobaggins'})\" href=\"/users/bilbobaggins\">@bilbobaggins</a>\n\t *   </li>\n\t * </ul>\n\t * </pre>\n\t * ```\n\t *\n\t * The class name is interpolated **once** during the directives link time (any further changes to the\n\t * interpolated value are ignored).\n\t *\n\t * Multiple classes may be specified in a space-separated format:\n\t *\n\t * ```html\n\t * <pre>\n\t * <ul>\n\t *   <li ui-sref-active='class1 class2 class3'>\n\t *     <a ui-sref=\"app.user\">link</a>\n\t *   </li>\n\t * </ul>\n\t * </pre>\n\t * ```\n\t *\n\t * It is also possible to pass ui-sref-active an expression that evaluates\n\t * to an object hash, whose keys represent active class names and whose\n\t * values represent the respective state names/globs.\n\t * ui-sref-active will match if the current active state **includes** any of\n\t * the specified state names/globs, even the abstract ones.\n\t *\n\t * Given the following template, with \"admin\" being an abstract state:\n\t * @example\n\t * ```html\n\t *\n\t * <pre>\n\t * <div ui-sref-active=\"{'active': 'admin.*'}\">\n\t *   <a ui-sref-active=\"active\" ui-sref=\"admin.roles\">Roles</a>\n\t * </div>\n\t * </pre>\n\t * ```\n\t *\n\t * When the current state is \"admin.roles\" the \"active\" class will be applied\n\t * to both the <div> and <a> elements. It is important to note that the state\n\t * names/globs passed to ui-sref-active shadow the state provided by ui-sref.\n\t */\n\tvar uiSrefActive = ['$state', '$stateParams', '$interpolate', '$transitions',\n\t    function $StateRefActiveDirective($state, $stateParams, $interpolate, $transitions) {\n\t        return {\n\t            restrict: \"A\",\n\t            controller: ['$scope', '$element', '$attrs', '$timeout', function ($scope, $element, $attrs, $timeout) {\n\t                    var states = [], activeClasses = {}, activeEqClass, uiSrefActive;\n\t                    // There probably isn't much point in $observing this\n\t                    // uiSrefActive and uiSrefActiveEq share the same directive object with some\n\t                    // slight difference in logic routing\n\t                    activeEqClass = $interpolate($attrs.uiSrefActiveEq || '', false)($scope);\n\t                    try {\n\t                        uiSrefActive = $scope.$eval($attrs.uiSrefActive);\n\t                    }\n\t                    catch (e) {\n\t                    }\n\t                    uiSrefActive = uiSrefActive || $interpolate($attrs.uiSrefActive || '', false)($scope);\n\t                    if (predicates_1.isObject(uiSrefActive)) {\n\t                        common_1.forEach(uiSrefActive, function (stateOrName, activeClass) {\n\t                            if (predicates_1.isString(stateOrName)) {\n\t                                var ref = parseStateRef(stateOrName, $state.current.name);\n\t                                addState(ref.state, $scope.$eval(ref.paramExpr), activeClass);\n\t                            }\n\t                        });\n\t                    }\n\t                    // Allow uiSref to communicate with uiSrefActive[Equals]\n\t                    this.$$addStateInfo = function (newState, newParams) {\n\t                        // we already got an explicit state provided by ui-sref-active, so we\n\t                        // shadow the one that comes from ui-sref\n\t                        if (predicates_1.isObject(uiSrefActive) && states.length > 0) {\n\t                            return;\n\t                        }\n\t                        var deregister = addState(newState, newParams, uiSrefActive);\n\t                        update();\n\t                        return deregister;\n\t                    };\n\t                    $scope.$on('$stateChangeSuccess', update);\n\t                    $scope.$on('$destroy', $transitions.onStart({}, function (trans) { return trans.promise.then(update) && null; }));\n\t                    function addState(stateName, stateParams, activeClass) {\n\t                        var state = $state.get(stateName, stateContext($element));\n\t                        var stateHash = createStateHash(stateName, stateParams);\n\t                        var stateInfo = {\n\t                            state: state || { name: stateName },\n\t                            params: stateParams,\n\t                            hash: stateHash\n\t                        };\n\t                        states.push(stateInfo);\n\t                        activeClasses[stateHash] = activeClass;\n\t                        return function removeState() {\n\t                            var idx = states.indexOf(stateInfo);\n\t                            if (idx !== -1)\n\t                                states.splice(idx, 1);\n\t                        };\n\t                    }\n\t                    /**\n\t                     * @param {string} state\n\t                     * @param {Object|string} [params]\n\t                     * @return {string}\n\t                     */\n\t                    function createStateHash(state, params) {\n\t                        if (!predicates_1.isString(state)) {\n\t                            throw new Error('state should be a string');\n\t                        }\n\t                        if (predicates_1.isObject(params)) {\n\t                            return state + common_1.toJson(params);\n\t                        }\n\t                        params = $scope.$eval(params);\n\t                        if (predicates_1.isObject(params)) {\n\t                            return state + common_1.toJson(params);\n\t                        }\n\t                        return state;\n\t                    }\n\t                    // Update route state\n\t                    function update() {\n\t                        for (var i = 0; i < states.length; i++) {\n\t                            if (anyMatch(states[i].state, states[i].params)) {\n\t                                addClass($element, activeClasses[states[i].hash]);\n\t                            }\n\t                            else {\n\t                                removeClass($element, activeClasses[states[i].hash]);\n\t                            }\n\t                            if (exactMatch(states[i].state, states[i].params)) {\n\t                                addClass($element, activeEqClass);\n\t                            }\n\t                            else {\n\t                                removeClass($element, activeEqClass);\n\t                            }\n\t                        }\n\t                    }\n\t                    function addClass(el, className) { $timeout(function () { el.addClass(className); }); }\n\t                    function removeClass(el, className) { el.removeClass(className); }\n\t                    function anyMatch(state, params) { return $state.includes(state.name, params); }\n\t                    function exactMatch(state, params) { return $state.is(state.name, params); }\n\t                    update();\n\t                }]\n\t        };\n\t    }];\n\tangular.module('ui.router.state')\n\t    .directive('uiSref', uiSref)\n\t    .directive('uiSrefActive', uiSrefActive)\n\t    .directive('uiSrefActiveEq', uiSrefActive)\n\t    .directive('uiState', uiState);\n\n\n/***/ },\n/* 59 */\n/***/ function(module, exports) {\n\n\t/** @module state */ /** for typedoc */\n\t\"use strict\";\n\t/**\n\t * @ngdoc filter\n\t * @name ui.router.state.filter:isState\n\t *\n\t * @requires ui.router.state.$state\n\t *\n\t * @description\n\t * Translates to {@link ui.router.state.$state#methods_is $state.is(\"stateName\")}.\n\t */\n\t$IsStateFilter.$inject = ['$state'];\n\tfunction $IsStateFilter($state) {\n\t    var isFilter = function (state, params, options) {\n\t        return $state.is(state, params, options);\n\t    };\n\t    isFilter.$stateful = true;\n\t    return isFilter;\n\t}\n\texports.$IsStateFilter = $IsStateFilter;\n\t/**\n\t * @ngdoc filter\n\t * @name ui.router.state.filter:includedByState\n\t *\n\t * @requires ui.router.state.$state\n\t *\n\t * @description\n\t * Translates to {@link ui.router.state.$state#methods_includes $state.includes('fullOrPartialStateName')}.\n\t */\n\t$IncludedByStateFilter.$inject = ['$state'];\n\tfunction $IncludedByStateFilter($state) {\n\t    var includesFilter = function (state, params, options) {\n\t        return $state.includes(state, params, options);\n\t    };\n\t    includesFilter.$stateful = true;\n\t    return includesFilter;\n\t}\n\texports.$IncludedByStateFilter = $IncludedByStateFilter;\n\tangular.module('ui.router.state')\n\t    .filter('isState', $IsStateFilter)\n\t    .filter('includedByState', $IncludedByStateFilter);\n\n\n/***/ },\n/* 60 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/** @module ng1_directives */ /** for typedoc */\n\t\"use strict\";\n\tvar common_1 = __webpack_require__(3);\n\tvar predicates_1 = __webpack_require__(4);\n\tvar trace_1 = __webpack_require__(12);\n\tvar views_1 = __webpack_require__(55);\n\tvar hof_1 = __webpack_require__(5);\n\tvar resolveContext_1 = __webpack_require__(17);\n\tvar strings_1 = __webpack_require__(9);\n\tvar services_1 = __webpack_require__(53);\n\t/**\n\t * `ui-view`: A viewport directive which is filled in by a view from the active state.\n\t *\n\t * @param {string=} name A view name. The name should be unique amongst the other views in the\n\t * same state. You can have views of the same name that live in different states.\n\t *\n\t * @param {string=} autoscroll It allows you to set the scroll behavior of the browser window\n\t * when a view is populated. By default, $anchorScroll is overridden by ui-router's custom scroll\n\t * service, {@link ui.router.state.$uiViewScroll}. This custom service let's you\n\t * scroll ui-view elements into view when they are populated during a state activation.\n\t *\n\t * *Note: To revert back to old [`$anchorScroll`](http://docs.angularjs.org/api/ng.$anchorScroll)\n\t * functionality, call `$uiViewScrollProvider.useAnchorScroll()`.*\n\t *\n\t * @param {string=} onload Expression to evaluate whenever the view updates.\n\t *\n\t * A view can be unnamed or named.\n\t * @example\n\t * ```html\n\t *\n\t * <!-- Unnamed -->\n\t * <div ui-view></div>\n\t *\n\t * <!-- Named -->\n\t * <div ui-view=\"viewName\"></div>\n\t * ```\n\t *\n\t * You can only have one unnamed view within any template (or root html). If you are only using a\n\t * single view and it is unnamed then you can populate it like so:\n\t * ```\n\t *\n\t * <div ui-view></div>\n\t * $stateProvider.state(\"home\", {\n\t *   template: \"<h1>HELLO!</h1>\"\n\t * })\n\t * ```\n\t *\n\t * The above is a convenient shortcut equivalent to specifying your view explicitly with the {@link ui.router.state.$stateProvider#views `views`}\n\t * config property, by name, in this case an empty name:\n\t * ```js\n\t *\n\t * $stateProvider.state(\"home\", {\n\t *   views: {\n\t *     \"\": {\n\t *       template: \"<h1>HELLO!</h1>\"\n\t *     }\n\t *   }\n\t * })\n\t * ```\n\t *\n\t * But typically you'll only use the views property if you name your view or have more than one view\n\t * in the same template. There's not really a compelling reason to name a view if its the only one,\n\t * but you could if you wanted, like so:\n\t *\n\t * ```html\n\t *\n\t * <div ui-view=\"main\"></div>\n\t * ```\n\t *\n\t * ```js\n\t *\n\t * $stateProvider.state(\"home\", {\n\t *   views: {\n\t *     \"main\": {\n\t *       template: \"<h1>HELLO!</h1>\"\n\t *     }\n\t *   }\n\t * })\n\t * ```\n\t *\n\t * Really though, you'll use views to set up multiple views:\n\t * ```html\n\t *\n\t * <div ui-view></div>\n\t * <div ui-view=\"chart\"></div>\n\t * <div ui-view=\"data\"></div>\n\t * ```\n\t *\n\t * ```js\n\t * $stateProvider.state(\"home\", {\n\t *   views: {\n\t *     \"\": {\n\t *       template: \"<h1>HELLO!</h1>\"\n\t *     },\n\t *     \"chart\": {\n\t *       template: \"<chart_thing/>\"\n\t *     },\n\t *     \"data\": {\n\t *       template: \"<data_thing/>\"\n\t *     }\n\t *   }\n\t * })\n\t * ```\n\t *\n\t * Examples for `autoscroll`:\n\t *\n\t * ```html\n\t *\n\t * <!-- If autoscroll present with no expression,\n\t *      then scroll ui-view into view -->\n\t * <ui-view autoscroll/>\n\t *\n\t * <!-- If autoscroll present with valid expression,\n\t *      then scroll ui-view into view if expression evaluates to true -->\n\t * <ui-view autoscroll='true'/>\n\t * <ui-view autoscroll='false'/>\n\t * <ui-view autoscroll='scopeVariable'/>\n\t * ```\n\t *\n\t * Resolve data:\n\t *\n\t * The resolved data from the state's `resolve` block is placed on the scope as `$resolve` (this\n\t * can be customized using [[ViewDeclaration.resolveAs]]).  This can be then accessed from the template.\n\t *\n\t * Note that when `controllerAs` is being used, `$resolve` is set on the controller instance *after* the\n\t * controller is instantiated.  The `$onInit()` hook can be used to perform initialization code which\n\t * depends on `$resolve` data.\n\t *\n\t * @example\n\t * ```js\n\t *\n\t * $stateProvider.state('home', {\n\t *   template: '<my-component user=\"$resolve.user\"></my-component>',\n\t *   resolve: {\n\t *     user: function(UserService) { return UserService.fetchUser(); }\n\t *   }\n\t * });\n\t * ```\n\t */\n\tvar uiView = ['$view', '$animate', '$uiViewScroll', '$interpolate', '$q',\n\t    function $ViewDirective($view, $animate, $uiViewScroll, $interpolate, $q) {\n\t        function getRenderer(attrs, scope) {\n\t            return {\n\t                enter: function (element, target, cb) {\n\t                    if (angular.version.minor > 2) {\n\t                        $animate.enter(element, null, target).then(cb);\n\t                    }\n\t                    else {\n\t                        $animate.enter(element, null, target, cb);\n\t                    }\n\t                },\n\t                leave: function (element, cb) {\n\t                    if (angular.version.minor > 2) {\n\t                        $animate.leave(element).then(cb);\n\t                    }\n\t                    else {\n\t                        $animate.leave(element, cb);\n\t                    }\n\t                }\n\t            };\n\t        }\n\t        function configsEqual(config1, config2) {\n\t            return config1 === config2;\n\t        }\n\t        var rootData = {\n\t            $cfg: { viewDecl: { $context: $view.rootContext() } },\n\t            $uiView: {}\n\t        };\n\t        var directive = {\n\t            count: 0,\n\t            restrict: 'ECA',\n\t            terminal: true,\n\t            priority: 400,\n\t            transclude: 'element',\n\t            compile: function (tElement, tAttrs, $transclude) {\n\t                return function (scope, $element, attrs) {\n\t                    var previousEl, currentEl, currentScope, unregister, onloadExp = attrs.onload || '', autoScrollExp = attrs.autoscroll, renderer = getRenderer(attrs, scope), viewConfig = undefined, inherited = $element.inheritedData('$uiView') || rootData, name = $interpolate(attrs.uiView || attrs.name || '')(scope) || '$default';\n\t                    var activeUIView = {\n\t                        $type: 'ng1',\n\t                        id: directive.count++,\n\t                        name: name,\n\t                        fqn: inherited.$uiView.fqn ? inherited.$uiView.fqn + \".\" + name : name,\n\t                        config: null,\n\t                        configUpdated: configUpdatedCallback,\n\t                        get creationContext() {\n\t                            return hof_1.parse('$cfg.viewDecl.$context')(inherited);\n\t                        }\n\t                    };\n\t                    trace_1.trace.traceUIViewEvent(\"Linking\", activeUIView);\n\t                    function configUpdatedCallback(config) {\n\t                        if (config && !(config instanceof views_1.Ng1ViewConfig))\n\t                            return;\n\t                        if (configsEqual(viewConfig, config))\n\t                            return;\n\t                        trace_1.trace.traceUIViewConfigUpdated(activeUIView, config && config.viewDecl && config.viewDecl.$context);\n\t                        viewConfig = config;\n\t                        updateView(config);\n\t                    }\n\t                    $element.data('$uiView', { $uiView: activeUIView });\n\t                    updateView();\n\t                    unregister = $view.registerUIView(activeUIView);\n\t                    scope.$on(\"$destroy\", function () {\n\t                        trace_1.trace.traceUIViewEvent(\"Destroying/Unregistering\", activeUIView);\n\t                        unregister();\n\t                    });\n\t                    function cleanupLastView() {\n\t                        if (previousEl) {\n\t                            trace_1.trace.traceUIViewEvent(\"Removing (previous) el\", previousEl.data('$uiView'));\n\t                            previousEl.remove();\n\t                            previousEl = null;\n\t                        }\n\t                        if (currentScope) {\n\t                            trace_1.trace.traceUIViewEvent(\"Destroying scope\", activeUIView);\n\t                            currentScope.$destroy();\n\t                            currentScope = null;\n\t                        }\n\t                        if (currentEl) {\n\t                            var _viewData_1 = currentEl.data('$uiView');\n\t                            trace_1.trace.traceUIViewEvent(\"Animate out\", _viewData_1);\n\t                            renderer.leave(currentEl, function () {\n\t                                _viewData_1.$$animLeave.resolve();\n\t                                previousEl = null;\n\t                            });\n\t                            previousEl = currentEl;\n\t                            currentEl = null;\n\t                        }\n\t                    }\n\t                    function updateView(config) {\n\t                        var newScope = scope.$new();\n\t                        trace_1.trace.traceUIViewScopeCreated(activeUIView, newScope);\n\t                        var animEnter = $q.defer(), animLeave = $q.defer();\n\t                        var $uiViewData = {\n\t                            $cfg: config,\n\t                            $uiView: activeUIView,\n\t                            $animEnter: animEnter.promise,\n\t                            $animLeave: animLeave.promise,\n\t                            $$animLeave: animLeave\n\t                        };\n\t                        var cloned = $transclude(newScope, function (clone) {\n\t                            renderer.enter(clone.data('$uiView', $uiViewData), $element, function onUIViewEnter() {\n\t                                animEnter.resolve();\n\t                                if (currentScope)\n\t                                    currentScope.$emit('$viewContentAnimationEnded');\n\t                                if (predicates_1.isDefined(autoScrollExp) && !autoScrollExp || scope.$eval(autoScrollExp)) {\n\t                                    $uiViewScroll(clone);\n\t                                }\n\t                            });\n\t                            cleanupLastView();\n\t                        });\n\t                        currentEl = cloned;\n\t                        currentScope = newScope;\n\t                        /**\n\t                         * @ngdoc event\n\t                         * @name ui.router.state.directive:ui-view#$viewContentLoaded\n\t                         * @eventOf ui.router.state.directive:ui-view\n\t                         * @eventType emits on ui-view directive scope\n\t                         * @description           *\n\t                         * Fired once the view is **loaded**, *after* the DOM is rendered.\n\t                         *\n\t                         * @param {Object} event Event object.\n\t                         */\n\t                        currentScope.$emit('$viewContentLoaded', config || viewConfig);\n\t                        currentScope.$eval(onloadExp);\n\t                    }\n\t                };\n\t            }\n\t        };\n\t        return directive;\n\t    }];\n\t$ViewDirectiveFill.$inject = ['$compile', '$controller', '$transitions', '$view', '$timeout'];\n\t/** @hidden */\n\tfunction $ViewDirectiveFill($compile, $controller, $transitions, $view, $timeout) {\n\t    var getControllerAs = hof_1.parse('viewDecl.controllerAs');\n\t    var getResolveAs = hof_1.parse('viewDecl.resolveAs');\n\t    return {\n\t        restrict: 'ECA',\n\t        priority: -400,\n\t        compile: function (tElement) {\n\t            var initial = tElement.html();\n\t            return function (scope, $element) {\n\t                var data = $element.data('$uiView');\n\t                if (!data)\n\t                    return;\n\t                var cfg = data.$cfg || { viewDecl: {} };\n\t                $element.html(cfg.template || initial);\n\t                trace_1.trace.traceUIViewFill(data.$uiView, $element.html());\n\t                var link = $compile($element.contents());\n\t                var controller = cfg.controller;\n\t                var controllerAs = getControllerAs(cfg);\n\t                var resolveAs = getResolveAs(cfg);\n\t                var resolveCtx = cfg.path && new resolveContext_1.ResolveContext(cfg.path);\n\t                var locals = resolveCtx && services_1.getLocals(resolveCtx);\n\t                scope[resolveAs] = locals;\n\t                if (controller) {\n\t                    var controllerInstance = $controller(controller, common_1.extend({}, locals, { $scope: scope, $element: $element }));\n\t                    if (controllerAs) {\n\t                        scope[controllerAs] = controllerInstance;\n\t                        scope[controllerAs][resolveAs] = locals;\n\t                    }\n\t                    // TODO: Use $view service as a central point for registering component-level hooks\n\t                    // Then, when a component is created, tell the $view service, so it can invoke hooks\n\t                    // $view.componentLoaded(controllerInstance, { $scope: scope, $element: $element });\n\t                    // scope.$on('$destroy', () => $view.componentUnloaded(controllerInstance, { $scope: scope, $element: $element }));\n\t                    $element.data('$ngControllerController', controllerInstance);\n\t                    $element.children().data('$ngControllerController', controllerInstance);\n\t                    registerControllerCallbacks($transitions, controllerInstance, scope, cfg);\n\t                }\n\t                // Wait for the component to appear in the DOM\n\t                if (predicates_1.isString(cfg.viewDecl.component)) {\n\t                    var cmp_1 = cfg.viewDecl.component;\n\t                    var kebobName_1 = strings_1.kebobString(cmp_1);\n\t                    var getComponentController = function () {\n\t                        var directiveEl = [].slice.call($element[0].children)\n\t                            .filter(function (el) { return el && el.tagName && el.tagName.toLowerCase() === kebobName_1; });\n\t                        return directiveEl && angular.element(directiveEl).data(\"$\" + cmp_1 + \"Controller\");\n\t                    };\n\t                    var deregisterWatch_1 = scope.$watch(getComponentController, function (ctrlInstance) {\n\t                        if (!ctrlInstance)\n\t                            return;\n\t                        registerControllerCallbacks($transitions, ctrlInstance, scope, cfg);\n\t                        deregisterWatch_1();\n\t                    });\n\t                }\n\t                link(scope);\n\t            };\n\t        }\n\t    };\n\t}\n\t/** @hidden */\n\tvar hasComponentImpl = typeof angular.module('ui.router')['component'] === 'function';\n\t/** @hidden TODO: move these callbacks to $view and/or `/hooks/components.ts` or something */\n\tfunction registerControllerCallbacks($transitions, controllerInstance, $scope, cfg) {\n\t    // Call $onInit() ASAP\n\t    if (predicates_1.isFunction(controllerInstance.$onInit) && !(cfg.viewDecl.component && hasComponentImpl))\n\t        controllerInstance.$onInit();\n\t    var viewState = common_1.tail(cfg.path).state.self;\n\t    var hookOptions = { bind: controllerInstance };\n\t    // Add component-level hook for onParamsChange\n\t    if (predicates_1.isFunction(controllerInstance.uiOnParamsChanged)) {\n\t        var resolveContext = new resolveContext_1.ResolveContext(cfg.path);\n\t        var viewCreationTrans_1 = resolveContext.getResolvable('$transition$').data;\n\t        // Fire callback on any successful transition\n\t        var paramsUpdated = function ($transition$) {\n\t            // Exit early if the $transition$ is the same as the view was created within.\n\t            // Exit early if the $transition$ will exit the state the view is for.\n\t            if ($transition$ === viewCreationTrans_1 || $transition$.exiting().indexOf(viewState) !== -1)\n\t                return;\n\t            var toParams = $transition$.params(\"to\");\n\t            var fromParams = $transition$.params(\"from\");\n\t            var toSchema = $transition$.treeChanges().to.map(function (node) { return node.paramSchema; }).reduce(common_1.unnestR, []);\n\t            var fromSchema = $transition$.treeChanges().from.map(function (node) { return node.paramSchema; }).reduce(common_1.unnestR, []);\n\t            // Find the to params that have different values than the from params\n\t            var changedToParams = toSchema.filter(function (param) {\n\t                var idx = fromSchema.indexOf(param);\n\t                return idx === -1 || !fromSchema[idx].type.equals(toParams[param.id], fromParams[param.id]);\n\t            });\n\t            // Only trigger callback if a to param has changed or is new\n\t            if (changedToParams.length) {\n\t                var changedKeys_1 = changedToParams.map(function (x) { return x.id; });\n\t                // Filter the params to only changed/new to params.  `$transition$.params()` may be used to get all params.\n\t                controllerInstance.uiOnParamsChanged(common_1.filter(toParams, function (val, key) { return changedKeys_1.indexOf(key) !== -1; }), $transition$);\n\t            }\n\t        };\n\t        $scope.$on('$destroy', $transitions.onSuccess({}, paramsUpdated, hookOptions));\n\t    }\n\t    // Add component-level hook for uiCanExit\n\t    if (predicates_1.isFunction(controllerInstance.uiCanExit)) {\n\t        var criteria = { exiting: viewState.name };\n\t        $scope.$on('$destroy', $transitions.onBefore(criteria, controllerInstance.uiCanExit, hookOptions));\n\t    }\n\t}\n\tangular.module('ui.router.state').directive('uiView', uiView);\n\tangular.module('ui.router.state').directive('uiView', $ViewDirectiveFill);\n\n\n/***/ },\n/* 61 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t/**\n\t * @ngdoc object\n\t * @name ui.router.state.$uiViewScrollProvider\n\t *\n\t * @description\n\t * Provider that returns the {@link ui.router.state.$uiViewScroll} service function.\n\t */\n\tfunction $ViewScrollProvider() {\n\t    var useAnchorScroll = false;\n\t    /**\n\t     * @ngdoc function\n\t     * @name ui.router.state.$uiViewScrollProvider#useAnchorScroll\n\t     * @methodOf ui.router.state.$uiViewScrollProvider\n\t     *\n\t     * @description\n\t     * Reverts back to using the core [`$anchorScroll`](http://docs.angularjs.org/api/ng.$anchorScroll) service for\n\t     * scrolling based on the url anchor.\n\t     */\n\t    this.useAnchorScroll = function () {\n\t        useAnchorScroll = true;\n\t    };\n\t    /**\n\t     * @ngdoc object\n\t     * @name ui.router.state.$uiViewScroll\n\t     *\n\t     * @requires $anchorScroll\n\t     * @requires $timeout\n\t     *\n\t     * @description\n\t     * When called with a jqLite element, it scrolls the element into view (after a\n\t     * `$timeout` so the DOM has time to refresh).\n\t     *\n\t     * If you prefer to rely on `$anchorScroll` to scroll the view to the anchor,\n\t     * this can be enabled by calling {@link ui.router.state.$uiViewScrollProvider#methods_useAnchorScroll `$uiViewScrollProvider.useAnchorScroll()`}.\n\t     */\n\t    this.$get = ['$anchorScroll', '$timeout', function ($anchorScroll, $timeout) {\n\t            if (useAnchorScroll) {\n\t                return $anchorScroll;\n\t            }\n\t            return function ($element) {\n\t                return $timeout(function () {\n\t                    $element[0].scrollIntoView();\n\t                }, 0, false);\n\t            };\n\t        }];\n\t}\n\tangular.module('ui.router.state').provider('$uiViewScroll', $ViewScrollProvider);\n\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=angular-ui-router.js.map","﻿const app = {\r\n    template: 'This is an app component<ng-outlet></ng-outlet>',\r\n    $routeConfig: [\r\n        {path: '/users/...', name: 'Users', component: 'users'},\r\n    ]\r\n}\r\n\r\nexport default app;","﻿import AppUsersModule from './users.module/users.module';\r\n\r\nimport CapitalizeDirective from './common/directives/capitalize.directive';\r\nimport RemoveSpacesDirective from './common/directives/removeSpaces.directive';\r\nimport UnobtrusiveValidatorParseDirective from './common/directives/unobtrusiveValidatorParse.directive';\r\nimport ValidateSubmitDirective from './common/directives/validateSubmit.directive';\r\n\r\nimport DialogService from './common/services/DialogService';\r\nimport DisplayMessageService from './common/services/DisplayMessageService';\r\nimport ErrorProcessingService from './common/services/ErrorProcessingService';\r\nimport HttpConnectionService from './common/services/HttpConnectionService';\r\n\r\nimport MessageAreaController from './common/controllers/messageArea.controller';\r\nimport YesNoDialogController from './common/controllers/yesNoDialog.controller';\r\n\r\nimport AppComponent from './app.component';\r\n\r\n\r\nconst root = angular.module('aspWcfAngular', ['ui.bootstrap',\r\n    AppUsersModule])\r\n    .directive('capitalize', () => new CapitalizeDirective)\r\n    .directive('removeSpaces', () => new RemoveSpacesDirective)\r\n    .directive('unobtrusiveValidatorParse', () => new UnobtrusiveValidatorParseDirective)\r\n    .directive('validateSubmit', () => new ValidateSubmitDirective)\r\n\r\n    .service('DialogService', DialogService)\r\n    .service('DisplayMessageService', DisplayMessageService)\r\n    .service('ErrorProcessingService', ErrorProcessingService)\r\n    .service('HttpConnectionService', HttpConnectionService)\r\n\r\n    .controller('MessageAreaController', MessageAreaController)\r\n    .controller('YesNoDialogController', YesNoDialogController)\r\n\r\n    .component('app', AppComponent);","﻿MessageAreaController.$inject = ['$rootScope'];\r\n\r\nfunction MessageAreaController($rootScope) {\r\n    var vm = this;\r\n\r\n    vm.closeAlert = closeAlert;\r\n\r\n    $rootScope.alerts = $rootScope.alerts || [];\r\n\r\n    function closeAlert(index) {\r\n        $rootScope.alerts.splice(index, 1);\r\n    };\r\n}\r\n\r\nexport default MessageAreaController;","﻿YesNoDialogController.$inject = ['$uibModalInstance', 'content'];\r\n\r\nfunction YesNoDialogController($uibModalInstance, content) {\r\n\r\n    var vm = this;\r\n\r\n    vm.content = content;\r\n    vm.ok = ok;\r\n    vm.cancel = cancel;\r\n\r\n    function ok() {\r\n        $uibModalInstance.close();\r\n    };\r\n\r\n    function cancel() {\r\n        $uibModalInstance.dismiss();\r\n    };\r\n}\r\n\r\nexport default YesNoDialogController;","﻿class Capitalize {\r\n    constructor() {\r\n        this.scope = {\r\n            model: '=capitalize'\r\n        };\r\n        this.restrict = 'A';\r\n    }\r\n\r\n    link(scope) {\r\n        scope.$watch('model', function (newVal, oldVal) {\r\n            if (newVal && newVal.length === 1) {\r\n                scope.model = newVal.toUpperCase();\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport default Capitalize;","﻿class RemoveSpaces {\r\n    constructor() {\r\n        this.scope = {\r\n            model: '=removeSpaces'\r\n        };\r\n        this.restrict = 'A';\r\n    }\r\n\r\n    link(scope) {\r\n        scope.$watch('model', function (newVal, oldVal) {\r\n            if (newVal && angular.isString(newVal)) {\r\n                scope.model = newVal.replace(/\\s+/g, '');\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport default RemoveSpaces;","﻿class UnobtrusiveValidatorParse {\r\n    constructor() {\r\n        this.scope = {};\r\n        this.restrict = 'A';\r\n    }\r\n\r\n    link(scope, $el) {\r\n        var form, el = angular.element($el);\r\n\r\n        if (el.is('form')) {\r\n            form = el;\r\n        } else {\r\n            form = el.closest('form');\r\n        }\r\n\r\n        form.removeData(\"validator\");\r\n        $.validator.unobtrusive.parse(form);\r\n    }\r\n}\r\n\r\nexport default UnobtrusiveValidatorParse;","﻿class ValidateSubmit {\r\n    constructor() {\r\n        this.scope = {};\r\n        this.restrict = 'A';\r\n    }\r\n\r\n    link(scope, $el) {\r\n        $el.bind('submit', function (event) {\r\n            var form = angular.element(event.target);\r\n\r\n            if (form.validate) {\r\n                //if validation is enabled - process form\r\n\r\n                var validate = form.validate();\r\n\r\n                //this is default settings for unobtrusive validation\r\n                validate.settings.ignore = \":hidden\";\r\n\r\n                if (form.valid()) {\r\n                    scope.$apply(scope.submitCallback);\r\n                    validate.resetForm();\r\n                }\r\n\r\n                //this disables default validation\r\n                validate.settings.ignore = \"*\";\r\n            } else {\r\n                //if validation is disabled - execute callback\r\n\r\n                scope.$apply(scope.submitCallback);\r\n            }\r\n\r\n            //preventing default form submition\r\n            event.preventDefault();\r\n\r\n            return false;\r\n        });\r\n    }\r\n}\r\n\r\nexport default ValidateSubmit;","﻿class DialogService {\r\n    constructor($uibModal){\r\n        this._$uibModal = $uibModal;\r\n    }\r\n\r\n    openCustomDialogDialog (templateUrl, controller, resolveData) {\r\n        var modalInstance = this._$uibModal.open({\r\n            templateUrl: templateUrl,\r\n            controller: controller,\r\n            controllerAs: 'vm',\r\n            resolve: resolveData\r\n        });\r\n\r\n        return modalInstance.result;\r\n    };\r\n\r\n\r\n    openYesNoDialog (title, message) {\r\n        var modalInstance = this._$uibModal.open({\r\n            templateUrl: 'yesNoDialog.html',\r\n            controller: 'YesNoDialogController',\r\n            controllerAs: 'vm',\r\n            resolve: {\r\n                content: {\r\n                    title: title,\r\n                    message: message\r\n                }\r\n            }\r\n        });\r\n\r\n        return modalInstance.result;\r\n    };\r\n};\r\n\r\nDialogService.$inject = ['$uibModal'];\r\n\r\nexport default DialogService;","﻿class DisplayMessageService {\r\n    constructor($rootScope){\r\n        this._$rootScope = $rootScope;\r\n    }\r\n\r\n    showError (message) {\r\n        this._$rootScope.alerts.push({ type: 'danger', message: message })\r\n    };\r\n\r\n    showSuccess(message) {\r\n        this._$rootScope.alerts.push({ type: 'success', message: message })\r\n    };\r\n\r\n    showWarning(message) {\r\n        this._$rootScope.alerts.push({ type: 'warning', message: message })\r\n    };\r\n}\r\n\r\nDisplayMessageService.$inject = ['$rootScope'];\r\n\r\nexport default DisplayMessageService;","﻿class ErrorProcessingService {\r\n    constructor($log, displayMessageService){\r\n        this._$log = $log;\r\n        this._displayMessageService = displayMessageService;\r\n    }\r\n\r\n    processHttpError (response) {\r\n        this._$log.error(response.statusText);\r\n    };\r\n\r\n    processErrorResponse(response) {\r\n        this._$log.error('Got server error: status = ' + response.data.Status + ', message = ' + response.data.Message);\r\n        this._displayMessageService.showError(response.data.Message);\r\n    };\r\n\r\n    canProcessServerResponse(response) {\r\n        return response.status == 200 && response.data.Status === AWA.enums.status.success;\r\n    };\r\n};\r\n\r\nErrorProcessingService.$inject = ['$log', 'DisplayMessageService'];\r\n\r\nexport default ErrorProcessingService;","﻿class HttpConnectionService {\r\n\r\n    constructor($http, $q, errorProcessingService){\r\n        this._$http = $http;\r\n        this._$q = $q;\r\n        this._errorProcessingService = errorProcessingService;\r\n    }\r\n\r\n    get(url) {\r\n        let deferred = this._$q.defer();\r\n        let _this = this;\r\n\r\n        this._$http.get(url).then(function (response) {\r\n            if (_this._errorProcessingService.canProcessServerResponse(response)) {\r\n                return deferred.resolve(response.data);\r\n            } else {\r\n                _this._errorProcessingService.processErrorResponse(response);\r\n            }\r\n        }, function (response) {\r\n            _this._errorProcessingService.processHttpError(response)\r\n        });\r\n\r\n        return deferred.promise;\r\n    };\r\n\r\n    post(url, data) {\r\n        let deferred = this._$q.defer();\r\n        let _this = this;\r\n\r\n        this._$http.post(url, data).then(function (response) {\r\n            if (_this._errorProcessingService.canProcessServerResponse(response)) {\r\n                return deferred.resolve(response.data);\r\n            } else {\r\n                _this._errorProcessingService.processErrorResponse(response);\r\n            }\r\n        }, function (response) {\r\n            _this._errorProcessingService.processHttpError(response)\r\n        });\r\n\r\n        return deferred.promise;\r\n    };\r\n};\r\n\r\nHttpConnectionService.$inject = ['$http', '$q', 'ErrorProcessingService'];\r\n\r\nexport default HttpConnectionService;","﻿import UserDetailsController from './userDetails.controller';\r\n\r\nconst userDetails = {\r\n    template: '<h4>This is a userId = {{$ctrl.userId}} details</h4>',\r\n    controller: UserDetailsController\r\n};\r\n\r\nexport default userDetails;","﻿class UserDetailsController {\r\n    constructor() {\r\n    }\r\n\r\n    $onInit() {\r\n    }\r\n\r\n    $routerOnActivate(next) {\r\n        this.userId = next.params.userId;\r\n    };\r\n}\r\n\r\nexport default UserDetailsController;","﻿import UsersController from './users.controller';\r\n\r\nconst users = {\r\n    templateUrl: 'users.html',\r\n    controller: UsersController\r\n};\r\n\r\nexport default users;","﻿class UsersController {\r\n    constructor(dialogService, displayMessageService, userService){\r\n        this.search = '';\r\n        this.usersPage = { PageNumber: 1 };\r\n\r\n        this._dialogService = dialogService;\r\n        this._displayMessageService = displayMessageService;\r\n        this._userService = userService;\r\n    }\r\n\r\n    $onInit() {\r\n        this.getUsers();\r\n    }\r\n\r\n    getUsers() {\r\n        let _this = this;\r\n\r\n        this._userService.getUsers(this.search, this.usersPage.PageNumber)\r\n            .then(function (result) {\r\n                _this.usersPage = result.Data;\r\n            });\r\n    };\r\n\r\n    refreshPage() {\r\n        let _this = this;\r\n\r\n        this._userService.getUsers(this.search, this.usersPage.PageNumber)\r\n            .then(function (result) {\r\n                _this.usersPage = result.Data;\r\n            });\r\n    };\r\n\r\n\r\n    initSearch() {\r\n        let _this = this;\r\n\r\n        this._userService.getUsers(this.search, 1)\r\n            .then(function (result) {\r\n                _this.usersPage = result.Data;\r\n            });\r\n    };\r\n\r\n    nextPage() {\r\n        let _this = this;\r\n\r\n        if (!this.usersPage.IsLastpage) {\r\n            this._userService.getUsers(this.search, this.usersPage.PageNumber + 1)\r\n                .then(function (result) {\r\n                    _this.usersPage = result.Data\r\n                });\r\n        }\r\n    };\r\n\r\n    deleteUser(user) {\r\n        let _this = this;\r\n\r\n        this._userService.deleteUser(user)\r\n            .then(function (result) {\r\n                if (result.Message) {\r\n                    _this._displayMessageService.showSuccess(result.Message);\r\n                }\r\n                refreshPage();\r\n            });\r\n    };\r\n\r\n    createUser() {\r\n        let _this = this;\r\n\r\n        this._userService.createUser()\r\n            .then(function (user) {\r\n                _this.refreshPage();\r\n            });\r\n    };\r\n\r\n    edit(user) {\r\n        let _this = this;\r\n\r\n        this._userService.editUser(user)\r\n            .then(function (data) {\r\n                _this.refreshPage();\r\n            });\r\n    };\r\n}\r\n\r\nUsersController.$inject = ['DialogService', 'DisplayMessageService', 'UserService'];\r\n\r\nexport default UsersController;","﻿class EditUserDialogController {\r\n    constructor(userService, $uibModalInstance, user) {\r\n        this._userService = userService;\r\n        this.user = user;\r\n        this._$uibModalInstance = $uibModalInstance;\r\n    }\r\n\r\n    updateInfo() {\r\n        this._userService.updateUser(this.user).then(function (result) {\r\n            this._$uibModalInstance.close(result.Data);\r\n        });\r\n    };\r\n\r\n    cancel() {\r\n        this._$uibModalInstance.dismiss();\r\n    };\r\n}\r\n\r\nEditUserDialogController.$inject = ['UserService', '$uibModalInstance', 'user'];\r\n\r\nexport default EditUserDialogController;","﻿class UserService {\r\n    constructor($q, httpConnectionService, dialogService){\r\n        this._$q = $q;\r\n        this._httpConnectionService = httpConnectionService;\r\n        this._dialogService = dialogService;\r\n    }\r\n\r\n    createUser() {\r\n        return this.openEditUserDialog({});\r\n    };\r\n\r\n    editUser(user) {\r\n        return this.openEditUserDialog(angular.copy(user));\r\n    };\r\n\r\n    updateUser(user) {\r\n        return this._httpConnectionService.post(AWA.urls.user.update, user);\r\n    };\r\n\r\n    openEditUserDialog(user) {\r\n        return this._dialogService.openCustomDialogDialog('editUserDialog.html', 'EditUserDialogController', { user: user });\r\n    };\r\n\r\n    getUsers(search, pageNumber) {\r\n        console.log('userService.getUsers called');\r\n\r\n        //TODO: create format filter\r\n        let url = AWA.urls.user.list.replace('{0}', search || '').replace('{1}', pageNumber || 1);\r\n\r\n        return this._httpConnectionService.get(url);\r\n    };\r\n\r\n    deleteUser(user) {\r\n        let deferred = this._$q.defer();\r\n        let message = String.format(AWA.resources.message.SureToDeleteUser, user.FirstName + ' ' + user.LastName);\r\n        let _this = this;\r\n\r\n        this._dialogService.openYesNoDialog(AWA.resources.title.Delete_user, message)\r\n            .then(function () {\r\n                var url = AWA.urls.user.delete;\r\n\r\n                _this.HttpConnectionService.post(url, { userId: user.UserId })\r\n                    .then(function (response) {\r\n                        deferred.resolve(response);\r\n                    });\r\n            });\r\n\r\n        return deferred.promise;\r\n    };\r\n};\r\n\r\nUserService.$inject = ['$q', 'HttpConnectionService', 'DialogService'];\r\n\r\nexport default UserService;","﻿import UsersComponent from './components/users/users.component';\r\nimport UserDetailsComponent from './components/userDetails/userDetails.component';\r\nimport UserService from './services/UserService';\r\nimport EditUserDialogController from './controllers/editUserDialog.controller';\r\nimport AngularUiRouter from '../../lib/angular-ui-router';\r\n\r\nconsole.log(AngularUiRouter);\r\n\r\nconst AppUsersModule = angular\r\n    .module('aspWcfAngular.users', [AngularUiRouter])\r\n    .config(AppConfig)\r\n    .run(AppRun)\r\n\r\n    .component('userDetails', UserDetailsComponent)\r\n    .component('users', UsersComponent)\r\n\r\n    .service('UserService', UserService)\r\n    .controller('EditUserDialogController', EditUserDialogController);\r\n\r\nAppConfig.$inject = ['$stateProvider', '$urlRouterProvider'];\r\n\r\nfunction AppConfig($stateProvider, $urlRouterProvider) {\r\n    $stateProvider\r\n        .state('users', {\r\n            // for stable angular-ui-router versions\r\n            //template: '<users></users>',\r\n            url: '/users',\r\n\r\n            // this is working with angular-ui-router beta\r\n            component: 'users'\r\n        });\r\n    $urlRouterProvider.when('', '/users');\r\n}\r\n\r\nfunction AppRun() {\r\n\r\n}\r\n\r\nexport default AppUsersModule.name;"]}
{"version":3,"sources":["node_modules/browser-pack/_prelude.js","../Scripts/src/app.js","../Scripts/src/users.module/components/users/users.component.js","../Scripts/src/users.module/components/users/users.controller.js","../Scripts/src/users.module/services/userService.js","../Scripts/src/users.module/users.module.js"],"names":[],"mappings":"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","file":"bundle.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","﻿import AppUsersModule from './users.module/users.module';\r\n\r\n\r\nconst root = angular.module('aspWcfAngular', ['ui.bootstrap',\r\n    AppUsersModule])\r\n    .config(AppConfig)\r\n    .run(AppRun);\r\n\r\nfunction AppConfig() {\r\n\r\n}\r\n\r\nfunction AppRun() {\r\n\r\n}","﻿import UsersController from './users.controller';\r\n\r\nconst users = {\r\n    templateUrl: 'users.html',\r\n    controller: UsersController\r\n};\r\n\r\nexport default users;","﻿class UsersController {\r\n    constructor(dialogService, displayMessageService, userService){\r\n        this.search = '';\r\n        this.usersPage = { PageNumber: 1 };\r\n\r\n        this._dialogService = dialogService;\r\n        this._displayMessageService = displayMessageService;\r\n        this._userService = userService;\r\n    }\r\n\r\n    $onInit() {\r\n        this.getUsers();\r\n    }\r\n\r\n    getUsers() {\r\n        let _this = this;\r\n\r\n        this._userService.getUsers(this.search, this.usersPage.PageNumber)\r\n            .then(function (result) {\r\n                _this.usersPage = result.Data;\r\n            });\r\n    };\r\n\r\n    refreshPage() {\r\n        let _this = this;\r\n\r\n        this._userService.getUsers(this.search, this.usersPage.PageNumber)\r\n            .then(function (result) {\r\n                _this.usersPage = result.Data;\r\n            });\r\n    };\r\n\r\n\r\n    initSearch() {\r\n        let _this = this;\r\n\r\n        this._userService.getUsers(this.search, 1)\r\n            .then(function (result) {\r\n                _this.usersPage = result.Data;\r\n            });\r\n    };\r\n\r\n    nextPage() {\r\n        let _this = this;\r\n\r\n        if (!this.usersPage.IsLastpage) {\r\n            this._userService.getUsers(this.search, this.usersPage.PageNumber + 1)\r\n                .then(function (result) {\r\n                    _this.usersPage = result.Data\r\n                });\r\n        }\r\n    };\r\n\r\n    deleteUser(user) {\r\n        let _this = this;\r\n\r\n        this._userService.deleteUser(user)\r\n            .then(function (result) {\r\n                if (result.Message) {\r\n                    _this._displayMessageService.showSuccess(result.Message);\r\n                }\r\n                refreshPage();\r\n            });\r\n    };\r\n\r\n    createUser() {\r\n        let _this = this;\r\n\r\n        this._userService.createUser()\r\n            .then(function (user) {\r\n                _this.refreshPage();\r\n            });\r\n    };\r\n\r\n    edit(user) {\r\n        let _this = this;\r\n\r\n        this._userService.editUser(user)\r\n            .then(function (data) {\r\n                _this.refreshPage();\r\n            });\r\n    };\r\n}\r\n\r\nUsersController.$inject = ['dialogService', 'displayMessageService', 'userService'];\r\n\r\nexport default UsersController;","﻿userService.$inject = ['$q', 'httpConnectionService', 'dialogService'];\r\n\r\nfunction userService($q, httpConnectionService, dialogService) {\r\n\r\n    return {\r\n        getUsers: getUsers,\r\n        deleteUser: deleteUser,\r\n        createUser: createUser,\r\n        editUser: editUser,\r\n        updateUser: updateUser\r\n    };\r\n\r\n    function createUser() {\r\n        return openEditUserDialog({});\r\n    };\r\n\r\n    function editUser(user) {\r\n        return openEditUserDialog(angular.copy(user));\r\n    };\r\n\r\n    function updateUser(user) {\r\n        return httpConnectionService.post(AWA.urls.user.update, user);\r\n    };\r\n\r\n    function openEditUserDialog(user) {\r\n        return dialogService.openCustomDialogDialog('editUserDialog.html', 'EditUserDialogCtrl', { user: user });\r\n    };\r\n\r\n    function getUsers(search, pageNumber) {\r\n        //TODO: create format filter\r\n        var url = AWA.urls.user.list.replace('{0}', search || '').replace('{1}', pageNumber || 1);\r\n\r\n        return httpConnectionService.get(url);\r\n    };\r\n\r\n    function deleteUser(user) {\r\n        var deferred = $q.defer();\r\n        var message = String.format(AWA.resources.message.SureToDeleteUser, user.FirstName + ' ' + user.LastName);\r\n\r\n        dialogService.openYesNoDialog(AWA.resources.title.Delete_user, message)\r\n            .then(function () {\r\n                var url = AWA.urls.user.delete;\r\n\r\n                httpConnectionService.post(url, { userId: user.UserId })\r\n                    .then(function (response) {\r\n                        deferred.resolve(response);\r\n                    });\r\n            });\r\n\r\n        return deferred.promise;\r\n    };\r\n};\r\n\r\nexport default userService;","﻿import UsersComponent from './components/users/users.component';\r\nimport UserService from './services/userService';\r\n\r\nconst AppUsersModule = angular\r\n    .module('aspWcfAngular.users', ['ui.router'])\r\n    .config(AppConfig)\r\n    .run(AppRun);\r\n\r\nAppConfig.$inject = ['$stateProvider', '$urlRouterProvider'];\r\n\r\nfunction AppConfig($stateProvider, $urlRouterProvider) {\r\n    $stateProvider\r\n      .state('users', {\r\n          url: '/users',\r\n          component: 'users'\r\n      });\r\n    $urlRouterProvider.otherwise('/users');\r\n}\r\n\r\nfunction AppRun() {\r\n\r\n}\r\n\r\nAppUsersModule    \r\n    .component('users', UsersComponent)\r\n    .factory('userService', UserService);\r\n\r\nexport default AppUsersModule.name;\r\n"]}